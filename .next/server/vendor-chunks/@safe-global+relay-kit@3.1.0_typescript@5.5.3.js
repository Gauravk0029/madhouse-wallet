"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@safe-global+relay-kit@3.1.0_typescript@5.5.3";
exports.ids = ["vendor-chunks/@safe-global+relay-kit@3.1.0_typescript@5.5.3"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/RelayKitBasePack.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/RelayKitBasePack.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RelayKitBasePack = void 0;\n/**\n * Abstract class. The base class for all RelayKit packs.\n * It provides the Safe SDK instance and the abstract methods to be implemented by the packs.\n * @abstract\n * @template EstimateFeeProps\n * @template EstimateFeeResult\n * @template CreateTransactionProps\n * @template CreateTransactionResult,\n * @template ExecuteTransactionProps\n * @template ExecuteTransactionResult\n */\nclass RelayKitBasePack {\n    /**\n     * Creates a new RelayKitBasePack instance.\n     * The packs implemented using our SDK should extend this class and therefore provide a Safe SDK instance\n     * @param {Safe} protocolKit - The Safe SDK instance\n     */\n    constructor(protocolKit) {\n        this.protocolKit = protocolKit;\n    }\n}\nexports.RelayKitBasePack = RelayKitBasePack;\n//# sourceMappingURL=RelayKitBasePack.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL1JlbGF5S2l0QmFzZVBhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsTUFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvUmVsYXlLaXRCYXNlUGFjay5qcz8wZDI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZWxheUtpdEJhc2VQYWNrID0gdm9pZCAwO1xuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcy4gVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBSZWxheUtpdCBwYWNrcy5cbiAqIEl0IHByb3ZpZGVzIHRoZSBTYWZlIFNESyBpbnN0YW5jZSBhbmQgdGhlIGFic3RyYWN0IG1ldGhvZHMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgdGhlIHBhY2tzLlxuICogQGFic3RyYWN0XG4gKiBAdGVtcGxhdGUgRXN0aW1hdGVGZWVQcm9wc1xuICogQHRlbXBsYXRlIEVzdGltYXRlRmVlUmVzdWx0XG4gKiBAdGVtcGxhdGUgQ3JlYXRlVHJhbnNhY3Rpb25Qcm9wc1xuICogQHRlbXBsYXRlIENyZWF0ZVRyYW5zYWN0aW9uUmVzdWx0LFxuICogQHRlbXBsYXRlIEV4ZWN1dGVUcmFuc2FjdGlvblByb3BzXG4gKiBAdGVtcGxhdGUgRXhlY3V0ZVRyYW5zYWN0aW9uUmVzdWx0XG4gKi9cbmNsYXNzIFJlbGF5S2l0QmFzZVBhY2sge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgUmVsYXlLaXRCYXNlUGFjayBpbnN0YW5jZS5cbiAgICAgKiBUaGUgcGFja3MgaW1wbGVtZW50ZWQgdXNpbmcgb3VyIFNESyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MgYW5kIHRoZXJlZm9yZSBwcm92aWRlIGEgU2FmZSBTREsgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1NhZmV9IHByb3RvY29sS2l0IC0gVGhlIFNhZmUgU0RLIGluc3RhbmNlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvdG9jb2xLaXQpIHtcbiAgICAgICAgdGhpcy5wcm90b2NvbEtpdCA9IHByb3RvY29sS2l0O1xuICAgIH1cbn1cbmV4cG9ydHMuUmVsYXlLaXRCYXNlUGFjayA9IFJlbGF5S2l0QmFzZVBhY2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWxheUtpdEJhc2VQYWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/RelayKitBasePack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/constants.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/constants.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GELATO_TRANSFER_GAS_COST = exports.GELATO_GAS_EXECUTION_OVERHEAD = exports.ZERO_ADDRESS = exports.GELATO_RELAY_URL = exports.GELATO_FEE_COLLECTOR = exports.GELATO_NATIVE_TOKEN_ADDRESS = void 0;\nexports.GELATO_NATIVE_TOKEN_ADDRESS = '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE';\nexports.GELATO_FEE_COLLECTOR = '0x3AC05161b76a35c1c28dC99Aa01BEd7B24cEA3bf';\nexports.GELATO_RELAY_URL = 'https://relay.gelato.digital';\nexports.ZERO_ADDRESS = '0x0000000000000000000000000000000000000000';\n// see: https://docs.gelato.network/developer-services/relay/quick-start/optional-parameters#optional-parameters\nexports.GELATO_GAS_EXECUTION_OVERHEAD = 150000;\n// gas cost of the separate ERC20 transfer to pay the fees to the Gelato relayer\nexports.GELATO_TRANSFER_GAS_COST = 15000;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0MsR0FBRyxxQ0FBcUMsR0FBRyxvQkFBb0IsR0FBRyx3QkFBd0IsR0FBRyw0QkFBNEIsR0FBRyxtQ0FBbUM7QUFDL0wsbUNBQW1DO0FBQ25DLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsb0JBQW9CO0FBQ3BCO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0EsZ0NBQWdDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvY29uc3RhbnRzLmpzP2FmZGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdFTEFUT19UUkFOU0ZFUl9HQVNfQ09TVCA9IGV4cG9ydHMuR0VMQVRPX0dBU19FWEVDVVRJT05fT1ZFUkhFQUQgPSBleHBvcnRzLlpFUk9fQUREUkVTUyA9IGV4cG9ydHMuR0VMQVRPX1JFTEFZX1VSTCA9IGV4cG9ydHMuR0VMQVRPX0ZFRV9DT0xMRUNUT1IgPSBleHBvcnRzLkdFTEFUT19OQVRJVkVfVE9LRU5fQUREUkVTUyA9IHZvaWQgMDtcbmV4cG9ydHMuR0VMQVRPX05BVElWRV9UT0tFTl9BRERSRVNTID0gJzB4RWVlZWVFZWVlRWVFZWVFZUVlRWVlRUVFZWVlZUVlZWVlZWVlRUVlRSc7XG5leHBvcnRzLkdFTEFUT19GRUVfQ09MTEVDVE9SID0gJzB4M0FDMDUxNjFiNzZhMzVjMWMyOGRDOTlBYTAxQkVkN0IyNGNFQTNiZic7XG5leHBvcnRzLkdFTEFUT19SRUxBWV9VUkwgPSAnaHR0cHM6Ly9yZWxheS5nZWxhdG8uZGlnaXRhbCc7XG5leHBvcnRzLlpFUk9fQUREUkVTUyA9ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnO1xuLy8gc2VlOiBodHRwczovL2RvY3MuZ2VsYXRvLm5ldHdvcmsvZGV2ZWxvcGVyLXNlcnZpY2VzL3JlbGF5L3F1aWNrLXN0YXJ0L29wdGlvbmFsLXBhcmFtZXRlcnMjb3B0aW9uYWwtcGFyYW1ldGVyc1xuZXhwb3J0cy5HRUxBVE9fR0FTX0VYRUNVVElPTl9PVkVSSEVBRCA9IDE1MDAwMDtcbi8vIGdhcyBjb3N0IG9mIHRoZSBzZXBhcmF0ZSBFUkMyMCB0cmFuc2ZlciB0byBwYXkgdGhlIGZlZXMgdG8gdGhlIEdlbGF0byByZWxheWVyXG5leHBvcnRzLkdFTEFUT19UUkFOU0ZFUl9HQVNfQ09TVCA9IDE1MDAwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/deprecated.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/deprecated.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=deprecated.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL2RlcHJlY2F0ZWQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYWZlLXBhc3NrZXlzLXR1dG9yaWFsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYWZlLWdsb2JhbCtyZWxheS1raXRAMy4xLjBfdHlwZXNjcmlwdEA1LjUuMy9ub2RlX21vZHVsZXMvQHNhZmUtZ2xvYmFsL3JlbGF5LWtpdC9kaXN0L3NyYy9kZXByZWNhdGVkLmpzPzAzNWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXByZWNhdGVkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/deprecated.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/index.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/index.js ***!
  \********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.EthSafeOperation = void 0;\n__exportStar(__webpack_require__(/*! ./deprecated */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/deprecated.js\"), exports);\n__exportStar(__webpack_require__(/*! ./packs/gelato/GelatoRelayPack */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/GelatoRelayPack.js\"), exports);\n__exportStar(__webpack_require__(/*! ./packs/gelato/types */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./packs/safe-4337/Safe4337Pack */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/Safe4337Pack.js\"), exports);\nvar SafeOperation_1 = __webpack_require__(/*! ./packs/safe-4337/SafeOperation */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/SafeOperation.js\");\nObject.defineProperty(exports, \"EthSafeOperation\", ({ enumerable: true, get: function () { return __importDefault(SafeOperation_1).default; } }));\n__exportStar(__webpack_require__(/*! ./packs/safe-4337/estimators */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./packs/safe-4337/types */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./RelayKitBasePack */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/RelayKitBasePack.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLGFBQWEsbUJBQU8sQ0FBQyx5SkFBYztBQUNuQyxhQUFhLG1CQUFPLENBQUMsNkxBQWdDO0FBQ3JELGFBQWEsbUJBQU8sQ0FBQyx5S0FBc0I7QUFDM0MsYUFBYSxtQkFBTyxDQUFDLDZMQUFnQztBQUNyRCxzQkFBc0IsbUJBQU8sQ0FBQywrTEFBaUM7QUFDL0Qsb0RBQW1ELEVBQUUscUNBQXFDLG9EQUFvRCxFQUFDO0FBQy9JLGFBQWEsbUJBQU8sQ0FBQywrTEFBOEI7QUFDbkQsYUFBYSxtQkFBTyxDQUFDLCtLQUF5QjtBQUM5QyxhQUFhLG1CQUFPLENBQUMscUtBQW9CO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvaW5kZXguanM/YzhhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FdGhTYWZlT3BlcmF0aW9uID0gdm9pZCAwO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2RlcHJlY2F0ZWRcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhY2tzL2dlbGF0by9HZWxhdG9SZWxheVBhY2tcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhY2tzL2dlbGF0by90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcGFja3Mvc2FmZS00MzM3L1NhZmU0MzM3UGFja1wiKSwgZXhwb3J0cyk7XG52YXIgU2FmZU9wZXJhdGlvbl8xID0gcmVxdWlyZShcIi4vcGFja3Mvc2FmZS00MzM3L1NhZmVPcGVyYXRpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFdGhTYWZlT3BlcmF0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoU2FmZU9wZXJhdGlvbl8xKS5kZWZhdWx0OyB9IH0pO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BhY2tzL3NhZmUtNDMzNy9lc3RpbWF0b3JzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9wYWNrcy9zYWZlLTQzMzcvdHlwZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1JlbGF5S2l0QmFzZVBhY2tcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/GelatoRelayPack.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/GelatoRelayPack.js ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _GelatoRelayPack_gelatoRelay, _GelatoRelayPack_apiKey;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GelatoRelayPack = void 0;\nconst relay_sdk_1 = __webpack_require__(/*! @gelatonetwork/relay-sdk */ \"(ssr)/./node_modules/.pnpm/@gelatonetwork+relay-sdk@5.5.6/node_modules/@gelatonetwork/relay-sdk/dist/index.js\");\nconst protocol_kit_1 = __webpack_require__(/*! @safe-global/protocol-kit */ \"(ssr)/./node_modules/.pnpm/@safe-global+protocol-kit@4.1.0_typescript@5.5.3/node_modules/@safe-global/protocol-kit/dist/src/index.js\");\nconst RelayKitBasePack_1 = __webpack_require__(/*! ../../RelayKitBasePack */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/RelayKitBasePack.js\");\nconst constants_1 = __webpack_require__(/*! ../../constants */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/constants.js\");\nclass GelatoRelayPack extends RelayKitBasePack_1.RelayKitBasePack {\n    constructor({ apiKey, protocolKit }) {\n        super(protocolKit);\n        _GelatoRelayPack_gelatoRelay.set(this, void 0);\n        _GelatoRelayPack_apiKey.set(this, void 0);\n        __classPrivateFieldSet(this, _GelatoRelayPack_gelatoRelay, new relay_sdk_1.GelatoRelay(), \"f\");\n        __classPrivateFieldSet(this, _GelatoRelayPack_apiKey, apiKey, \"f\");\n    }\n    _getFeeToken(gasToken) {\n        return !gasToken || gasToken === constants_1.ZERO_ADDRESS ? constants_1.GELATO_NATIVE_TOKEN_ADDRESS : gasToken;\n    }\n    getFeeCollector() {\n        return constants_1.GELATO_FEE_COLLECTOR;\n    }\n    async getEstimateFee(propsOrChainId, inputGasLimit, inputGasToken) {\n        let chainId;\n        let gasLimit;\n        let gasToken;\n        if (typeof propsOrChainId === 'object') {\n            ;\n            ({ chainId, gasLimit, gasToken } = propsOrChainId);\n        }\n        else {\n            chainId = propsOrChainId;\n            gasLimit = inputGasLimit;\n            gasToken = inputGasToken;\n        }\n        const feeToken = this._getFeeToken(gasToken);\n        const estimation = await __classPrivateFieldGet(this, _GelatoRelayPack_gelatoRelay, \"f\").getEstimatedFee(chainId, feeToken, BigInt(gasLimit), false);\n        return estimation.toString();\n    }\n    async getTaskStatus(taskId) {\n        return __classPrivateFieldGet(this, _GelatoRelayPack_gelatoRelay, \"f\").getTaskStatus(taskId);\n    }\n    /**\n     * Creates a payment transaction to Gelato\n     *\n     * @private\n     * @async\n     * @function\n     * @param {string} gas - The gas amount for the payment.\n     * @param {MetaTransactionOptions} options - Options for the meta transaction.\n     * @returns {Promise<Transaction>} Promise object representing the created payment transaction.\n     *\n     */\n    async createPaymentToGelato(gas, options) {\n        const chainId = await this.protocolKit.getChainId();\n        const gelatoAddress = this.getFeeCollector();\n        const gasToken = options.gasToken ?? constants_1.ZERO_ADDRESS;\n        const paymentToGelato = await this.getEstimateFee({ chainId, gasLimit: gas, gasToken });\n        // The Gelato payment transaction\n        const transferToGelato = (0, protocol_kit_1.createERC20TokenTransferTransaction)(gasToken, gelatoAddress, paymentToGelato);\n        return transferToGelato;\n    }\n    /**\n     * @deprecated Use createTransaction instead\n     */\n    async createRelayedTransaction({ transactions, onlyCalls = false, options = {} }) {\n        return this.createTransaction({ transactions, onlyCalls, options });\n    }\n    /**\n     * Creates a Safe transaction designed to be executed using the Gelato Relayer.\n     *\n     * @param {GelatoCreateTransactionProps} options - Options for Gelato.\n     * @param {MetaTransactionData[]} [options.transactions] - The transactions batch.\n     * @param {boolean} [options.onlyCalls=false] - If true, MultiSendCallOnly contract should be used. Remember to not use delegate calls in the batch.\n     * @param {MetaTransactionOptions} [options.options={}] - Gas Options for the transaction batch.\n     * @returns {Promise<SafeTransaction>} Returns a Promise that resolves with a SafeTransaction object.\n     */\n    async createTransaction({ transactions, onlyCalls = false, options = {} }) {\n        const { isSponsored = false } = options;\n        if (isSponsored) {\n            const nonce = await this.protocolKit.getNonce();\n            const sponsoredTransaction = await this.protocolKit.createTransaction({\n                transactions,\n                onlyCalls,\n                options: {\n                    nonce\n                }\n            });\n            return sponsoredTransaction;\n        }\n        // If the ERC20 gas token does not follow the standard 18 decimals, we cannot use handlePayment to pay Gelato fees.\n        const gasToken = options.gasToken ?? constants_1.ZERO_ADDRESS;\n        const isGasTokenCompatible = await (0, protocol_kit_1.isGasTokenCompatibleWithHandlePayment)(gasToken, this.protocolKit);\n        if (!isGasTokenCompatible) {\n            // if the ERC20 gas token is not compatible (less than 18 decimals like USDC), a separate transfer is required to pay Gelato fees.\n            return this.createTransactionWithTransfer({ transactions, onlyCalls, options });\n        }\n        // If the gas token is compatible (Native token or standard ERC20), we use handlePayment function present in the Safe contract to pay Gelato fees\n        return this.createTransactionWithHandlePayment({ transactions, onlyCalls, options });\n    }\n    /**\n     * Creates a Safe transaction designed to be executed using the Gelato Relayer and\n     * uses the handlePayment function defined in the Safe contract to pay the fees\n     * to the Gelato relayer.\n     *\n     * @async\n     * @function createTransactionWithHandlePayment\n     * @param {GelatoCreateTransactionProps} options - Options for Gelato.\n     * @param {MetaTransactionData[]} [options.transactions] - The transactions batch.\n     * @param {boolean} [options.onlyCalls=false] - If true, MultiSendCallOnly contract should be used. Remember to not use delegate calls in the batch.\n     * @param {MetaTransactionOptions} [options.options={}] - Gas Options for the transaction batch.\n     * @returns {Promise<SafeTransaction>} Returns a promise that resolves to the created SafeTransaction.\n     * @private\n     */\n    async createTransactionWithHandlePayment({ transactions, onlyCalls = false, options = {} }) {\n        const { gasLimit } = options;\n        const nonce = await this.protocolKit.getNonce();\n        // this transaction is only used for gas estimations\n        const transactionToEstimateGas = await this.protocolKit.createTransaction({\n            transactions,\n            onlyCalls,\n            options: {\n                nonce\n            }\n        });\n        // as we set gasPrice to 1, safeTxGas is set to a non-zero value to prevent transaction failure due to out-of-gas errors. value see: https://github.com/safe-global/safe-contracts/blob/main/contracts/Safe.sol#L203\n        const gasPrice = '1';\n        const safeTxGas = await (0, protocol_kit_1.estimateSafeTxGas)(this.protocolKit, transactionToEstimateGas);\n        const gasToken = options.gasToken ?? constants_1.ZERO_ADDRESS;\n        const refundReceiver = this.getFeeCollector();\n        const chainId = await this.protocolKit.getChainId();\n        // if a custom gasLimit is provided, we do not need to estimate the gas cost\n        if (gasLimit) {\n            const paymentToGelato = await this.getEstimateFee({ chainId, gasLimit, gasToken });\n            const syncTransaction = await this.protocolKit.createTransaction({\n                transactions,\n                onlyCalls,\n                options: {\n                    baseGas: paymentToGelato,\n                    gasPrice,\n                    safeTxGas,\n                    gasToken,\n                    refundReceiver,\n                    nonce\n                }\n            });\n            return syncTransaction;\n        }\n        // If gasLimit is not provided, we need to estimate the gas cost.\n        const baseGas = await (0, protocol_kit_1.estimateTxBaseGas)(this.protocolKit, transactionToEstimateGas);\n        const safeDeploymentGasCost = await (0, protocol_kit_1.estimateSafeDeploymentGas)(this.protocolKit);\n        const totalGas = Number(baseGas) + // baseGas\n            Number(safeTxGas) + // safeTxGas\n            Number(safeDeploymentGasCost) + // Safe deploymet gas cost if it is required\n            constants_1.GELATO_GAS_EXECUTION_OVERHEAD; // Gelato execution overhead\n        const paymentToGelato = await this.getEstimateFee({\n            chainId,\n            gasLimit: String(totalGas),\n            gasToken\n        });\n        const syncTransaction = await this.protocolKit.createTransaction({\n            transactions,\n            onlyCalls,\n            options: {\n                baseGas: paymentToGelato, // payment to Gelato\n                gasPrice,\n                safeTxGas,\n                gasToken,\n                refundReceiver,\n                nonce\n            }\n        });\n        return syncTransaction;\n    }\n    /**\n     * Creates a Safe transaction designed to be executed using the Gelato Relayer and\n     * uses a separate ERC20 transfer to pay the fees to the Gelato relayer.\n     *\n     * @async\n     * @function createTransactionWithTransfer\n     * @param {GelatoCreateTransactionProps} options - Options for Gelato.\n     * @param {MetaTransactionData[]} [options.transactions] - The transactions batch.\n     * @param {boolean} [options.onlyCalls=false] - If true, MultiSendCallOnly contract should be used. Remember to not use delegate calls in the batch.\n     * @param {MetaTransactionOptions} [options.options={}] - Gas Options for the transaction batch.\n     * @returns {Promise<SafeTransaction>} Returns a promise that resolves to the created SafeTransaction.\n     * @private\n     */\n    async createTransactionWithTransfer({ transactions, onlyCalls = false, options = {} }) {\n        const { gasLimit } = options;\n        const nonce = await this.protocolKit.getNonce();\n        const gasToken = options.gasToken ?? constants_1.ZERO_ADDRESS;\n        // if a custom gasLimit is provided, we do not need to estimate the gas cost\n        if (gasLimit) {\n            const transferToGelato = await this.createPaymentToGelato(gasLimit, options);\n            const syncTransaction = await this.protocolKit.createTransaction({\n                transactions: [...transactions, transferToGelato],\n                onlyCalls,\n                options: {\n                    nonce,\n                    gasToken\n                }\n            });\n            return syncTransaction;\n        }\n        // If gasLimit is not provided, we need to estimate the gas cost.\n        // this transaction is only used for gas estimations\n        const transactionToEstimateGas = await this.protocolKit.createTransaction({\n            transactions,\n            onlyCalls,\n            options: {\n                nonce\n            }\n        });\n        const safeTxGas = await (0, protocol_kit_1.estimateSafeTxGas)(this.protocolKit, transactionToEstimateGas);\n        const baseGas = await (0, protocol_kit_1.estimateTxBaseGas)(this.protocolKit, transactionToEstimateGas);\n        const safeDeploymentGasCost = await (0, protocol_kit_1.estimateSafeDeploymentGas)(this.protocolKit);\n        const totalGas = Number(baseGas) + // baseGas\n            Number(safeTxGas) + // safeTxGas without Gelato payment transfer\n            Number(safeDeploymentGasCost) + // Safe deploymet gas cost if it is required\n            constants_1.GELATO_TRANSFER_GAS_COST + // Gelato payment transfer\n            constants_1.GELATO_GAS_EXECUTION_OVERHEAD; // Gelato execution overhead\n        const transferToGelato = await this.createPaymentToGelato(String(totalGas), options);\n        const syncTransaction = await this.protocolKit.createTransaction({\n            transactions: [...transactions, transferToGelato],\n            onlyCalls,\n            options: {\n                nonce,\n                gasToken\n            }\n        });\n        return syncTransaction;\n    }\n    async sendSponsorTransaction(target, encodedTransaction, chainId) {\n        if (!__classPrivateFieldGet(this, _GelatoRelayPack_apiKey, \"f\")) {\n            throw new Error('API key not defined');\n        }\n        const request = {\n            chainId,\n            target,\n            data: encodedTransaction\n        };\n        const response = await __classPrivateFieldGet(this, _GelatoRelayPack_gelatoRelay, \"f\").sponsoredCall(request, __classPrivateFieldGet(this, _GelatoRelayPack_apiKey, \"f\"));\n        return response;\n    }\n    async sendSyncTransaction(target, encodedTransaction, chainId, options) {\n        const { gasLimit, gasToken } = options;\n        const feeToken = this._getFeeToken(gasToken);\n        const request = {\n            chainId,\n            target,\n            data: encodedTransaction,\n            feeToken,\n            isRelayContext: false\n        };\n        const relayRequestOptions = {\n            gasLimit: gasLimit ? BigInt(gasLimit) : undefined\n        };\n        const response = await __classPrivateFieldGet(this, _GelatoRelayPack_gelatoRelay, \"f\").callWithSyncFee(request, relayRequestOptions);\n        return response;\n    }\n    async relayTransaction({ target, encodedTransaction, chainId, options = {} }) {\n        const response = options.isSponsored\n            ? this.sendSponsorTransaction(target, encodedTransaction, chainId)\n            : this.sendSyncTransaction(target, encodedTransaction, chainId, options);\n        return response;\n    }\n    /**\n     * @deprecated Use executeTransaction instead\n     */\n    async executeRelayTransaction(safeTransaction, options) {\n        return this.executeTransaction({ executable: safeTransaction, options });\n    }\n    /**\n     * Sends the Safe transaction to the Gelato Relayer for execution.\n     * If the Safe is not deployed, it creates a batch of transactions including the Safe deployment transaction.\n     *\n     * @param {GelatoExecuteTransactionProps} props - Execution props\n     * @param {SafeTransaction} props.executable - The Safe transaction to be executed.\n     * @param {MetaTransactionOptions} props.options - Options for the transaction.\n     * @returns {Promise<RelayResponse>} Returns a Promise that resolves with a RelayResponse object.\n     */\n    async executeTransaction({ executable: safeTransaction, options }) {\n        const isSafeDeployed = await this.protocolKit.isSafeDeployed();\n        const chainId = await this.protocolKit.getChainId();\n        const safeAddress = await this.protocolKit.getAddress();\n        const safeTransactionEncodedData = await this.protocolKit.getEncodedTransaction(safeTransaction);\n        const gasToken = options?.gasToken || safeTransaction.data.gasToken;\n        if (isSafeDeployed) {\n            const relayTransaction = {\n                target: safeAddress,\n                encodedTransaction: safeTransactionEncodedData,\n                chainId,\n                options: {\n                    ...options,\n                    gasToken\n                }\n            };\n            return this.relayTransaction(relayTransaction);\n        }\n        // if the Safe is not deployed we create a batch with the Safe deployment transaction and the provided Safe transaction\n        const safeDeploymentBatch = await this.protocolKit.wrapSafeTransactionIntoDeploymentBatch(safeTransaction);\n        const relayTransaction = {\n            target: safeDeploymentBatch.to, // multiSend Contract address\n            encodedTransaction: safeDeploymentBatch.data,\n            chainId,\n            options: {\n                ...options,\n                gasToken\n            }\n        };\n        return this.relayTransaction(relayTransaction);\n    }\n}\nexports.GelatoRelayPack = GelatoRelayPack;\n_GelatoRelayPack_gelatoRelay = new WeakMap(), _GelatoRelayPack_apiKey = new WeakMap();\n//# sourceMappingURL=GelatoRelayPack.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL2dlbGF0by9HZWxhdG9SZWxheVBhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLG9CQUFvQixtQkFBTyxDQUFDLCtJQUEwQjtBQUN0RCx1QkFBdUIsbUJBQU8sQ0FBQyx1S0FBMkI7QUFDMUQsMkJBQTJCLG1CQUFPLENBQUMseUtBQXdCO0FBQzNELG9CQUFvQixtQkFBTyxDQUFDLDJKQUFpQjtBQUM3QztBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4QkFBOEI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSx3QkFBd0I7QUFDdkMsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsa0NBQWtDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLCtDQUErQztBQUNwRix3Q0FBd0Msa0NBQWtDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4QkFBOEI7QUFDN0MsZUFBZSx1QkFBdUI7QUFDdEMsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsd0JBQXdCLG1CQUFtQjtBQUMxRCxpQkFBaUIsMEJBQTBCO0FBQzNDO0FBQ0EsOEJBQThCLCtDQUErQztBQUM3RSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsa0NBQWtDO0FBQzFGO0FBQ0E7QUFDQSx5REFBeUQsa0NBQWtDO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhCQUE4QjtBQUM3QyxlQUFlLHVCQUF1QjtBQUN0QyxlQUFlLFNBQVM7QUFDeEIsZUFBZSx3QkFBd0IsbUJBQW1CO0FBQzFELGlCQUFpQiwwQkFBMEI7QUFDM0M7QUFDQTtBQUNBLCtDQUErQywrQ0FBK0M7QUFDOUYsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDZCQUE2QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4QkFBOEI7QUFDN0MsZUFBZSx1QkFBdUI7QUFDdEMsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsd0JBQXdCLG1CQUFtQjtBQUMxRCxpQkFBaUIsMEJBQTBCO0FBQzNDO0FBQ0E7QUFDQSwwQ0FBMEMsK0NBQStDO0FBQ3pGLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtREFBbUQ7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHNDQUFzQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrQkFBK0I7QUFDOUMsZUFBZSxpQkFBaUI7QUFDaEMsZUFBZSx3QkFBd0I7QUFDdkMsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBLCtCQUErQixzQ0FBc0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NhZmUtcGFzc2tleXMtdHV0b3JpYWwvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL2dlbGF0by9HZWxhdG9SZWxheVBhY2suanM/NTVmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfR2VsYXRvUmVsYXlQYWNrX2dlbGF0b1JlbGF5LCBfR2VsYXRvUmVsYXlQYWNrX2FwaUtleTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2VsYXRvUmVsYXlQYWNrID0gdm9pZCAwO1xuY29uc3QgcmVsYXlfc2RrXzEgPSByZXF1aXJlKFwiQGdlbGF0b25ldHdvcmsvcmVsYXktc2RrXCIpO1xuY29uc3QgcHJvdG9jb2xfa2l0XzEgPSByZXF1aXJlKFwiQHNhZmUtZ2xvYmFsL3Byb3RvY29sLWtpdFwiKTtcbmNvbnN0IFJlbGF5S2l0QmFzZVBhY2tfMSA9IHJlcXVpcmUoXCIuLi8uLi9SZWxheUtpdEJhc2VQYWNrXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi4vLi4vY29uc3RhbnRzXCIpO1xuY2xhc3MgR2VsYXRvUmVsYXlQYWNrIGV4dGVuZHMgUmVsYXlLaXRCYXNlUGFja18xLlJlbGF5S2l0QmFzZVBhY2sge1xuICAgIGNvbnN0cnVjdG9yKHsgYXBpS2V5LCBwcm90b2NvbEtpdCB9KSB7XG4gICAgICAgIHN1cGVyKHByb3RvY29sS2l0KTtcbiAgICAgICAgX0dlbGF0b1JlbGF5UGFja19nZWxhdG9SZWxheS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0dlbGF0b1JlbGF5UGFja19hcGlLZXkuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0dlbGF0b1JlbGF5UGFja19nZWxhdG9SZWxheSwgbmV3IHJlbGF5X3Nka18xLkdlbGF0b1JlbGF5KCksIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfR2VsYXRvUmVsYXlQYWNrX2FwaUtleSwgYXBpS2V5LCBcImZcIik7XG4gICAgfVxuICAgIF9nZXRGZWVUb2tlbihnYXNUb2tlbikge1xuICAgICAgICByZXR1cm4gIWdhc1Rva2VuIHx8IGdhc1Rva2VuID09PSBjb25zdGFudHNfMS5aRVJPX0FERFJFU1MgPyBjb25zdGFudHNfMS5HRUxBVE9fTkFUSVZFX1RPS0VOX0FERFJFU1MgOiBnYXNUb2tlbjtcbiAgICB9XG4gICAgZ2V0RmVlQ29sbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuR0VMQVRPX0ZFRV9DT0xMRUNUT1I7XG4gICAgfVxuICAgIGFzeW5jIGdldEVzdGltYXRlRmVlKHByb3BzT3JDaGFpbklkLCBpbnB1dEdhc0xpbWl0LCBpbnB1dEdhc1Rva2VuKSB7XG4gICAgICAgIGxldCBjaGFpbklkO1xuICAgICAgICBsZXQgZ2FzTGltaXQ7XG4gICAgICAgIGxldCBnYXNUb2tlbjtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wc09yQ2hhaW5JZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgICh7IGNoYWluSWQsIGdhc0xpbWl0LCBnYXNUb2tlbiB9ID0gcHJvcHNPckNoYWluSWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhaW5JZCA9IHByb3BzT3JDaGFpbklkO1xuICAgICAgICAgICAgZ2FzTGltaXQgPSBpbnB1dEdhc0xpbWl0O1xuICAgICAgICAgICAgZ2FzVG9rZW4gPSBpbnB1dEdhc1Rva2VuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZlZVRva2VuID0gdGhpcy5fZ2V0RmVlVG9rZW4oZ2FzVG9rZW4pO1xuICAgICAgICBjb25zdCBlc3RpbWF0aW9uID0gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfR2VsYXRvUmVsYXlQYWNrX2dlbGF0b1JlbGF5LCBcImZcIikuZ2V0RXN0aW1hdGVkRmVlKGNoYWluSWQsIGZlZVRva2VuLCBCaWdJbnQoZ2FzTGltaXQpLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBlc3RpbWF0aW9uLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldFRhc2tTdGF0dXModGFza0lkKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9HZWxhdG9SZWxheVBhY2tfZ2VsYXRvUmVsYXksIFwiZlwiKS5nZXRUYXNrU3RhdHVzKHRhc2tJZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwYXltZW50IHRyYW5zYWN0aW9uIHRvIEdlbGF0b1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ2FzIC0gVGhlIGdhcyBhbW91bnQgZm9yIHRoZSBwYXltZW50LlxuICAgICAqIEBwYXJhbSB7TWV0YVRyYW5zYWN0aW9uT3B0aW9uc30gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBtZXRhIHRyYW5zYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFRyYW5zYWN0aW9uPn0gUHJvbWlzZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjcmVhdGVkIHBheW1lbnQgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVQYXltZW50VG9HZWxhdG8oZ2FzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmdldENoYWluSWQoKTtcbiAgICAgICAgY29uc3QgZ2VsYXRvQWRkcmVzcyA9IHRoaXMuZ2V0RmVlQ29sbGVjdG9yKCk7XG4gICAgICAgIGNvbnN0IGdhc1Rva2VuID0gb3B0aW9ucy5nYXNUb2tlbiA/PyBjb25zdGFudHNfMS5aRVJPX0FERFJFU1M7XG4gICAgICAgIGNvbnN0IHBheW1lbnRUb0dlbGF0byA9IGF3YWl0IHRoaXMuZ2V0RXN0aW1hdGVGZWUoeyBjaGFpbklkLCBnYXNMaW1pdDogZ2FzLCBnYXNUb2tlbiB9KTtcbiAgICAgICAgLy8gVGhlIEdlbGF0byBwYXltZW50IHRyYW5zYWN0aW9uXG4gICAgICAgIGNvbnN0IHRyYW5zZmVyVG9HZWxhdG8gPSAoMCwgcHJvdG9jb2xfa2l0XzEuY3JlYXRlRVJDMjBUb2tlblRyYW5zZmVyVHJhbnNhY3Rpb24pKGdhc1Rva2VuLCBnZWxhdG9BZGRyZXNzLCBwYXltZW50VG9HZWxhdG8pO1xuICAgICAgICByZXR1cm4gdHJhbnNmZXJUb0dlbGF0bztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGNyZWF0ZVRyYW5zYWN0aW9uIGluc3RlYWRcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVSZWxheWVkVHJhbnNhY3Rpb24oeyB0cmFuc2FjdGlvbnMsIG9ubHlDYWxscyA9IGZhbHNlLCBvcHRpb25zID0ge30gfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVUcmFuc2FjdGlvbih7IHRyYW5zYWN0aW9ucywgb25seUNhbGxzLCBvcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgU2FmZSB0cmFuc2FjdGlvbiBkZXNpZ25lZCB0byBiZSBleGVjdXRlZCB1c2luZyB0aGUgR2VsYXRvIFJlbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dlbGF0b0NyZWF0ZVRyYW5zYWN0aW9uUHJvcHN9IG9wdGlvbnMgLSBPcHRpb25zIGZvciBHZWxhdG8uXG4gICAgICogQHBhcmFtIHtNZXRhVHJhbnNhY3Rpb25EYXRhW119IFtvcHRpb25zLnRyYW5zYWN0aW9uc10gLSBUaGUgdHJhbnNhY3Rpb25zIGJhdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMub25seUNhbGxzPWZhbHNlXSAtIElmIHRydWUsIE11bHRpU2VuZENhbGxPbmx5IGNvbnRyYWN0IHNob3VsZCBiZSB1c2VkLiBSZW1lbWJlciB0byBub3QgdXNlIGRlbGVnYXRlIGNhbGxzIGluIHRoZSBiYXRjaC5cbiAgICAgKiBAcGFyYW0ge01ldGFUcmFuc2FjdGlvbk9wdGlvbnN9IFtvcHRpb25zLm9wdGlvbnM9e31dIC0gR2FzIE9wdGlvbnMgZm9yIHRoZSB0cmFuc2FjdGlvbiBiYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTYWZlVHJhbnNhY3Rpb24+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBTYWZlVHJhbnNhY3Rpb24gb2JqZWN0LlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVRyYW5zYWN0aW9uKHsgdHJhbnNhY3Rpb25zLCBvbmx5Q2FsbHMgPSBmYWxzZSwgb3B0aW9ucyA9IHt9IH0pIHtcbiAgICAgICAgY29uc3QgeyBpc1Nwb25zb3JlZCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoaXNTcG9uc29yZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vbmNlID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5nZXROb25jZSgpO1xuICAgICAgICAgICAgY29uc3Qgc3BvbnNvcmVkVHJhbnNhY3Rpb24gPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmNyZWF0ZVRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnMsXG4gICAgICAgICAgICAgICAgb25seUNhbGxzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbm9uY2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzcG9uc29yZWRUcmFuc2FjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgRVJDMjAgZ2FzIHRva2VuIGRvZXMgbm90IGZvbGxvdyB0aGUgc3RhbmRhcmQgMTggZGVjaW1hbHMsIHdlIGNhbm5vdCB1c2UgaGFuZGxlUGF5bWVudCB0byBwYXkgR2VsYXRvIGZlZXMuXG4gICAgICAgIGNvbnN0IGdhc1Rva2VuID0gb3B0aW9ucy5nYXNUb2tlbiA/PyBjb25zdGFudHNfMS5aRVJPX0FERFJFU1M7XG4gICAgICAgIGNvbnN0IGlzR2FzVG9rZW5Db21wYXRpYmxlID0gYXdhaXQgKDAsIHByb3RvY29sX2tpdF8xLmlzR2FzVG9rZW5Db21wYXRpYmxlV2l0aEhhbmRsZVBheW1lbnQpKGdhc1Rva2VuLCB0aGlzLnByb3RvY29sS2l0KTtcbiAgICAgICAgaWYgKCFpc0dhc1Rva2VuQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIEVSQzIwIGdhcyB0b2tlbiBpcyBub3QgY29tcGF0aWJsZSAobGVzcyB0aGFuIDE4IGRlY2ltYWxzIGxpa2UgVVNEQyksIGEgc2VwYXJhdGUgdHJhbnNmZXIgaXMgcmVxdWlyZWQgdG8gcGF5IEdlbGF0byBmZWVzLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVHJhbnNhY3Rpb25XaXRoVHJhbnNmZXIoeyB0cmFuc2FjdGlvbnMsIG9ubHlDYWxscywgb3B0aW9ucyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgZ2FzIHRva2VuIGlzIGNvbXBhdGlibGUgKE5hdGl2ZSB0b2tlbiBvciBzdGFuZGFyZCBFUkMyMCksIHdlIHVzZSBoYW5kbGVQYXltZW50IGZ1bmN0aW9uIHByZXNlbnQgaW4gdGhlIFNhZmUgY29udHJhY3QgdG8gcGF5IEdlbGF0byBmZWVzXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVRyYW5zYWN0aW9uV2l0aEhhbmRsZVBheW1lbnQoeyB0cmFuc2FjdGlvbnMsIG9ubHlDYWxscywgb3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFNhZmUgdHJhbnNhY3Rpb24gZGVzaWduZWQgdG8gYmUgZXhlY3V0ZWQgdXNpbmcgdGhlIEdlbGF0byBSZWxheWVyIGFuZFxuICAgICAqIHVzZXMgdGhlIGhhbmRsZVBheW1lbnQgZnVuY3Rpb24gZGVmaW5lZCBpbiB0aGUgU2FmZSBjb250cmFjdCB0byBwYXkgdGhlIGZlZXNcbiAgICAgKiB0byB0aGUgR2VsYXRvIHJlbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAZnVuY3Rpb24gY3JlYXRlVHJhbnNhY3Rpb25XaXRoSGFuZGxlUGF5bWVudFxuICAgICAqIEBwYXJhbSB7R2VsYXRvQ3JlYXRlVHJhbnNhY3Rpb25Qcm9wc30gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIEdlbGF0by5cbiAgICAgKiBAcGFyYW0ge01ldGFUcmFuc2FjdGlvbkRhdGFbXX0gW29wdGlvbnMudHJhbnNhY3Rpb25zXSAtIFRoZSB0cmFuc2FjdGlvbnMgYmF0Y2guXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5vbmx5Q2FsbHM9ZmFsc2VdIC0gSWYgdHJ1ZSwgTXVsdGlTZW5kQ2FsbE9ubHkgY29udHJhY3Qgc2hvdWxkIGJlIHVzZWQuIFJlbWVtYmVyIHRvIG5vdCB1c2UgZGVsZWdhdGUgY2FsbHMgaW4gdGhlIGJhdGNoLlxuICAgICAqIEBwYXJhbSB7TWV0YVRyYW5zYWN0aW9uT3B0aW9uc30gW29wdGlvbnMub3B0aW9ucz17fV0gLSBHYXMgT3B0aW9ucyBmb3IgdGhlIHRyYW5zYWN0aW9uIGJhdGNoLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFNhZmVUcmFuc2FjdGlvbj59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGNyZWF0ZWQgU2FmZVRyYW5zYWN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlVHJhbnNhY3Rpb25XaXRoSGFuZGxlUGF5bWVudCh7IHRyYW5zYWN0aW9ucywgb25seUNhbGxzID0gZmFsc2UsIG9wdGlvbnMgPSB7fSB9KSB7XG4gICAgICAgIGNvbnN0IHsgZ2FzTGltaXQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG5vbmNlID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5nZXROb25jZSgpO1xuICAgICAgICAvLyB0aGlzIHRyYW5zYWN0aW9uIGlzIG9ubHkgdXNlZCBmb3IgZ2FzIGVzdGltYXRpb25zXG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uVG9Fc3RpbWF0ZUdhcyA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuY3JlYXRlVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25zLFxuICAgICAgICAgICAgb25seUNhbGxzLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIG5vbmNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBhcyB3ZSBzZXQgZ2FzUHJpY2UgdG8gMSwgc2FmZVR4R2FzIGlzIHNldCB0byBhIG5vbi16ZXJvIHZhbHVlIHRvIHByZXZlbnQgdHJhbnNhY3Rpb24gZmFpbHVyZSBkdWUgdG8gb3V0LW9mLWdhcyBlcnJvcnMuIHZhbHVlIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3NhZmUtZ2xvYmFsL3NhZmUtY29udHJhY3RzL2Jsb2IvbWFpbi9jb250cmFjdHMvU2FmZS5zb2wjTDIwM1xuICAgICAgICBjb25zdCBnYXNQcmljZSA9ICcxJztcbiAgICAgICAgY29uc3Qgc2FmZVR4R2FzID0gYXdhaXQgKDAsIHByb3RvY29sX2tpdF8xLmVzdGltYXRlU2FmZVR4R2FzKSh0aGlzLnByb3RvY29sS2l0LCB0cmFuc2FjdGlvblRvRXN0aW1hdGVHYXMpO1xuICAgICAgICBjb25zdCBnYXNUb2tlbiA9IG9wdGlvbnMuZ2FzVG9rZW4gPz8gY29uc3RhbnRzXzEuWkVST19BRERSRVNTO1xuICAgICAgICBjb25zdCByZWZ1bmRSZWNlaXZlciA9IHRoaXMuZ2V0RmVlQ29sbGVjdG9yKCk7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmdldENoYWluSWQoKTtcbiAgICAgICAgLy8gaWYgYSBjdXN0b20gZ2FzTGltaXQgaXMgcHJvdmlkZWQsIHdlIGRvIG5vdCBuZWVkIHRvIGVzdGltYXRlIHRoZSBnYXMgY29zdFxuICAgICAgICBpZiAoZ2FzTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRUb0dlbGF0byA9IGF3YWl0IHRoaXMuZ2V0RXN0aW1hdGVGZWUoeyBjaGFpbklkLCBnYXNMaW1pdCwgZ2FzVG9rZW4gfSk7XG4gICAgICAgICAgICBjb25zdCBzeW5jVHJhbnNhY3Rpb24gPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmNyZWF0ZVRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnMsXG4gICAgICAgICAgICAgICAgb25seUNhbGxzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZUdhczogcGF5bWVudFRvR2VsYXRvLFxuICAgICAgICAgICAgICAgICAgICBnYXNQcmljZSxcbiAgICAgICAgICAgICAgICAgICAgc2FmZVR4R2FzLFxuICAgICAgICAgICAgICAgICAgICBnYXNUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kUmVjZWl2ZXIsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3luY1RyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGdhc0xpbWl0IGlzIG5vdCBwcm92aWRlZCwgd2UgbmVlZCB0byBlc3RpbWF0ZSB0aGUgZ2FzIGNvc3QuXG4gICAgICAgIGNvbnN0IGJhc2VHYXMgPSBhd2FpdCAoMCwgcHJvdG9jb2xfa2l0XzEuZXN0aW1hdGVUeEJhc2VHYXMpKHRoaXMucHJvdG9jb2xLaXQsIHRyYW5zYWN0aW9uVG9Fc3RpbWF0ZUdhcyk7XG4gICAgICAgIGNvbnN0IHNhZmVEZXBsb3ltZW50R2FzQ29zdCA9IGF3YWl0ICgwLCBwcm90b2NvbF9raXRfMS5lc3RpbWF0ZVNhZmVEZXBsb3ltZW50R2FzKSh0aGlzLnByb3RvY29sS2l0KTtcbiAgICAgICAgY29uc3QgdG90YWxHYXMgPSBOdW1iZXIoYmFzZUdhcykgKyAvLyBiYXNlR2FzXG4gICAgICAgICAgICBOdW1iZXIoc2FmZVR4R2FzKSArIC8vIHNhZmVUeEdhc1xuICAgICAgICAgICAgTnVtYmVyKHNhZmVEZXBsb3ltZW50R2FzQ29zdCkgKyAvLyBTYWZlIGRlcGxveW1ldCBnYXMgY29zdCBpZiBpdCBpcyByZXF1aXJlZFxuICAgICAgICAgICAgY29uc3RhbnRzXzEuR0VMQVRPX0dBU19FWEVDVVRJT05fT1ZFUkhFQUQ7IC8vIEdlbGF0byBleGVjdXRpb24gb3ZlcmhlYWRcbiAgICAgICAgY29uc3QgcGF5bWVudFRvR2VsYXRvID0gYXdhaXQgdGhpcy5nZXRFc3RpbWF0ZUZlZSh7XG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgZ2FzTGltaXQ6IFN0cmluZyh0b3RhbEdhcyksXG4gICAgICAgICAgICBnYXNUb2tlblxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3luY1RyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5jcmVhdGVUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbnMsXG4gICAgICAgICAgICBvbmx5Q2FsbHMsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgYmFzZUdhczogcGF5bWVudFRvR2VsYXRvLCAvLyBwYXltZW50IHRvIEdlbGF0b1xuICAgICAgICAgICAgICAgIGdhc1ByaWNlLFxuICAgICAgICAgICAgICAgIHNhZmVUeEdhcyxcbiAgICAgICAgICAgICAgICBnYXNUb2tlbixcbiAgICAgICAgICAgICAgICByZWZ1bmRSZWNlaXZlcixcbiAgICAgICAgICAgICAgICBub25jZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN5bmNUcmFuc2FjdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFNhZmUgdHJhbnNhY3Rpb24gZGVzaWduZWQgdG8gYmUgZXhlY3V0ZWQgdXNpbmcgdGhlIEdlbGF0byBSZWxheWVyIGFuZFxuICAgICAqIHVzZXMgYSBzZXBhcmF0ZSBFUkMyMCB0cmFuc2ZlciB0byBwYXkgdGhlIGZlZXMgdG8gdGhlIEdlbGF0byByZWxheWVyLlxuICAgICAqXG4gICAgICogQGFzeW5jXG4gICAgICogQGZ1bmN0aW9uIGNyZWF0ZVRyYW5zYWN0aW9uV2l0aFRyYW5zZmVyXG4gICAgICogQHBhcmFtIHtHZWxhdG9DcmVhdGVUcmFuc2FjdGlvblByb3BzfSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgR2VsYXRvLlxuICAgICAqIEBwYXJhbSB7TWV0YVRyYW5zYWN0aW9uRGF0YVtdfSBbb3B0aW9ucy50cmFuc2FjdGlvbnNdIC0gVGhlIHRyYW5zYWN0aW9ucyBiYXRjaC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm9ubHlDYWxscz1mYWxzZV0gLSBJZiB0cnVlLCBNdWx0aVNlbmRDYWxsT25seSBjb250cmFjdCBzaG91bGQgYmUgdXNlZC4gUmVtZW1iZXIgdG8gbm90IHVzZSBkZWxlZ2F0ZSBjYWxscyBpbiB0aGUgYmF0Y2guXG4gICAgICogQHBhcmFtIHtNZXRhVHJhbnNhY3Rpb25PcHRpb25zfSBbb3B0aW9ucy5vcHRpb25zPXt9XSAtIEdhcyBPcHRpb25zIGZvciB0aGUgdHJhbnNhY3Rpb24gYmF0Y2guXG4gICAgICogQHJldHVybnMge1Byb21pc2U8U2FmZVRyYW5zYWN0aW9uPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgY3JlYXRlZCBTYWZlVHJhbnNhY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVUcmFuc2FjdGlvbldpdGhUcmFuc2Zlcih7IHRyYW5zYWN0aW9ucywgb25seUNhbGxzID0gZmFsc2UsIG9wdGlvbnMgPSB7fSB9KSB7XG4gICAgICAgIGNvbnN0IHsgZ2FzTGltaXQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG5vbmNlID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5nZXROb25jZSgpO1xuICAgICAgICBjb25zdCBnYXNUb2tlbiA9IG9wdGlvbnMuZ2FzVG9rZW4gPz8gY29uc3RhbnRzXzEuWkVST19BRERSRVNTO1xuICAgICAgICAvLyBpZiBhIGN1c3RvbSBnYXNMaW1pdCBpcyBwcm92aWRlZCwgd2UgZG8gbm90IG5lZWQgdG8gZXN0aW1hdGUgdGhlIGdhcyBjb3N0XG4gICAgICAgIGlmIChnYXNMaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJUb0dlbGF0byA9IGF3YWl0IHRoaXMuY3JlYXRlUGF5bWVudFRvR2VsYXRvKGdhc0xpbWl0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHN5bmNUcmFuc2FjdGlvbiA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuY3JlYXRlVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogWy4uLnRyYW5zYWN0aW9ucywgdHJhbnNmZXJUb0dlbGF0b10sXG4gICAgICAgICAgICAgICAgb25seUNhbGxzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgIGdhc1Rva2VuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3luY1RyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGdhc0xpbWl0IGlzIG5vdCBwcm92aWRlZCwgd2UgbmVlZCB0byBlc3RpbWF0ZSB0aGUgZ2FzIGNvc3QuXG4gICAgICAgIC8vIHRoaXMgdHJhbnNhY3Rpb24gaXMgb25seSB1c2VkIGZvciBnYXMgZXN0aW1hdGlvbnNcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25Ub0VzdGltYXRlR2FzID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5jcmVhdGVUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbnMsXG4gICAgICAgICAgICBvbmx5Q2FsbHMsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgbm9uY2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNhZmVUeEdhcyA9IGF3YWl0ICgwLCBwcm90b2NvbF9raXRfMS5lc3RpbWF0ZVNhZmVUeEdhcykodGhpcy5wcm90b2NvbEtpdCwgdHJhbnNhY3Rpb25Ub0VzdGltYXRlR2FzKTtcbiAgICAgICAgY29uc3QgYmFzZUdhcyA9IGF3YWl0ICgwLCBwcm90b2NvbF9raXRfMS5lc3RpbWF0ZVR4QmFzZUdhcykodGhpcy5wcm90b2NvbEtpdCwgdHJhbnNhY3Rpb25Ub0VzdGltYXRlR2FzKTtcbiAgICAgICAgY29uc3Qgc2FmZURlcGxveW1lbnRHYXNDb3N0ID0gYXdhaXQgKDAsIHByb3RvY29sX2tpdF8xLmVzdGltYXRlU2FmZURlcGxveW1lbnRHYXMpKHRoaXMucHJvdG9jb2xLaXQpO1xuICAgICAgICBjb25zdCB0b3RhbEdhcyA9IE51bWJlcihiYXNlR2FzKSArIC8vIGJhc2VHYXNcbiAgICAgICAgICAgIE51bWJlcihzYWZlVHhHYXMpICsgLy8gc2FmZVR4R2FzIHdpdGhvdXQgR2VsYXRvIHBheW1lbnQgdHJhbnNmZXJcbiAgICAgICAgICAgIE51bWJlcihzYWZlRGVwbG95bWVudEdhc0Nvc3QpICsgLy8gU2FmZSBkZXBsb3ltZXQgZ2FzIGNvc3QgaWYgaXQgaXMgcmVxdWlyZWRcbiAgICAgICAgICAgIGNvbnN0YW50c18xLkdFTEFUT19UUkFOU0ZFUl9HQVNfQ09TVCArIC8vIEdlbGF0byBwYXltZW50IHRyYW5zZmVyXG4gICAgICAgICAgICBjb25zdGFudHNfMS5HRUxBVE9fR0FTX0VYRUNVVElPTl9PVkVSSEVBRDsgLy8gR2VsYXRvIGV4ZWN1dGlvbiBvdmVyaGVhZFxuICAgICAgICBjb25zdCB0cmFuc2ZlclRvR2VsYXRvID0gYXdhaXQgdGhpcy5jcmVhdGVQYXltZW50VG9HZWxhdG8oU3RyaW5nKHRvdGFsR2FzKSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHN5bmNUcmFuc2FjdGlvbiA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuY3JlYXRlVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbLi4udHJhbnNhY3Rpb25zLCB0cmFuc2ZlclRvR2VsYXRvXSxcbiAgICAgICAgICAgIG9ubHlDYWxscyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICBnYXNUb2tlblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN5bmNUcmFuc2FjdGlvbjtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFNwb25zb3JUcmFuc2FjdGlvbih0YXJnZXQsIGVuY29kZWRUcmFuc2FjdGlvbiwgY2hhaW5JZCkge1xuICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0dlbGF0b1JlbGF5UGFja19hcGlLZXksIFwiZlwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBUEkga2V5IG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVkVHJhbnNhY3Rpb25cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9HZWxhdG9SZWxheVBhY2tfZ2VsYXRvUmVsYXksIFwiZlwiKS5zcG9uc29yZWRDYWxsKHJlcXVlc3QsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0dlbGF0b1JlbGF5UGFja19hcGlLZXksIFwiZlwiKSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFN5bmNUcmFuc2FjdGlvbih0YXJnZXQsIGVuY29kZWRUcmFuc2FjdGlvbiwgY2hhaW5JZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGdhc0xpbWl0LCBnYXNUb2tlbiB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgZmVlVG9rZW4gPSB0aGlzLl9nZXRGZWVUb2tlbihnYXNUb2tlbik7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlZFRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgZmVlVG9rZW4sXG4gICAgICAgICAgICBpc1JlbGF5Q29udGV4dDogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVsYXlSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGdhc0xpbWl0OiBnYXNMaW1pdCA/IEJpZ0ludChnYXNMaW1pdCkgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9HZWxhdG9SZWxheVBhY2tfZ2VsYXRvUmVsYXksIFwiZlwiKS5jYWxsV2l0aFN5bmNGZWUocmVxdWVzdCwgcmVsYXlSZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgcmVsYXlUcmFuc2FjdGlvbih7IHRhcmdldCwgZW5jb2RlZFRyYW5zYWN0aW9uLCBjaGFpbklkLCBvcHRpb25zID0ge30gfSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IG9wdGlvbnMuaXNTcG9uc29yZWRcbiAgICAgICAgICAgID8gdGhpcy5zZW5kU3BvbnNvclRyYW5zYWN0aW9uKHRhcmdldCwgZW5jb2RlZFRyYW5zYWN0aW9uLCBjaGFpbklkKVxuICAgICAgICAgICAgOiB0aGlzLnNlbmRTeW5jVHJhbnNhY3Rpb24odGFyZ2V0LCBlbmNvZGVkVHJhbnNhY3Rpb24sIGNoYWluSWQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBleGVjdXRlVHJhbnNhY3Rpb24gaW5zdGVhZFxuICAgICAqL1xuICAgIGFzeW5jIGV4ZWN1dGVSZWxheVRyYW5zYWN0aW9uKHNhZmVUcmFuc2FjdGlvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlVHJhbnNhY3Rpb24oeyBleGVjdXRhYmxlOiBzYWZlVHJhbnNhY3Rpb24sIG9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIHRoZSBTYWZlIHRyYW5zYWN0aW9uIHRvIHRoZSBHZWxhdG8gUmVsYXllciBmb3IgZXhlY3V0aW9uLlxuICAgICAqIElmIHRoZSBTYWZlIGlzIG5vdCBkZXBsb3llZCwgaXQgY3JlYXRlcyBhIGJhdGNoIG9mIHRyYW5zYWN0aW9ucyBpbmNsdWRpbmcgdGhlIFNhZmUgZGVwbG95bWVudCB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R2VsYXRvRXhlY3V0ZVRyYW5zYWN0aW9uUHJvcHN9IHByb3BzIC0gRXhlY3V0aW9uIHByb3BzXG4gICAgICogQHBhcmFtIHtTYWZlVHJhbnNhY3Rpb259IHByb3BzLmV4ZWN1dGFibGUgLSBUaGUgU2FmZSB0cmFuc2FjdGlvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgKiBAcGFyYW0ge01ldGFUcmFuc2FjdGlvbk9wdGlvbnN9IHByb3BzLm9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVsYXlSZXNwb25zZT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIFJlbGF5UmVzcG9uc2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGFzeW5jIGV4ZWN1dGVUcmFuc2FjdGlvbih7IGV4ZWN1dGFibGU6IHNhZmVUcmFuc2FjdGlvbiwgb3B0aW9ucyB9KSB7XG4gICAgICAgIGNvbnN0IGlzU2FmZURlcGxveWVkID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5pc1NhZmVEZXBsb3llZCgpO1xuICAgICAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5nZXRDaGFpbklkKCk7XG4gICAgICAgIGNvbnN0IHNhZmVBZGRyZXNzID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5nZXRBZGRyZXNzKCk7XG4gICAgICAgIGNvbnN0IHNhZmVUcmFuc2FjdGlvbkVuY29kZWREYXRhID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5nZXRFbmNvZGVkVHJhbnNhY3Rpb24oc2FmZVRyYW5zYWN0aW9uKTtcbiAgICAgICAgY29uc3QgZ2FzVG9rZW4gPSBvcHRpb25zPy5nYXNUb2tlbiB8fCBzYWZlVHJhbnNhY3Rpb24uZGF0YS5nYXNUb2tlbjtcbiAgICAgICAgaWYgKGlzU2FmZURlcGxveWVkKSB7XG4gICAgICAgICAgICBjb25zdCByZWxheVRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgIHRhcmdldDogc2FmZUFkZHJlc3MsXG4gICAgICAgICAgICAgICAgZW5jb2RlZFRyYW5zYWN0aW9uOiBzYWZlVHJhbnNhY3Rpb25FbmNvZGVkRGF0YSxcbiAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZ2FzVG9rZW5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVsYXlUcmFuc2FjdGlvbihyZWxheVRyYW5zYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgU2FmZSBpcyBub3QgZGVwbG95ZWQgd2UgY3JlYXRlIGEgYmF0Y2ggd2l0aCB0aGUgU2FmZSBkZXBsb3ltZW50IHRyYW5zYWN0aW9uIGFuZCB0aGUgcHJvdmlkZWQgU2FmZSB0cmFuc2FjdGlvblxuICAgICAgICBjb25zdCBzYWZlRGVwbG95bWVudEJhdGNoID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC53cmFwU2FmZVRyYW5zYWN0aW9uSW50b0RlcGxveW1lbnRCYXRjaChzYWZlVHJhbnNhY3Rpb24pO1xuICAgICAgICBjb25zdCByZWxheVRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiBzYWZlRGVwbG95bWVudEJhdGNoLnRvLCAvLyBtdWx0aVNlbmQgQ29udHJhY3QgYWRkcmVzc1xuICAgICAgICAgICAgZW5jb2RlZFRyYW5zYWN0aW9uOiBzYWZlRGVwbG95bWVudEJhdGNoLmRhdGEsXG4gICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgZ2FzVG9rZW5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsYXlUcmFuc2FjdGlvbihyZWxheVRyYW5zYWN0aW9uKTtcbiAgICB9XG59XG5leHBvcnRzLkdlbGF0b1JlbGF5UGFjayA9IEdlbGF0b1JlbGF5UGFjaztcbl9HZWxhdG9SZWxheVBhY2tfZ2VsYXRvUmVsYXkgPSBuZXcgV2Vha01hcCgpLCBfR2VsYXRvUmVsYXlQYWNrX2FwaUtleSA9IG5ldyBXZWFrTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZWxhdG9SZWxheVBhY2suanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/GelatoRelayPack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/types.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/types.js ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL2dlbGF0by90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3NhZmUtcGFzc2tleXMtdHV0b3JpYWwvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL2dlbGF0by90eXBlcy5qcz85ZGZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/gelato/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/Safe4337Pack.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/Safe4337Pack.js ***!
  \*******************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _Safe4337Pack_instances, _Safe4337Pack_BUNDLER_URL, _Safe4337Pack_ENTRYPOINT_ADDRESS, _Safe4337Pack_SAFE_4337_MODULE_ADDRESS, _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS, _Safe4337Pack_bundlerClient, _Safe4337Pack_chainId, _Safe4337Pack_paymasterOptions, _Safe4337Pack_toSafeOperation, _Safe4337Pack_timestamp, _Safe4337Pack_getSafeNonceFromEntrypoint, _Safe4337Pack_encodeExecuteUserOpCallData;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Safe4337Pack = void 0;\nconst ethers_1 = __webpack_require__(/*! ethers */ \"(ssr)/./node_modules/.pnpm/ethers@6.13.1/node_modules/ethers/lib.commonjs/index.js\");\nconst satisfies_1 = __importDefault(__webpack_require__(/*! semver/functions/satisfies */ \"(ssr)/./node_modules/.pnpm/semver@7.6.2/node_modules/semver/functions/satisfies.js\"));\nconst protocol_kit_1 = __importStar(__webpack_require__(/*! @safe-global/protocol-kit */ \"(ssr)/./node_modules/.pnpm/@safe-global+protocol-kit@4.1.0_typescript@5.5.3/node_modules/@safe-global/protocol-kit/dist/src/index.js\"));\nconst RelayKitBasePack_1 = __webpack_require__(/*! ../../RelayKitBasePack */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/RelayKitBasePack.js\");\nconst safe_core_sdk_types_1 = __webpack_require__(/*! @safe-global/safe-core-sdk-types */ \"(ssr)/./node_modules/.pnpm/@safe-global+safe-core-sdk-types@5.1.0_typescript@5.5.3/node_modules/@safe-global/safe-core-sdk-types/dist/src/index.js\");\nconst safe_modules_deployments_1 = __webpack_require__(/*! @safe-global/safe-modules-deployments */ \"(ssr)/./node_modules/.pnpm/@safe-global+safe-modules-deployments@2.2.1/node_modules/@safe-global/safe-modules-deployments/dist/index.js\");\nconst SafeOperation_1 = __importDefault(__webpack_require__(/*! ./SafeOperation */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/SafeOperation.js\"));\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils.js\");\nconst entrypoint_1 = __webpack_require__(/*! ./utils/entrypoint */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils/entrypoint.js\");\nconst PimlicoFeeEstimator_1 = __webpack_require__(/*! ./estimators/PimlicoFeeEstimator */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/PimlicoFeeEstimator.js\");\nconst MAX_ERC20_AMOUNT_TO_APPROVE = 0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn;\nconst EQ_OR_GT_1_4_1 = '>=1.4.1';\n/**\n * Safe4337Pack class that extends RelayKitBasePack.\n * This class provides an implementation of the ERC-4337 that enables Safe accounts to wrk with UserOperations.\n * It allows to create, sign and execute transactions using the Safe 4337 Module.\n *\n * @class\n * @link https://github.com/safe-global/safe-modules/blob/main/modules/4337/contracts/Safe4337Module.sol\n * @link https://eips.ethereum.org/EIPS/eip-4337\n */\nclass Safe4337Pack extends RelayKitBasePack_1.RelayKitBasePack {\n    /**\n     * Creates an instance of the Safe4337Pack.\n     *\n     * @param {Safe4337Options} options - The initialization parameters.\n     */\n    constructor({ protocolKit, bundlerClient, bundlerUrl, chainId, paymasterOptions, entryPointAddress, safe4337ModuleAddress, safeWebAuthnSharedSignerAddress }) {\n        super(protocolKit);\n        _Safe4337Pack_instances.add(this);\n        _Safe4337Pack_BUNDLER_URL.set(this, void 0);\n        _Safe4337Pack_ENTRYPOINT_ADDRESS.set(this, void 0);\n        _Safe4337Pack_SAFE_4337_MODULE_ADDRESS.set(this, '0x');\n        _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS.set(this, '0x');\n        _Safe4337Pack_bundlerClient.set(this, void 0);\n        _Safe4337Pack_chainId.set(this, void 0);\n        _Safe4337Pack_paymasterOptions.set(this, void 0);\n        __classPrivateFieldSet(this, _Safe4337Pack_BUNDLER_URL, bundlerUrl, \"f\");\n        __classPrivateFieldSet(this, _Safe4337Pack_bundlerClient, bundlerClient, \"f\");\n        __classPrivateFieldSet(this, _Safe4337Pack_chainId, chainId, \"f\");\n        __classPrivateFieldSet(this, _Safe4337Pack_paymasterOptions, paymasterOptions, \"f\");\n        __classPrivateFieldSet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, entryPointAddress, \"f\");\n        __classPrivateFieldSet(this, _Safe4337Pack_SAFE_4337_MODULE_ADDRESS, safe4337ModuleAddress, \"f\");\n        __classPrivateFieldSet(this, _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS, safeWebAuthnSharedSignerAddress || '0x', \"f\");\n    }\n    /**\n     * Initializes a Safe4337Pack class.\n     * This method creates the protocolKit instance based on the input parameters.\n     * When the Safe address is provided, it will use the existing Safe.\n     * When the Safe address is not provided, it will use the predictedSafe feature with the provided owners and threshold.\n     * It will use the correct contract addresses for the fallbackHandler and the module and will add the data to enable the 4337 module.\n     *\n     * @param {Safe4337InitOptions} initOptions - The initialization parameters.\n     * @return {Promise<Safe4337Pack>} The Promise object that will be resolved into an instance of Safe4337Pack.\n     */\n    static async init(initOptions) {\n        const { provider, signer, options, bundlerUrl, customContracts, paymasterOptions } = initOptions;\n        let protocolKit;\n        const bundlerClient = (0, utils_1.getEip4337BundlerProvider)(bundlerUrl);\n        const chainId = await bundlerClient.send(constants_1.RPC_4337_CALLS.CHAIN_ID, []);\n        let addModulesLibAddress = customContracts?.addModulesLibAddress;\n        const network = parseInt(chainId, 16).toString();\n        const safeModulesVersion = initOptions.safeModulesVersion || constants_1.DEFAULT_SAFE_MODULES_VERSION;\n        if ((0, satisfies_1.default)(safeModulesVersion, entrypoint_1.EQ_OR_GT_0_3_0)) {\n            throw new Error(`Incompatibility detected: Safe modules version ${safeModulesVersion} is not supported. The SDK can use 0.2.0 only.`);\n        }\n        if (!addModulesLibAddress) {\n            const addModulesDeployment = (0, safe_modules_deployments_1.getAddModulesLibDeployment)({\n                released: true,\n                version: safeModulesVersion,\n                network\n            });\n            addModulesLibAddress = addModulesDeployment?.networkAddresses[network];\n        }\n        let safe4337ModuleAddress = customContracts?.safe4337ModuleAddress;\n        if (!safe4337ModuleAddress) {\n            const safe4337ModuleDeployment = (0, safe_modules_deployments_1.getSafe4337ModuleDeployment)({\n                released: true,\n                version: safeModulesVersion,\n                network\n            });\n            safe4337ModuleAddress = safe4337ModuleDeployment?.networkAddresses[network];\n        }\n        if (!addModulesLibAddress || !safe4337ModuleAddress) {\n            throw new Error(`Safe4337Module and/or AddModulesLib not available for chain ${network} and modules version ${safeModulesVersion}`);\n        }\n        let safeWebAuthnSharedSignerAddress = customContracts?.safeWebAuthnSharedSignerAddress;\n        // Existing Safe\n        if ('safeAddress' in options) {\n            protocolKit = await protocol_kit_1.default.init({\n                provider,\n                signer,\n                safeAddress: options.safeAddress\n            });\n            const safeVersion = await protocolKit.getContractVersion();\n            const isSafeVersion4337Compatible = (0, satisfies_1.default)(safeVersion, EQ_OR_GT_1_4_1);\n            if (!isSafeVersion4337Compatible) {\n                throw new Error(`Incompatibility detected: The current Safe Account version (${safeVersion}) is not supported. EIP-4337 requires the Safe to use at least v1.4.1.`);\n            }\n            const safeModules = (await protocolKit.getModules());\n            const is4337ModulePresent = safeModules.some((module) => module === safe4337ModuleAddress);\n            if (!is4337ModulePresent) {\n                throw new Error(`Incompatibility detected: The EIP-4337 module is not enabled in the provided Safe Account. Enable this module (address: ${safe4337ModuleAddress}) to add compatibility.`);\n            }\n            const safeFallbackhandler = await protocolKit.getFallbackHandler();\n            const is4337FallbackhandlerPresent = safeFallbackhandler === safe4337ModuleAddress;\n            if (!is4337FallbackhandlerPresent) {\n                throw new Error(`Incompatibility detected: The EIP-4337 fallbackhandler is not attached to the Safe Account. Attach this fallbackhandler (address: ${safe4337ModuleAddress}) to ensure compatibility.`);\n            }\n        }\n        else {\n            // New Safe will be created based on the provided configuration when bundling a new UserOperation\n            if (!options.owners || !options.threshold) {\n                throw new Error('Owners and threshold are required to deploy a new Safe');\n            }\n            const safeVersion = options.safeVersion || constants_1.DEFAULT_SAFE_VERSION;\n            // we need to create a batch to setup the 4337 Safe Account\n            // first setup transaction: Enable 4337 module\n            const enable4337ModuleTransaction = {\n                to: addModulesLibAddress,\n                value: '0',\n                data: constants_1.INTERFACES.encodeFunctionData('enableModules', [[safe4337ModuleAddress]]),\n                operation: safe_core_sdk_types_1.OperationType.DelegateCall // DelegateCall required for enabling the 4337 module\n            };\n            const setupTransactions = [enable4337ModuleTransaction];\n            const isApproveTransactionRequired = !!paymasterOptions &&\n                !paymasterOptions.isSponsored &&\n                !!paymasterOptions.paymasterTokenAddress;\n            if (isApproveTransactionRequired) {\n                const { paymasterAddress, amountToApprove = MAX_ERC20_AMOUNT_TO_APPROVE } = paymasterOptions;\n                // second transaction: approve ERC-20 paymaster token\n                const approveToPaymasterTransaction = {\n                    to: paymasterOptions.paymasterTokenAddress,\n                    data: constants_1.INTERFACES.encodeFunctionData('approve', [paymasterAddress, amountToApprove]),\n                    value: '0',\n                    operation: safe_core_sdk_types_1.OperationType.Call // Call for approve\n                };\n                setupTransactions.push(approveToPaymasterTransaction);\n            }\n            const safeProvider = await protocol_kit_1.SafeProvider.init(provider, signer, safeVersion);\n            // third transaction: passkey support via shared signer SafeWebAuthnSharedSigner\n            // see: https://github.com/safe-global/safe-modules/blob/main/modules/passkey/contracts/4337/experimental/README.md\n            const isPasskeySigner = await safeProvider.isPasskeySigner();\n            if (isPasskeySigner) {\n                if (!safeWebAuthnSharedSignerAddress) {\n                    const safeWebAuthnSharedSignerDeployment = (0, safe_modules_deployments_1.getSafeWebAuthnShareSignerDeployment)({\n                        released: true,\n                        version: '0.2.1',\n                        network\n                    });\n                    safeWebAuthnSharedSignerAddress =\n                        safeWebAuthnSharedSignerDeployment?.networkAddresses[network];\n                }\n                if (!safeWebAuthnSharedSignerAddress) {\n                    throw new Error(`safeWebAuthnSharedSignerAddress not available for chain ${network}`);\n                }\n                const passkeySigner = (await safeProvider.getExternalSigner());\n                if (!options.owners.includes(safeWebAuthnSharedSignerAddress)) {\n                    options.owners.push(safeWebAuthnSharedSignerAddress);\n                }\n                const passkeyOwnerConfiguration = {\n                    ...passkeySigner.coordinates,\n                    verifiers: passkeySigner.verifierAddress\n                };\n                const sharedSignerTransaction = {\n                    to: safeWebAuthnSharedSignerAddress,\n                    value: '0',\n                    data: constants_1.INTERFACES.encodeFunctionData('configure', [passkeyOwnerConfiguration]),\n                    operation: safe_core_sdk_types_1.OperationType.DelegateCall // DelegateCall required into the SafeWebAuthnSharedSigner instance in order for it to set its configuration.\n                };\n                setupTransactions.push(sharedSignerTransaction);\n            }\n            let deploymentTo;\n            let deploymentData;\n            const isBatch = setupTransactions.length > 1;\n            if (isBatch) {\n                const multiSendContract = await (0, protocol_kit_1.getMultiSendContract)({\n                    safeProvider,\n                    safeVersion\n                });\n                const batchData = constants_1.INTERFACES.encodeFunctionData('multiSend', [\n                    (0, protocol_kit_1.encodeMultiSendData)(setupTransactions)\n                ]);\n                deploymentTo = await multiSendContract.getAddress();\n                deploymentData = batchData;\n            }\n            else {\n                deploymentTo = enable4337ModuleTransaction.to;\n                deploymentData = enable4337ModuleTransaction.data;\n            }\n            protocolKit = await protocol_kit_1.default.init({\n                provider,\n                signer,\n                predictedSafe: {\n                    safeDeploymentConfig: {\n                        safeVersion,\n                        saltNonce: options.saltNonce || undefined\n                    },\n                    safeAccountConfig: {\n                        owners: options.owners,\n                        threshold: options.threshold,\n                        to: deploymentTo,\n                        data: deploymentData,\n                        fallbackHandler: safe4337ModuleAddress,\n                        paymentToken: ethers_1.ethers.ZeroAddress,\n                        payment: 0,\n                        paymentReceiver: ethers_1.ethers.ZeroAddress\n                    }\n                }\n            });\n        }\n        let selectedEntryPoint;\n        if (customContracts?.entryPointAddress) {\n            const requiredSafeModulesVersion = (0, entrypoint_1.entryPointToSafeModules)(customContracts?.entryPointAddress);\n            if (!(0, satisfies_1.default)(safeModulesVersion, requiredSafeModulesVersion))\n                throw new Error(`The selected entrypoint ${customContracts?.entryPointAddress} is not compatible with version ${safeModulesVersion} of Safe modules`);\n            selectedEntryPoint = customContracts?.entryPointAddress;\n        }\n        else {\n            const supportedEntryPoints = await bundlerClient.send(constants_1.RPC_4337_CALLS.SUPPORTED_ENTRY_POINTS, []);\n            if (!supportedEntryPoints.length) {\n                throw new Error('No entrypoint provided or available through the bundler');\n            }\n            selectedEntryPoint = supportedEntryPoints.find((entryPoint) => {\n                const requiredSafeModulesVersion = (0, entrypoint_1.entryPointToSafeModules)(entryPoint);\n                return (0, satisfies_1.default)(safeModulesVersion, requiredSafeModulesVersion);\n            });\n            if (!selectedEntryPoint) {\n                throw new Error(`Incompatibility detected: None of the entrypoints provided by the bundler is compatible with the Safe modules version ${safeModulesVersion}`);\n            }\n        }\n        return new Safe4337Pack({\n            chainId: BigInt(chainId),\n            protocolKit,\n            bundlerClient,\n            paymasterOptions,\n            bundlerUrl,\n            entryPointAddress: selectedEntryPoint,\n            safe4337ModuleAddress,\n            safeWebAuthnSharedSignerAddress\n        });\n    }\n    /**\n     * Estimates gas for the SafeOperation.\n     *\n     * @param {EstimateFeeProps} props - The parameters for the gas estimation.\n     * @param {EthSafeOperation} props.safeOperation - The SafeOperation to estimate the gas.\n     * @param {IFeeEstimator} props.feeEstimator - The function to estimate the gas.\n     * @return {Promise<EthSafeOperation>} The Promise object that will be resolved into the gas estimation.\n     */\n    async getEstimateFee({ safeOperation, feeEstimator = new PimlicoFeeEstimator_1.PimlicoFeeEstimator() }) {\n        const threshold = await this.protocolKit.getThreshold();\n        const setupEstimationData = await feeEstimator?.setupEstimation?.({\n            bundlerUrl: __classPrivateFieldGet(this, _Safe4337Pack_BUNDLER_URL, \"f\"),\n            entryPoint: __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\"),\n            userOperation: safeOperation.toUserOperation()\n        });\n        if (setupEstimationData) {\n            safeOperation.addEstimations(setupEstimationData);\n        }\n        const estimateUserOperationGas = await __classPrivateFieldGet(this, _Safe4337Pack_bundlerClient, \"f\").send(constants_1.RPC_4337_CALLS.ESTIMATE_USER_OPERATION_GAS, [\n            (0, utils_1.userOperationToHexValues)((0, utils_1.addDummySignature)(safeOperation.toUserOperation(), __classPrivateFieldGet(this, _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS, \"f\"), threshold)),\n            __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\")\n        ]);\n        if (estimateUserOperationGas) {\n            safeOperation.addEstimations({\n                preVerificationGas: BigInt(estimateUserOperationGas.preVerificationGas),\n                verificationGasLimit: BigInt(estimateUserOperationGas.verificationGasLimit),\n                callGasLimit: BigInt(estimateUserOperationGas.callGasLimit)\n            });\n        }\n        const adjustEstimationData = await feeEstimator?.adjustEstimation?.({\n            bundlerUrl: __classPrivateFieldGet(this, _Safe4337Pack_BUNDLER_URL, \"f\"),\n            entryPoint: __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\"),\n            userOperation: safeOperation.toUserOperation()\n        });\n        if (adjustEstimationData) {\n            safeOperation.addEstimations(adjustEstimationData);\n        }\n        if (__classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\")?.isSponsored) {\n            if (!__classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\").paymasterUrl) {\n                throw new Error('No paymaster url provided for a sponsored transaction');\n            }\n            const paymasterEstimation = await feeEstimator?.getPaymasterEstimation?.({\n                userOperation: (0, utils_1.addDummySignature)(safeOperation.toUserOperation(), __classPrivateFieldGet(this, _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS, \"f\"), threshold),\n                paymasterUrl: __classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\").paymasterUrl,\n                entryPoint: __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\"),\n                sponsorshipPolicyId: __classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\").sponsorshipPolicyId\n            });\n            safeOperation.data.paymasterAndData =\n                paymasterEstimation?.paymasterAndData || safeOperation.data.paymasterAndData;\n            if (paymasterEstimation) {\n                safeOperation.addEstimations(paymasterEstimation);\n            }\n        }\n        return safeOperation;\n    }\n    /**\n     * Creates a relayed transaction based on the provided parameters.\n     *\n     * @param {MetaTransactionData[]} transactions - The transactions to batch in a SafeOperation.\n     * @param options - Optional configuration options for the transaction creation.\n     * @return {Promise<EthSafeOperation>} The Promise object will resolve a SafeOperation.\n     */\n    async createTransaction({ transactions, options = {} }) {\n        const safeAddress = await this.protocolKit.getAddress();\n        const nonce = await __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_getSafeNonceFromEntrypoint).call(this, safeAddress);\n        const { amountToApprove, validUntil, validAfter, feeEstimator } = options;\n        if (amountToApprove) {\n            const paymasterOptions = __classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\");\n            if (!paymasterOptions.paymasterTokenAddress) {\n                throw new Error('Paymaster must be initialized');\n            }\n            const approveToPaymasterTransaction = {\n                to: paymasterOptions.paymasterTokenAddress,\n                data: constants_1.INTERFACES.encodeFunctionData('approve', [\n                    paymasterOptions.paymasterAddress,\n                    amountToApprove\n                ]),\n                value: '0',\n                operation: safe_core_sdk_types_1.OperationType.Call // Call for approve\n            };\n            transactions.push(approveToPaymasterTransaction);\n        }\n        const isBatch = transactions.length > 1;\n        const multiSendAddress = await this.protocolKit.getMultiSendAddress();\n        const callData = isBatch\n            ? __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_encodeExecuteUserOpCallData).call(this, {\n                to: multiSendAddress,\n                value: '0',\n                data: (0, utils_1.encodeMultiSendCallData)(transactions),\n                operation: safe_core_sdk_types_1.OperationType.DelegateCall\n            })\n            : __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_encodeExecuteUserOpCallData).call(this, transactions[0]);\n        const paymasterAndData = __classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\") && 'paymasterAddress' in __classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\")\n            ? __classPrivateFieldGet(this, _Safe4337Pack_paymasterOptions, \"f\").paymasterAddress\n            : '0x';\n        const userOperation = {\n            sender: safeAddress,\n            nonce: nonce,\n            initCode: '0x',\n            callData,\n            callGasLimit: 1n,\n            verificationGasLimit: 1n,\n            preVerificationGas: 1n,\n            maxFeePerGas: 1n,\n            maxPriorityFeePerGas: 1n,\n            paymasterAndData,\n            signature: '0x'\n        };\n        const isSafeDeployed = await this.protocolKit.isSafeDeployed();\n        if (!isSafeDeployed) {\n            userOperation.initCode = await this.protocolKit.getInitCode();\n        }\n        const safeOperation = new SafeOperation_1.default(userOperation, {\n            chainId: __classPrivateFieldGet(this, _Safe4337Pack_chainId, \"f\"),\n            moduleAddress: __classPrivateFieldGet(this, _Safe4337Pack_SAFE_4337_MODULE_ADDRESS, \"f\"),\n            entryPoint: __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\"),\n            validUntil,\n            validAfter\n        });\n        return await this.getEstimateFee({\n            safeOperation,\n            feeEstimator\n        });\n    }\n    /**\n     * Signs a safe operation.\n     *\n     * @param {EthSafeOperation | SafeOperationResponse} safeOperation - The SafeOperation to sign. It can be:\n     * - A response from the API (Tx Service)\n     * - An instance of EthSafeOperation\n     * @param {SigningMethod} signingMethod - The signing method to use.\n     * @return {Promise<EthSafeOperation>} The Promise object will resolve to the signed SafeOperation.\n     */\n    async signSafeOperation(safeOperation, signingMethod = protocol_kit_1.SigningMethod.ETH_SIGN_TYPED_DATA_V4) {\n        let safeOp;\n        if ((0, safe_core_sdk_types_1.isSafeOperationResponse)(safeOperation)) {\n            safeOp = __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_toSafeOperation).call(this, safeOperation);\n        }\n        else {\n            safeOp = safeOperation;\n        }\n        const safeProvider = this.protocolKit.getSafeProvider();\n        const signerAddress = await safeProvider.getSignerAddress();\n        const isPasskeySigner = await safeProvider.isPasskeySigner();\n        if (!signerAddress) {\n            throw new Error('There is no signer address available to sign the SafeOperation');\n        }\n        const isOwner = await this.protocolKit.isOwner(signerAddress);\n        const isSafeDeployed = await this.protocolKit.isSafeDeployed();\n        if ((!isOwner && isSafeDeployed) || (!isSafeDeployed && !isPasskeySigner && !isOwner)) {\n            throw new Error('UserOperations can only be signed by Safe owners');\n        }\n        let signature;\n        if (isPasskeySigner) {\n            const safeOpHash = safeOp.getHash();\n            // if the Safe is not deployed we force the Shared Signer signature\n            if (!isSafeDeployed) {\n                const passkeySignature = await this.protocolKit.signHash(safeOpHash);\n                // SafeWebAuthnSharedSigner signature\n                signature = new protocol_kit_1.EthSafeSignature(__classPrivateFieldGet(this, _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS, \"f\"), passkeySignature.data, true // passkeys are contract signatures\n                );\n            }\n            else {\n                signature = await this.protocolKit.signHash(safeOpHash);\n            }\n        }\n        else {\n            if (signingMethod in\n                [\n                    protocol_kit_1.SigningMethod.ETH_SIGN_TYPED_DATA_V4,\n                    protocol_kit_1.SigningMethod.ETH_SIGN_TYPED_DATA_V3,\n                    protocol_kit_1.SigningMethod.ETH_SIGN_TYPED_DATA\n                ]) {\n                signature = await (0, utils_1.signSafeOp)(safeOp.data, this.protocolKit.getSafeProvider(), __classPrivateFieldGet(this, _Safe4337Pack_SAFE_4337_MODULE_ADDRESS, \"f\"));\n            }\n            else {\n                const safeOpHash = safeOp.getHash();\n                signature = await this.protocolKit.signHash(safeOpHash);\n            }\n        }\n        const signedSafeOperation = new SafeOperation_1.default(safeOp.toUserOperation(), {\n            chainId: __classPrivateFieldGet(this, _Safe4337Pack_chainId, \"f\"),\n            moduleAddress: __classPrivateFieldGet(this, _Safe4337Pack_SAFE_4337_MODULE_ADDRESS, \"f\"),\n            entryPoint: __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\"),\n            validUntil: safeOp.data.validUntil,\n            validAfter: safeOp.data.validAfter\n        });\n        safeOp.signatures.forEach((signature) => {\n            signedSafeOperation.addSignature(signature);\n        });\n        signedSafeOperation.addSignature(signature);\n        return signedSafeOperation;\n    }\n    /**\n     * Executes the relay transaction.\n     *\n     * @param {Safe4337ExecutableProps} props - The parameters for the transaction execution.\n     * @param {EthSafeOperation | SafeOperationResponse} props.executable - The SafeOperation to execute. It can be:\n     * - A response from the API (Tx Service)\n     * - An instance of EthSafeOperation\n     * @return {Promise<string>} The user operation hash.\n     */\n    async executeTransaction({ executable }) {\n        let safeOperation;\n        if ((0, safe_core_sdk_types_1.isSafeOperationResponse)(executable)) {\n            safeOperation = __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_toSafeOperation).call(this, executable);\n        }\n        else {\n            safeOperation = executable;\n        }\n        const userOperation = safeOperation.toUserOperation();\n        return __classPrivateFieldGet(this, _Safe4337Pack_bundlerClient, \"f\").send(constants_1.RPC_4337_CALLS.SEND_USER_OPERATION, [\n            (0, utils_1.userOperationToHexValues)(userOperation),\n            __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\")\n        ]);\n    }\n    /**\n     * Return a UserOperation based on a hash (userOpHash) returned by eth_sendUserOperation\n     *\n     * @param {string} userOpHash - The hash of the user operation to fetch. Returned from the #sendUserOperation method\n     * @returns {UserOperation} - null in case the UserOperation is not yet included in a block, or a full UserOperation, with the addition of entryPoint, blockNumber, blockHash and transactionHash\n     */\n    async getUserOperationByHash(userOpHash) {\n        return __classPrivateFieldGet(this, _Safe4337Pack_bundlerClient, \"f\").send(constants_1.RPC_4337_CALLS.GET_USER_OPERATION_BY_HASH, [userOpHash]);\n    }\n    /**\n     * Return a UserOperation receipt based on a hash (userOpHash) returned by eth_sendUserOperation\n     *\n     * @param {string} userOpHash - The hash of the user operation to fetch. Returned from the #sendUserOperation method\n     * @returns {UserOperationReceipt} - null in case the UserOperation is not yet included in a block, or UserOperationReceipt object\n     */\n    async getUserOperationReceipt(userOpHash) {\n        return __classPrivateFieldGet(this, _Safe4337Pack_bundlerClient, \"f\").send(constants_1.RPC_4337_CALLS.GET_USER_OPERATION_RECEIPT, [userOpHash]);\n    }\n    /**\n     * Returns an array of the entryPoint addresses supported by the client.\n     * The first element of the array SHOULD be the entryPoint addressed preferred by the client.\n     *\n     * @returns {string[]} - The supported entry points.\n     */\n    async getSupportedEntryPoints() {\n        return __classPrivateFieldGet(this, _Safe4337Pack_bundlerClient, \"f\").send(constants_1.RPC_4337_CALLS.SUPPORTED_ENTRY_POINTS, []);\n    }\n    /**\n     * Returns EIP-155 Chain ID.\n     *\n     * @returns {string} - The chain id.\n     */\n    async getChainId() {\n        return __classPrivateFieldGet(this, _Safe4337Pack_bundlerClient, \"f\").send(constants_1.RPC_4337_CALLS.CHAIN_ID, []);\n    }\n}\nexports.Safe4337Pack = Safe4337Pack;\n_Safe4337Pack_BUNDLER_URL = new WeakMap(), _Safe4337Pack_ENTRYPOINT_ADDRESS = new WeakMap(), _Safe4337Pack_SAFE_4337_MODULE_ADDRESS = new WeakMap(), _Safe4337Pack_SAFE_WEBAUTHN_SHARED_SIGNER_ADDRESS = new WeakMap(), _Safe4337Pack_bundlerClient = new WeakMap(), _Safe4337Pack_chainId = new WeakMap(), _Safe4337Pack_paymasterOptions = new WeakMap(), _Safe4337Pack_instances = new WeakSet(), _Safe4337Pack_toSafeOperation = function _Safe4337Pack_toSafeOperation(safeOperationResponse) {\n    const { validUntil, validAfter, userOperation } = safeOperationResponse;\n    const safeOperation = new SafeOperation_1.default({\n        sender: userOperation?.sender || '0x',\n        nonce: userOperation?.nonce?.toString() || '0',\n        initCode: userOperation?.initCode || '',\n        callData: userOperation?.callData || '',\n        callGasLimit: BigInt(userOperation?.callGasLimit || 0n),\n        verificationGasLimit: BigInt(userOperation?.verificationGasLimit || 0),\n        preVerificationGas: BigInt(userOperation?.preVerificationGas || 0),\n        maxFeePerGas: BigInt(userOperation?.maxFeePerGas || 0),\n        maxPriorityFeePerGas: BigInt(userOperation?.maxPriorityFeePerGas || 0),\n        paymasterAndData: ethers_1.ethers.hexlify(ethers_1.ethers.concat([userOperation?.paymaster || '0x', userOperation?.paymasterData || '0x'])),\n        signature: safeOperationResponse.preparedSignature || '0x'\n    }, {\n        chainId: __classPrivateFieldGet(this, _Safe4337Pack_chainId, \"f\"),\n        moduleAddress: __classPrivateFieldGet(this, _Safe4337Pack_SAFE_4337_MODULE_ADDRESS, \"f\"),\n        entryPoint: userOperation?.entryPoint || __classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\"),\n        validAfter: __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_timestamp).call(this, validAfter),\n        validUntil: __classPrivateFieldGet(this, _Safe4337Pack_instances, \"m\", _Safe4337Pack_timestamp).call(this, validUntil)\n    });\n    if (safeOperationResponse.confirmations) {\n        safeOperationResponse.confirmations.forEach((confirmation) => {\n            safeOperation.addSignature(new protocol_kit_1.EthSafeSignature(confirmation.owner, confirmation.signature));\n        });\n    }\n    return safeOperation;\n}, _Safe4337Pack_timestamp = function _Safe4337Pack_timestamp(date) {\n    return date ? new Date(date).getTime() / 1000 : undefined;\n}, _Safe4337Pack_getSafeNonceFromEntrypoint = \n/**\n * Gets account nonce from the bundler.\n *\n * @param {string} safeAddress - Account address for which the nonce is to be fetched.\n * @returns {Promise<string>} The Promise object will resolve to the account nonce.\n */\nasync function _Safe4337Pack_getSafeNonceFromEntrypoint(safeAddress) {\n    const abi = [\n        {\n            inputs: [\n                { name: 'sender', type: 'address' },\n                { name: 'key', type: 'uint192' }\n            ],\n            name: 'getNonce',\n            outputs: [{ name: 'nonce', type: 'uint256' }],\n            stateMutability: 'view',\n            type: 'function'\n        }\n    ];\n    const contract = new ethers_1.ethers.Contract(__classPrivateFieldGet(this, _Safe4337Pack_ENTRYPOINT_ADDRESS, \"f\") || '0x', abi, this.protocolKit.getSafeProvider().getExternalProvider());\n    const newNonce = await contract.getNonce(safeAddress, BigInt(0));\n    return newNonce.toString();\n}, _Safe4337Pack_encodeExecuteUserOpCallData = function _Safe4337Pack_encodeExecuteUserOpCallData(transaction) {\n    return constants_1.INTERFACES.encodeFunctionData('executeUserOp', [\n        transaction.to,\n        transaction.value,\n        transaction.data,\n        transaction.operation || safe_core_sdk_types_1.OperationType.Call\n    ]);\n};\n//# sourceMappingURL=Safe4337Pack.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy9TYWZlNDMzN1BhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGlCQUFpQixtQkFBTyxDQUFDLGtHQUFRO0FBQ2pDLG9DQUFvQyxtQkFBTyxDQUFDLHNIQUE0QjtBQUN4RSxvQ0FBb0MsbUJBQU8sQ0FBQyx1S0FBMkI7QUFDdkUsMkJBQTJCLG1CQUFPLENBQUMseUtBQXdCO0FBQzNELDhCQUE4QixtQkFBTyxDQUFDLDRMQUFrQztBQUN4RSxtQ0FBbUMsbUJBQU8sQ0FBQyxzTEFBdUM7QUFDbEYsd0NBQXdDLG1CQUFPLENBQUMsK0tBQWlCO0FBQ2pFLG9CQUFvQixtQkFBTyxDQUFDLHVLQUFhO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLCtKQUFTO0FBQ2pDLHFCQUFxQixtQkFBTyxDQUFDLHFMQUFvQjtBQUNqRCw4QkFBOEIsbUJBQU8sQ0FBQyxpTkFBa0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQSxrQkFBa0IsOElBQThJO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQTtBQUNBLGdCQUFnQiwyRUFBMkU7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsb0JBQW9CO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixTQUFTLHNCQUFzQixtQkFBbUI7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsWUFBWTtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJKQUEySixzQkFBc0I7QUFDakw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxS0FBcUssc0JBQXNCO0FBQzNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrRUFBa0U7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsUUFBUTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsb0NBQW9DLGlDQUFpQyxvQkFBb0I7QUFDcEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5SkFBeUosbUJBQW1CO0FBQzVLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQyxlQUFlLGtCQUFrQjtBQUNqQyxlQUFlLGVBQWU7QUFDOUIsZ0JBQWdCLDJCQUEyQjtBQUMzQztBQUNBLDJCQUEyQiwrRUFBK0U7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUJBQXVCO0FBQ3RDO0FBQ0EsZ0JBQWdCLDJCQUEyQjtBQUMzQztBQUNBLDhCQUE4Qiw0QkFBNEI7QUFDMUQ7QUFDQTtBQUNBLGdCQUFnQix3REFBd0Q7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDBDQUEwQztBQUN6RDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGdCQUFnQiwyQkFBMkI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5QkFBeUI7QUFDeEMsZUFBZSwwQ0FBMEM7QUFDekQ7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQSwrQkFBK0IsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsZUFBZTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxZQUFZLHdDQUF3QztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQ0FBaUM7QUFDbkQsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYWZlLXBhc3NrZXlzLXR1dG9yaWFsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYWZlLWdsb2JhbCtyZWxheS1raXRAMy4xLjBfdHlwZXNjcmlwdEA1LjUuMy9ub2RlX21vZHVsZXMvQHNhZmUtZ2xvYmFsL3JlbGF5LWtpdC9kaXN0L3NyYy9wYWNrcy9zYWZlLTQzMzcvU2FmZTQzMzdQYWNrLmpzPzAxNjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbnZhciBfU2FmZTQzMzdQYWNrX2luc3RhbmNlcywgX1NhZmU0MzM3UGFja19CVU5ETEVSX1VSTCwgX1NhZmU0MzM3UGFja19FTlRSWVBPSU5UX0FERFJFU1MsIF9TYWZlNDMzN1BhY2tfU0FGRV80MzM3X01PRFVMRV9BRERSRVNTLCBfU2FmZTQzMzdQYWNrX1NBRkVfV0VCQVVUSE5fU0hBUkVEX1NJR05FUl9BRERSRVNTLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQsIF9TYWZlNDMzN1BhY2tfY2hhaW5JZCwgX1NhZmU0MzM3UGFja19wYXltYXN0ZXJPcHRpb25zLCBfU2FmZTQzMzdQYWNrX3RvU2FmZU9wZXJhdGlvbiwgX1NhZmU0MzM3UGFja190aW1lc3RhbXAsIF9TYWZlNDMzN1BhY2tfZ2V0U2FmZU5vbmNlRnJvbUVudHJ5cG9pbnQsIF9TYWZlNDMzN1BhY2tfZW5jb2RlRXhlY3V0ZVVzZXJPcENhbGxEYXRhO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TYWZlNDMzN1BhY2sgPSB2b2lkIDA7XG5jb25zdCBldGhlcnNfMSA9IHJlcXVpcmUoXCJldGhlcnNcIik7XG5jb25zdCBzYXRpc2ZpZXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic2VtdmVyL2Z1bmN0aW9ucy9zYXRpc2ZpZXNcIikpO1xuY29uc3QgcHJvdG9jb2xfa2l0XzEgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIkBzYWZlLWdsb2JhbC9wcm90b2NvbC1raXRcIikpO1xuY29uc3QgUmVsYXlLaXRCYXNlUGFja18xID0gcmVxdWlyZShcIi4uLy4uL1JlbGF5S2l0QmFzZVBhY2tcIik7XG5jb25zdCBzYWZlX2NvcmVfc2RrX3R5cGVzXzEgPSByZXF1aXJlKFwiQHNhZmUtZ2xvYmFsL3NhZmUtY29yZS1zZGstdHlwZXNcIik7XG5jb25zdCBzYWZlX21vZHVsZXNfZGVwbG95bWVudHNfMSA9IHJlcXVpcmUoXCJAc2FmZS1nbG9iYWwvc2FmZS1tb2R1bGVzLWRlcGxveW1lbnRzXCIpO1xuY29uc3QgU2FmZU9wZXJhdGlvbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1NhZmVPcGVyYXRpb25cIikpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBlbnRyeXBvaW50XzEgPSByZXF1aXJlKFwiLi91dGlscy9lbnRyeXBvaW50XCIpO1xuY29uc3QgUGltbGljb0ZlZUVzdGltYXRvcl8xID0gcmVxdWlyZShcIi4vZXN0aW1hdG9ycy9QaW1saWNvRmVlRXN0aW1hdG9yXCIpO1xuY29uc3QgTUFYX0VSQzIwX0FNT1VOVF9UT19BUFBST1ZFID0gMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmbjtcbmNvbnN0IEVRX09SX0dUXzFfNF8xID0gJz49MS40LjEnO1xuLyoqXG4gKiBTYWZlNDMzN1BhY2sgY2xhc3MgdGhhdCBleHRlbmRzIFJlbGF5S2l0QmFzZVBhY2suXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIGFuIGltcGxlbWVudGF0aW9uIG9mIHRoZSBFUkMtNDMzNyB0aGF0IGVuYWJsZXMgU2FmZSBhY2NvdW50cyB0byB3cmsgd2l0aCBVc2VyT3BlcmF0aW9ucy5cbiAqIEl0IGFsbG93cyB0byBjcmVhdGUsIHNpZ24gYW5kIGV4ZWN1dGUgdHJhbnNhY3Rpb25zIHVzaW5nIHRoZSBTYWZlIDQzMzcgTW9kdWxlLlxuICpcbiAqIEBjbGFzc1xuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3NhZmUtZ2xvYmFsL3NhZmUtbW9kdWxlcy9ibG9iL21haW4vbW9kdWxlcy80MzM3L2NvbnRyYWN0cy9TYWZlNDMzN01vZHVsZS5zb2xcbiAqIEBsaW5rIGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtNDMzN1xuICovXG5jbGFzcyBTYWZlNDMzN1BhY2sgZXh0ZW5kcyBSZWxheUtpdEJhc2VQYWNrXzEuUmVsYXlLaXRCYXNlUGFjayB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgU2FmZTQzMzdQYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTYWZlNDMzN09wdGlvbnN9IG9wdGlvbnMgLSBUaGUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IHByb3RvY29sS2l0LCBidW5kbGVyQ2xpZW50LCBidW5kbGVyVXJsLCBjaGFpbklkLCBwYXltYXN0ZXJPcHRpb25zLCBlbnRyeVBvaW50QWRkcmVzcywgc2FmZTQzMzdNb2R1bGVBZGRyZXNzLCBzYWZlV2ViQXV0aG5TaGFyZWRTaWduZXJBZGRyZXNzIH0pIHtcbiAgICAgICAgc3VwZXIocHJvdG9jb2xLaXQpO1xuICAgICAgICBfU2FmZTQzMzdQYWNrX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIF9TYWZlNDMzN1BhY2tfQlVORExFUl9VUkwuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9TYWZlNDMzN1BhY2tfRU5UUllQT0lOVF9BRERSRVNTLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfU2FmZTQzMzdQYWNrX1NBRkVfNDMzN19NT0RVTEVfQUREUkVTUy5zZXQodGhpcywgJzB4Jyk7XG4gICAgICAgIF9TYWZlNDMzN1BhY2tfU0FGRV9XRUJBVVRITl9TSEFSRURfU0lHTkVSX0FERFJFU1Muc2V0KHRoaXMsICcweCcpO1xuICAgICAgICBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9TYWZlNDMzN1BhY2tfY2hhaW5JZC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1NhZmU0MzM3UGFja19wYXltYXN0ZXJPcHRpb25zLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfQlVORExFUl9VUkwsIGJ1bmRsZXJVcmwsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQsIGJ1bmRsZXJDbGllbnQsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2NoYWluSWQsIGNoYWluSWQsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfU2FmZTQzMzdQYWNrX3BheW1hc3Rlck9wdGlvbnMsIHBheW1hc3Rlck9wdGlvbnMsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfU2FmZTQzMzdQYWNrX0VOVFJZUE9JTlRfQUREUkVTUywgZW50cnlQb2ludEFkZHJlc3MsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfU2FmZTQzMzdQYWNrX1NBRkVfNDMzN19NT0RVTEVfQUREUkVTUywgc2FmZTQzMzdNb2R1bGVBZGRyZXNzLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1NhZmU0MzM3UGFja19TQUZFX1dFQkFVVEhOX1NIQVJFRF9TSUdORVJfQUREUkVTUywgc2FmZVdlYkF1dGhuU2hhcmVkU2lnbmVyQWRkcmVzcyB8fCAnMHgnLCBcImZcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGEgU2FmZTQzMzdQYWNrIGNsYXNzLlxuICAgICAqIFRoaXMgbWV0aG9kIGNyZWF0ZXMgdGhlIHByb3RvY29sS2l0IGluc3RhbmNlIGJhc2VkIG9uIHRoZSBpbnB1dCBwYXJhbWV0ZXJzLlxuICAgICAqIFdoZW4gdGhlIFNhZmUgYWRkcmVzcyBpcyBwcm92aWRlZCwgaXQgd2lsbCB1c2UgdGhlIGV4aXN0aW5nIFNhZmUuXG4gICAgICogV2hlbiB0aGUgU2FmZSBhZGRyZXNzIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCB1c2UgdGhlIHByZWRpY3RlZFNhZmUgZmVhdHVyZSB3aXRoIHRoZSBwcm92aWRlZCBvd25lcnMgYW5kIHRocmVzaG9sZC5cbiAgICAgKiBJdCB3aWxsIHVzZSB0aGUgY29ycmVjdCBjb250cmFjdCBhZGRyZXNzZXMgZm9yIHRoZSBmYWxsYmFja0hhbmRsZXIgYW5kIHRoZSBtb2R1bGUgYW5kIHdpbGwgYWRkIHRoZSBkYXRhIHRvIGVuYWJsZSB0aGUgNDMzNyBtb2R1bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NhZmU0MzM3SW5pdE9wdGlvbnN9IGluaXRPcHRpb25zIC0gVGhlIGluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxTYWZlNDMzN1BhY2s+fSBUaGUgUHJvbWlzZSBvYmplY3QgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGludG8gYW4gaW5zdGFuY2Ugb2YgU2FmZTQzMzdQYWNrLlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBpbml0KGluaXRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvdmlkZXIsIHNpZ25lciwgb3B0aW9ucywgYnVuZGxlclVybCwgY3VzdG9tQ29udHJhY3RzLCBwYXltYXN0ZXJPcHRpb25zIH0gPSBpbml0T3B0aW9ucztcbiAgICAgICAgbGV0IHByb3RvY29sS2l0O1xuICAgICAgICBjb25zdCBidW5kbGVyQ2xpZW50ID0gKDAsIHV0aWxzXzEuZ2V0RWlwNDMzN0J1bmRsZXJQcm92aWRlcikoYnVuZGxlclVybCk7XG4gICAgICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCBidW5kbGVyQ2xpZW50LnNlbmQoY29uc3RhbnRzXzEuUlBDXzQzMzdfQ0FMTFMuQ0hBSU5fSUQsIFtdKTtcbiAgICAgICAgbGV0IGFkZE1vZHVsZXNMaWJBZGRyZXNzID0gY3VzdG9tQ29udHJhY3RzPy5hZGRNb2R1bGVzTGliQWRkcmVzcztcbiAgICAgICAgY29uc3QgbmV0d29yayA9IHBhcnNlSW50KGNoYWluSWQsIDE2KS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBzYWZlTW9kdWxlc1ZlcnNpb24gPSBpbml0T3B0aW9ucy5zYWZlTW9kdWxlc1ZlcnNpb24gfHwgY29uc3RhbnRzXzEuREVGQVVMVF9TQUZFX01PRFVMRVNfVkVSU0lPTjtcbiAgICAgICAgaWYgKCgwLCBzYXRpc2ZpZXNfMS5kZWZhdWx0KShzYWZlTW9kdWxlc1ZlcnNpb24sIGVudHJ5cG9pbnRfMS5FUV9PUl9HVF8wXzNfMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5jb21wYXRpYmlsaXR5IGRldGVjdGVkOiBTYWZlIG1vZHVsZXMgdmVyc2lvbiAke3NhZmVNb2R1bGVzVmVyc2lvbn0gaXMgbm90IHN1cHBvcnRlZC4gVGhlIFNESyBjYW4gdXNlIDAuMi4wIG9ubHkuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhZGRNb2R1bGVzTGliQWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3QgYWRkTW9kdWxlc0RlcGxveW1lbnQgPSAoMCwgc2FmZV9tb2R1bGVzX2RlcGxveW1lbnRzXzEuZ2V0QWRkTW9kdWxlc0xpYkRlcGxveW1lbnQpKHtcbiAgICAgICAgICAgICAgICByZWxlYXNlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBzYWZlTW9kdWxlc1ZlcnNpb24sXG4gICAgICAgICAgICAgICAgbmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhZGRNb2R1bGVzTGliQWRkcmVzcyA9IGFkZE1vZHVsZXNEZXBsb3ltZW50Py5uZXR3b3JrQWRkcmVzc2VzW25ldHdvcmtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzYWZlNDMzN01vZHVsZUFkZHJlc3MgPSBjdXN0b21Db250cmFjdHM/LnNhZmU0MzM3TW9kdWxlQWRkcmVzcztcbiAgICAgICAgaWYgKCFzYWZlNDMzN01vZHVsZUFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhZmU0MzM3TW9kdWxlRGVwbG95bWVudCA9ICgwLCBzYWZlX21vZHVsZXNfZGVwbG95bWVudHNfMS5nZXRTYWZlNDMzN01vZHVsZURlcGxveW1lbnQpKHtcbiAgICAgICAgICAgICAgICByZWxlYXNlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBzYWZlTW9kdWxlc1ZlcnNpb24sXG4gICAgICAgICAgICAgICAgbmV0d29ya1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzYWZlNDMzN01vZHVsZUFkZHJlc3MgPSBzYWZlNDMzN01vZHVsZURlcGxveW1lbnQ/Lm5ldHdvcmtBZGRyZXNzZXNbbmV0d29ya107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhZGRNb2R1bGVzTGliQWRkcmVzcyB8fCAhc2FmZTQzMzdNb2R1bGVBZGRyZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNhZmU0MzM3TW9kdWxlIGFuZC9vciBBZGRNb2R1bGVzTGliIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7bmV0d29ya30gYW5kIG1vZHVsZXMgdmVyc2lvbiAke3NhZmVNb2R1bGVzVmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2FmZVdlYkF1dGhuU2hhcmVkU2lnbmVyQWRkcmVzcyA9IGN1c3RvbUNvbnRyYWN0cz8uc2FmZVdlYkF1dGhuU2hhcmVkU2lnbmVyQWRkcmVzcztcbiAgICAgICAgLy8gRXhpc3RpbmcgU2FmZVxuICAgICAgICBpZiAoJ3NhZmVBZGRyZXNzJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBwcm90b2NvbEtpdCA9IGF3YWl0IHByb3RvY29sX2tpdF8xLmRlZmF1bHQuaW5pdCh7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgc2lnbmVyLFxuICAgICAgICAgICAgICAgIHNhZmVBZGRyZXNzOiBvcHRpb25zLnNhZmVBZGRyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHNhZmVWZXJzaW9uID0gYXdhaXQgcHJvdG9jb2xLaXQuZ2V0Q29udHJhY3RWZXJzaW9uKCk7XG4gICAgICAgICAgICBjb25zdCBpc1NhZmVWZXJzaW9uNDMzN0NvbXBhdGlibGUgPSAoMCwgc2F0aXNmaWVzXzEuZGVmYXVsdCkoc2FmZVZlcnNpb24sIEVRX09SX0dUXzFfNF8xKTtcbiAgICAgICAgICAgIGlmICghaXNTYWZlVmVyc2lvbjQzMzdDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvbXBhdGliaWxpdHkgZGV0ZWN0ZWQ6IFRoZSBjdXJyZW50IFNhZmUgQWNjb3VudCB2ZXJzaW9uICgke3NhZmVWZXJzaW9ufSkgaXMgbm90IHN1cHBvcnRlZC4gRUlQLTQzMzcgcmVxdWlyZXMgdGhlIFNhZmUgdG8gdXNlIGF0IGxlYXN0IHYxLjQuMS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNhZmVNb2R1bGVzID0gKGF3YWl0IHByb3RvY29sS2l0LmdldE1vZHVsZXMoKSk7XG4gICAgICAgICAgICBjb25zdCBpczQzMzdNb2R1bGVQcmVzZW50ID0gc2FmZU1vZHVsZXMuc29tZSgobW9kdWxlKSA9PiBtb2R1bGUgPT09IHNhZmU0MzM3TW9kdWxlQWRkcmVzcyk7XG4gICAgICAgICAgICBpZiAoIWlzNDMzN01vZHVsZVByZXNlbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29tcGF0aWJpbGl0eSBkZXRlY3RlZDogVGhlIEVJUC00MzM3IG1vZHVsZSBpcyBub3QgZW5hYmxlZCBpbiB0aGUgcHJvdmlkZWQgU2FmZSBBY2NvdW50LiBFbmFibGUgdGhpcyBtb2R1bGUgKGFkZHJlc3M6ICR7c2FmZTQzMzdNb2R1bGVBZGRyZXNzfSkgdG8gYWRkIGNvbXBhdGliaWxpdHkuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYWZlRmFsbGJhY2toYW5kbGVyID0gYXdhaXQgcHJvdG9jb2xLaXQuZ2V0RmFsbGJhY2tIYW5kbGVyKCk7XG4gICAgICAgICAgICBjb25zdCBpczQzMzdGYWxsYmFja2hhbmRsZXJQcmVzZW50ID0gc2FmZUZhbGxiYWNraGFuZGxlciA9PT0gc2FmZTQzMzdNb2R1bGVBZGRyZXNzO1xuICAgICAgICAgICAgaWYgKCFpczQzMzdGYWxsYmFja2hhbmRsZXJQcmVzZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvbXBhdGliaWxpdHkgZGV0ZWN0ZWQ6IFRoZSBFSVAtNDMzNyBmYWxsYmFja2hhbmRsZXIgaXMgbm90IGF0dGFjaGVkIHRvIHRoZSBTYWZlIEFjY291bnQuIEF0dGFjaCB0aGlzIGZhbGxiYWNraGFuZGxlciAoYWRkcmVzczogJHtzYWZlNDMzN01vZHVsZUFkZHJlc3N9KSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5ldyBTYWZlIHdpbGwgYmUgY3JlYXRlZCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiB3aGVuIGJ1bmRsaW5nIGEgbmV3IFVzZXJPcGVyYXRpb25cbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5vd25lcnMgfHwgIW9wdGlvbnMudGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPd25lcnMgYW5kIHRocmVzaG9sZCBhcmUgcmVxdWlyZWQgdG8gZGVwbG95IGEgbmV3IFNhZmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNhZmVWZXJzaW9uID0gb3B0aW9ucy5zYWZlVmVyc2lvbiB8fCBjb25zdGFudHNfMS5ERUZBVUxUX1NBRkVfVkVSU0lPTjtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gY3JlYXRlIGEgYmF0Y2ggdG8gc2V0dXAgdGhlIDQzMzcgU2FmZSBBY2NvdW50XG4gICAgICAgICAgICAvLyBmaXJzdCBzZXR1cCB0cmFuc2FjdGlvbjogRW5hYmxlIDQzMzcgbW9kdWxlXG4gICAgICAgICAgICBjb25zdCBlbmFibGU0MzM3TW9kdWxlVHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgdG86IGFkZE1vZHVsZXNMaWJBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnMCcsXG4gICAgICAgICAgICAgICAgZGF0YTogY29uc3RhbnRzXzEuSU5URVJGQUNFUy5lbmNvZGVGdW5jdGlvbkRhdGEoJ2VuYWJsZU1vZHVsZXMnLCBbW3NhZmU0MzM3TW9kdWxlQWRkcmVzc11dKSxcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IHNhZmVfY29yZV9zZGtfdHlwZXNfMS5PcGVyYXRpb25UeXBlLkRlbGVnYXRlQ2FsbCAvLyBEZWxlZ2F0ZUNhbGwgcmVxdWlyZWQgZm9yIGVuYWJsaW5nIHRoZSA0MzM3IG1vZHVsZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNldHVwVHJhbnNhY3Rpb25zID0gW2VuYWJsZTQzMzdNb2R1bGVUcmFuc2FjdGlvbl07XG4gICAgICAgICAgICBjb25zdCBpc0FwcHJvdmVUcmFuc2FjdGlvblJlcXVpcmVkID0gISFwYXltYXN0ZXJPcHRpb25zICYmXG4gICAgICAgICAgICAgICAgIXBheW1hc3Rlck9wdGlvbnMuaXNTcG9uc29yZWQgJiZcbiAgICAgICAgICAgICAgICAhIXBheW1hc3Rlck9wdGlvbnMucGF5bWFzdGVyVG9rZW5BZGRyZXNzO1xuICAgICAgICAgICAgaWYgKGlzQXBwcm92ZVRyYW5zYWN0aW9uUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBheW1hc3RlckFkZHJlc3MsIGFtb3VudFRvQXBwcm92ZSA9IE1BWF9FUkMyMF9BTU9VTlRfVE9fQVBQUk9WRSB9ID0gcGF5bWFzdGVyT3B0aW9ucztcbiAgICAgICAgICAgICAgICAvLyBzZWNvbmQgdHJhbnNhY3Rpb246IGFwcHJvdmUgRVJDLTIwIHBheW1hc3RlciB0b2tlblxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmVUb1BheW1hc3RlclRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB0bzogcGF5bWFzdGVyT3B0aW9ucy5wYXltYXN0ZXJUb2tlbkFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvbnN0YW50c18xLklOVEVSRkFDRVMuZW5jb2RlRnVuY3Rpb25EYXRhKCdhcHByb3ZlJywgW3BheW1hc3RlckFkZHJlc3MsIGFtb3VudFRvQXBwcm92ZV0pLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJzAnLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246IHNhZmVfY29yZV9zZGtfdHlwZXNfMS5PcGVyYXRpb25UeXBlLkNhbGwgLy8gQ2FsbCBmb3IgYXBwcm92ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc2V0dXBUcmFuc2FjdGlvbnMucHVzaChhcHByb3ZlVG9QYXltYXN0ZXJUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYWZlUHJvdmlkZXIgPSBhd2FpdCBwcm90b2NvbF9raXRfMS5TYWZlUHJvdmlkZXIuaW5pdChwcm92aWRlciwgc2lnbmVyLCBzYWZlVmVyc2lvbik7XG4gICAgICAgICAgICAvLyB0aGlyZCB0cmFuc2FjdGlvbjogcGFzc2tleSBzdXBwb3J0IHZpYSBzaGFyZWQgc2lnbmVyIFNhZmVXZWJBdXRoblNoYXJlZFNpZ25lclxuICAgICAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vc2FmZS1nbG9iYWwvc2FmZS1tb2R1bGVzL2Jsb2IvbWFpbi9tb2R1bGVzL3Bhc3NrZXkvY29udHJhY3RzLzQzMzcvZXhwZXJpbWVudGFsL1JFQURNRS5tZFxuICAgICAgICAgICAgY29uc3QgaXNQYXNza2V5U2lnbmVyID0gYXdhaXQgc2FmZVByb3ZpZGVyLmlzUGFzc2tleVNpZ25lcigpO1xuICAgICAgICAgICAgaWYgKGlzUGFzc2tleVNpZ25lcikge1xuICAgICAgICAgICAgICAgIGlmICghc2FmZVdlYkF1dGhuU2hhcmVkU2lnbmVyQWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZlV2ViQXV0aG5TaGFyZWRTaWduZXJEZXBsb3ltZW50ID0gKDAsIHNhZmVfbW9kdWxlc19kZXBsb3ltZW50c18xLmdldFNhZmVXZWJBdXRoblNoYXJlU2lnbmVyRGVwbG95bWVudCkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVsZWFzZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMC4yLjEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2FmZVdlYkF1dGhuU2hhcmVkU2lnbmVyQWRkcmVzcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBzYWZlV2ViQXV0aG5TaGFyZWRTaWduZXJEZXBsb3ltZW50Py5uZXR3b3JrQWRkcmVzc2VzW25ldHdvcmtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXNhZmVXZWJBdXRoblNoYXJlZFNpZ25lckFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzYWZlV2ViQXV0aG5TaGFyZWRTaWduZXJBZGRyZXNzIG5vdCBhdmFpbGFibGUgZm9yIGNoYWluICR7bmV0d29ya31gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGFzc2tleVNpZ25lciA9IChhd2FpdCBzYWZlUHJvdmlkZXIuZ2V0RXh0ZXJuYWxTaWduZXIoKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLm93bmVycy5pbmNsdWRlcyhzYWZlV2ViQXV0aG5TaGFyZWRTaWduZXJBZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm93bmVycy5wdXNoKHNhZmVXZWJBdXRoblNoYXJlZFNpZ25lckFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXNza2V5T3duZXJDb25maWd1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5wYXNza2V5U2lnbmVyLmNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgICAgICB2ZXJpZmllcnM6IHBhc3NrZXlTaWduZXIudmVyaWZpZXJBZGRyZXNzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFyZWRTaWduZXJUcmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG86IHNhZmVXZWJBdXRoblNoYXJlZFNpZ25lckFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvbnN0YW50c18xLklOVEVSRkFDRVMuZW5jb2RlRnVuY3Rpb25EYXRhKCdjb25maWd1cmUnLCBbcGFzc2tleU93bmVyQ29uZmlndXJhdGlvbl0pLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246IHNhZmVfY29yZV9zZGtfdHlwZXNfMS5PcGVyYXRpb25UeXBlLkRlbGVnYXRlQ2FsbCAvLyBEZWxlZ2F0ZUNhbGwgcmVxdWlyZWQgaW50byB0aGUgU2FmZVdlYkF1dGhuU2hhcmVkU2lnbmVyIGluc3RhbmNlIGluIG9yZGVyIGZvciBpdCB0byBzZXQgaXRzIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzZXR1cFRyYW5zYWN0aW9ucy5wdXNoKHNoYXJlZFNpZ25lclRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkZXBsb3ltZW50VG87XG4gICAgICAgICAgICBsZXQgZGVwbG95bWVudERhdGE7XG4gICAgICAgICAgICBjb25zdCBpc0JhdGNoID0gc2V0dXBUcmFuc2FjdGlvbnMubGVuZ3RoID4gMTtcbiAgICAgICAgICAgIGlmIChpc0JhdGNoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXVsdGlTZW5kQ29udHJhY3QgPSBhd2FpdCAoMCwgcHJvdG9jb2xfa2l0XzEuZ2V0TXVsdGlTZW5kQ29udHJhY3QpKHtcbiAgICAgICAgICAgICAgICAgICAgc2FmZVByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICBzYWZlVmVyc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoRGF0YSA9IGNvbnN0YW50c18xLklOVEVSRkFDRVMuZW5jb2RlRnVuY3Rpb25EYXRhKCdtdWx0aVNlbmQnLCBbXG4gICAgICAgICAgICAgICAgICAgICgwLCBwcm90b2NvbF9raXRfMS5lbmNvZGVNdWx0aVNlbmREYXRhKShzZXR1cFRyYW5zYWN0aW9ucylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBkZXBsb3ltZW50VG8gPSBhd2FpdCBtdWx0aVNlbmRDb250cmFjdC5nZXRBZGRyZXNzKCk7XG4gICAgICAgICAgICAgICAgZGVwbG95bWVudERhdGEgPSBiYXRjaERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXBsb3ltZW50VG8gPSBlbmFibGU0MzM3TW9kdWxlVHJhbnNhY3Rpb24udG87XG4gICAgICAgICAgICAgICAgZGVwbG95bWVudERhdGEgPSBlbmFibGU0MzM3TW9kdWxlVHJhbnNhY3Rpb24uZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3RvY29sS2l0ID0gYXdhaXQgcHJvdG9jb2xfa2l0XzEuZGVmYXVsdC5pbml0KHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcixcbiAgICAgICAgICAgICAgICBzaWduZXIsXG4gICAgICAgICAgICAgICAgcHJlZGljdGVkU2FmZToge1xuICAgICAgICAgICAgICAgICAgICBzYWZlRGVwbG95bWVudENvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVZlcnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBzYWx0Tm9uY2U6IG9wdGlvbnMuc2FsdE5vbmNlIHx8IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzYWZlQWNjb3VudENvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJzOiBvcHRpb25zLm93bmVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogb3B0aW9ucy50aHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogZGVwbG95bWVudFRvLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGVwbG95bWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxsYmFja0hhbmRsZXI6IHNhZmU0MzM3TW9kdWxlQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRUb2tlbjogZXRoZXJzXzEuZXRoZXJzLlplcm9BZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRSZWNlaXZlcjogZXRoZXJzXzEuZXRoZXJzLlplcm9BZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VsZWN0ZWRFbnRyeVBvaW50O1xuICAgICAgICBpZiAoY3VzdG9tQ29udHJhY3RzPy5lbnRyeVBvaW50QWRkcmVzcykge1xuICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRTYWZlTW9kdWxlc1ZlcnNpb24gPSAoMCwgZW50cnlwb2ludF8xLmVudHJ5UG9pbnRUb1NhZmVNb2R1bGVzKShjdXN0b21Db250cmFjdHM/LmVudHJ5UG9pbnRBZGRyZXNzKTtcbiAgICAgICAgICAgIGlmICghKDAsIHNhdGlzZmllc18xLmRlZmF1bHQpKHNhZmVNb2R1bGVzVmVyc2lvbiwgcmVxdWlyZWRTYWZlTW9kdWxlc1ZlcnNpb24pKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHNlbGVjdGVkIGVudHJ5cG9pbnQgJHtjdXN0b21Db250cmFjdHM/LmVudHJ5UG9pbnRBZGRyZXNzfSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHZlcnNpb24gJHtzYWZlTW9kdWxlc1ZlcnNpb259IG9mIFNhZmUgbW9kdWxlc2ApO1xuICAgICAgICAgICAgc2VsZWN0ZWRFbnRyeVBvaW50ID0gY3VzdG9tQ29udHJhY3RzPy5lbnRyeVBvaW50QWRkcmVzcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZEVudHJ5UG9pbnRzID0gYXdhaXQgYnVuZGxlckNsaWVudC5zZW5kKGNvbnN0YW50c18xLlJQQ180MzM3X0NBTExTLlNVUFBPUlRFRF9FTlRSWV9QT0lOVFMsIFtdKTtcbiAgICAgICAgICAgIGlmICghc3VwcG9ydGVkRW50cnlQb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBlbnRyeXBvaW50IHByb3ZpZGVkIG9yIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSBidW5kbGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3RlZEVudHJ5UG9pbnQgPSBzdXBwb3J0ZWRFbnRyeVBvaW50cy5maW5kKChlbnRyeVBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRTYWZlTW9kdWxlc1ZlcnNpb24gPSAoMCwgZW50cnlwb2ludF8xLmVudHJ5UG9pbnRUb1NhZmVNb2R1bGVzKShlbnRyeVBvaW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHNhdGlzZmllc18xLmRlZmF1bHQpKHNhZmVNb2R1bGVzVmVyc2lvbiwgcmVxdWlyZWRTYWZlTW9kdWxlc1ZlcnNpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkRW50cnlQb2ludCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5jb21wYXRpYmlsaXR5IGRldGVjdGVkOiBOb25lIG9mIHRoZSBlbnRyeXBvaW50cyBwcm92aWRlZCBieSB0aGUgYnVuZGxlciBpcyBjb21wYXRpYmxlIHdpdGggdGhlIFNhZmUgbW9kdWxlcyB2ZXJzaW9uICR7c2FmZU1vZHVsZXNWZXJzaW9ufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2FmZTQzMzdQYWNrKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IEJpZ0ludChjaGFpbklkKSxcbiAgICAgICAgICAgIHByb3RvY29sS2l0LFxuICAgICAgICAgICAgYnVuZGxlckNsaWVudCxcbiAgICAgICAgICAgIHBheW1hc3Rlck9wdGlvbnMsXG4gICAgICAgICAgICBidW5kbGVyVXJsLFxuICAgICAgICAgICAgZW50cnlQb2ludEFkZHJlc3M6IHNlbGVjdGVkRW50cnlQb2ludCxcbiAgICAgICAgICAgIHNhZmU0MzM3TW9kdWxlQWRkcmVzcyxcbiAgICAgICAgICAgIHNhZmVXZWJBdXRoblNoYXJlZFNpZ25lckFkZHJlc3NcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVzdGltYXRlcyBnYXMgZm9yIHRoZSBTYWZlT3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFc3RpbWF0ZUZlZVByb3BzfSBwcm9wcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgZ2FzIGVzdGltYXRpb24uXG4gICAgICogQHBhcmFtIHtFdGhTYWZlT3BlcmF0aW9ufSBwcm9wcy5zYWZlT3BlcmF0aW9uIC0gVGhlIFNhZmVPcGVyYXRpb24gdG8gZXN0aW1hdGUgdGhlIGdhcy5cbiAgICAgKiBAcGFyYW0ge0lGZWVFc3RpbWF0b3J9IHByb3BzLmZlZUVzdGltYXRvciAtIFRoZSBmdW5jdGlvbiB0byBlc3RpbWF0ZSB0aGUgZ2FzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8RXRoU2FmZU9wZXJhdGlvbj59IFRoZSBQcm9taXNlIG9iamVjdCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgaW50byB0aGUgZ2FzIGVzdGltYXRpb24uXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RXN0aW1hdGVGZWUoeyBzYWZlT3BlcmF0aW9uLCBmZWVFc3RpbWF0b3IgPSBuZXcgUGltbGljb0ZlZUVzdGltYXRvcl8xLlBpbWxpY29GZWVFc3RpbWF0b3IoKSB9KSB7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuZ2V0VGhyZXNob2xkKCk7XG4gICAgICAgIGNvbnN0IHNldHVwRXN0aW1hdGlvbkRhdGEgPSBhd2FpdCBmZWVFc3RpbWF0b3I/LnNldHVwRXN0aW1hdGlvbj8uKHtcbiAgICAgICAgICAgIGJ1bmRsZXJVcmw6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19CVU5ETEVSX1VSTCwgXCJmXCIpLFxuICAgICAgICAgICAgZW50cnlQb2ludDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX0VOVFJZUE9JTlRfQUREUkVTUywgXCJmXCIpLFxuICAgICAgICAgICAgdXNlck9wZXJhdGlvbjogc2FmZU9wZXJhdGlvbi50b1VzZXJPcGVyYXRpb24oKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNldHVwRXN0aW1hdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHNhZmVPcGVyYXRpb24uYWRkRXN0aW1hdGlvbnMoc2V0dXBFc3RpbWF0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXN0aW1hdGVVc2VyT3BlcmF0aW9uR2FzID0gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQsIFwiZlwiKS5zZW5kKGNvbnN0YW50c18xLlJQQ180MzM3X0NBTExTLkVTVElNQVRFX1VTRVJfT1BFUkFUSU9OX0dBUywgW1xuICAgICAgICAgICAgKDAsIHV0aWxzXzEudXNlck9wZXJhdGlvblRvSGV4VmFsdWVzKSgoMCwgdXRpbHNfMS5hZGREdW1teVNpZ25hdHVyZSkoc2FmZU9wZXJhdGlvbi50b1VzZXJPcGVyYXRpb24oKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX1NBRkVfV0VCQVVUSE5fU0hBUkVEX1NJR05FUl9BRERSRVNTLCBcImZcIiksIHRocmVzaG9sZCkpLFxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX0VOVFJZUE9JTlRfQUREUkVTUywgXCJmXCIpXG4gICAgICAgIF0pO1xuICAgICAgICBpZiAoZXN0aW1hdGVVc2VyT3BlcmF0aW9uR2FzKSB7XG4gICAgICAgICAgICBzYWZlT3BlcmF0aW9uLmFkZEVzdGltYXRpb25zKHtcbiAgICAgICAgICAgICAgICBwcmVWZXJpZmljYXRpb25HYXM6IEJpZ0ludChlc3RpbWF0ZVVzZXJPcGVyYXRpb25HYXMucHJlVmVyaWZpY2F0aW9uR2FzKSxcbiAgICAgICAgICAgICAgICB2ZXJpZmljYXRpb25HYXNMaW1pdDogQmlnSW50KGVzdGltYXRlVXNlck9wZXJhdGlvbkdhcy52ZXJpZmljYXRpb25HYXNMaW1pdCksXG4gICAgICAgICAgICAgICAgY2FsbEdhc0xpbWl0OiBCaWdJbnQoZXN0aW1hdGVVc2VyT3BlcmF0aW9uR2FzLmNhbGxHYXNMaW1pdClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFkanVzdEVzdGltYXRpb25EYXRhID0gYXdhaXQgZmVlRXN0aW1hdG9yPy5hZGp1c3RFc3RpbWF0aW9uPy4oe1xuICAgICAgICAgICAgYnVuZGxlclVybDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX0JVTkRMRVJfVVJMLCBcImZcIiksXG4gICAgICAgICAgICBlbnRyeVBvaW50OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfRU5UUllQT0lOVF9BRERSRVNTLCBcImZcIiksXG4gICAgICAgICAgICB1c2VyT3BlcmF0aW9uOiBzYWZlT3BlcmF0aW9uLnRvVXNlck9wZXJhdGlvbigpXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWRqdXN0RXN0aW1hdGlvbkRhdGEpIHtcbiAgICAgICAgICAgIHNhZmVPcGVyYXRpb24uYWRkRXN0aW1hdGlvbnMoYWRqdXN0RXN0aW1hdGlvbkRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfcGF5bWFzdGVyT3B0aW9ucywgXCJmXCIpPy5pc1Nwb25zb3JlZCkge1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfcGF5bWFzdGVyT3B0aW9ucywgXCJmXCIpLnBheW1hc3RlclVybCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcGF5bWFzdGVyIHVybCBwcm92aWRlZCBmb3IgYSBzcG9uc29yZWQgdHJhbnNhY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBheW1hc3RlckVzdGltYXRpb24gPSBhd2FpdCBmZWVFc3RpbWF0b3I/LmdldFBheW1hc3RlckVzdGltYXRpb24/Lih7XG4gICAgICAgICAgICAgICAgdXNlck9wZXJhdGlvbjogKDAsIHV0aWxzXzEuYWRkRHVtbXlTaWduYXR1cmUpKHNhZmVPcGVyYXRpb24udG9Vc2VyT3BlcmF0aW9uKCksIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19TQUZFX1dFQkFVVEhOX1NIQVJFRF9TSUdORVJfQUREUkVTUywgXCJmXCIpLCB0aHJlc2hvbGQpLFxuICAgICAgICAgICAgICAgIHBheW1hc3RlclVybDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX3BheW1hc3Rlck9wdGlvbnMsIFwiZlwiKS5wYXltYXN0ZXJVcmwsXG4gICAgICAgICAgICAgICAgZW50cnlQb2ludDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX0VOVFJZUE9JTlRfQUREUkVTUywgXCJmXCIpLFxuICAgICAgICAgICAgICAgIHNwb25zb3JzaGlwUG9saWN5SWQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19wYXltYXN0ZXJPcHRpb25zLCBcImZcIikuc3BvbnNvcnNoaXBQb2xpY3lJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzYWZlT3BlcmF0aW9uLmRhdGEucGF5bWFzdGVyQW5kRGF0YSA9XG4gICAgICAgICAgICAgICAgcGF5bWFzdGVyRXN0aW1hdGlvbj8ucGF5bWFzdGVyQW5kRGF0YSB8fCBzYWZlT3BlcmF0aW9uLmRhdGEucGF5bWFzdGVyQW5kRGF0YTtcbiAgICAgICAgICAgIGlmIChwYXltYXN0ZXJFc3RpbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2FmZU9wZXJhdGlvbi5hZGRFc3RpbWF0aW9ucyhwYXltYXN0ZXJFc3RpbWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2FmZU9wZXJhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlbGF5ZWQgdHJhbnNhY3Rpb24gYmFzZWQgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01ldGFUcmFuc2FjdGlvbkRhdGFbXX0gdHJhbnNhY3Rpb25zIC0gVGhlIHRyYW5zYWN0aW9ucyB0byBiYXRjaCBpbiBhIFNhZmVPcGVyYXRpb24uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSB0cmFuc2FjdGlvbiBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEV0aFNhZmVPcGVyYXRpb24+fSBUaGUgUHJvbWlzZSBvYmplY3Qgd2lsbCByZXNvbHZlIGEgU2FmZU9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVUcmFuc2FjdGlvbih7IHRyYW5zYWN0aW9ucywgb3B0aW9ucyA9IHt9IH0pIHtcbiAgICAgICAgY29uc3Qgc2FmZUFkZHJlc3MgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmdldEFkZHJlc3MoKTtcbiAgICAgICAgY29uc3Qgbm9uY2UgPSBhd2FpdCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfaW5zdGFuY2VzLCBcIm1cIiwgX1NhZmU0MzM3UGFja19nZXRTYWZlTm9uY2VGcm9tRW50cnlwb2ludCkuY2FsbCh0aGlzLCBzYWZlQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IHsgYW1vdW50VG9BcHByb3ZlLCB2YWxpZFVudGlsLCB2YWxpZEFmdGVyLCBmZWVFc3RpbWF0b3IgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChhbW91bnRUb0FwcHJvdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1hc3Rlck9wdGlvbnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfcGF5bWFzdGVyT3B0aW9ucywgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKCFwYXltYXN0ZXJPcHRpb25zLnBheW1hc3RlclRva2VuQWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGF5bWFzdGVyIG11c3QgYmUgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmVUb1BheW1hc3RlclRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgIHRvOiBwYXltYXN0ZXJPcHRpb25zLnBheW1hc3RlclRva2VuQWRkcmVzcyxcbiAgICAgICAgICAgICAgICBkYXRhOiBjb25zdGFudHNfMS5JTlRFUkZBQ0VTLmVuY29kZUZ1bmN0aW9uRGF0YSgnYXBwcm92ZScsIFtcbiAgICAgICAgICAgICAgICAgICAgcGF5bWFzdGVyT3B0aW9ucy5wYXltYXN0ZXJBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBhbW91bnRUb0FwcHJvdmVcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzAnLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogc2FmZV9jb3JlX3Nka190eXBlc18xLk9wZXJhdGlvblR5cGUuQ2FsbCAvLyBDYWxsIGZvciBhcHByb3ZlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25zLnB1c2goYXBwcm92ZVRvUGF5bWFzdGVyVHJhbnNhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQmF0Y2ggPSB0cmFuc2FjdGlvbnMubGVuZ3RoID4gMTtcbiAgICAgICAgY29uc3QgbXVsdGlTZW5kQWRkcmVzcyA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuZ2V0TXVsdGlTZW5kQWRkcmVzcygpO1xuICAgICAgICBjb25zdCBjYWxsRGF0YSA9IGlzQmF0Y2hcbiAgICAgICAgICAgID8gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2luc3RhbmNlcywgXCJtXCIsIF9TYWZlNDMzN1BhY2tfZW5jb2RlRXhlY3V0ZVVzZXJPcENhbGxEYXRhKS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0bzogbXVsdGlTZW5kQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzAnLFxuICAgICAgICAgICAgICAgIGRhdGE6ICgwLCB1dGlsc18xLmVuY29kZU11bHRpU2VuZENhbGxEYXRhKSh0cmFuc2FjdGlvbnMpLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogc2FmZV9jb3JlX3Nka190eXBlc18xLk9wZXJhdGlvblR5cGUuRGVsZWdhdGVDYWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfaW5zdGFuY2VzLCBcIm1cIiwgX1NhZmU0MzM3UGFja19lbmNvZGVFeGVjdXRlVXNlck9wQ2FsbERhdGEpLmNhbGwodGhpcywgdHJhbnNhY3Rpb25zWzBdKTtcbiAgICAgICAgY29uc3QgcGF5bWFzdGVyQW5kRGF0YSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19wYXltYXN0ZXJPcHRpb25zLCBcImZcIikgJiYgJ3BheW1hc3RlckFkZHJlc3MnIGluIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19wYXltYXN0ZXJPcHRpb25zLCBcImZcIilcbiAgICAgICAgICAgID8gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX3BheW1hc3Rlck9wdGlvbnMsIFwiZlwiKS5wYXltYXN0ZXJBZGRyZXNzXG4gICAgICAgICAgICA6ICcweCc7XG4gICAgICAgIGNvbnN0IHVzZXJPcGVyYXRpb24gPSB7XG4gICAgICAgICAgICBzZW5kZXI6IHNhZmVBZGRyZXNzLFxuICAgICAgICAgICAgbm9uY2U6IG5vbmNlLFxuICAgICAgICAgICAgaW5pdENvZGU6ICcweCcsXG4gICAgICAgICAgICBjYWxsRGF0YSxcbiAgICAgICAgICAgIGNhbGxHYXNMaW1pdDogMW4sXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25HYXNMaW1pdDogMW4sXG4gICAgICAgICAgICBwcmVWZXJpZmljYXRpb25HYXM6IDFuLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiAxbixcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiAxbixcbiAgICAgICAgICAgIHBheW1hc3RlckFuZERhdGEsXG4gICAgICAgICAgICBzaWduYXR1cmU6ICcweCdcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaXNTYWZlRGVwbG95ZWQgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmlzU2FmZURlcGxveWVkKCk7XG4gICAgICAgIGlmICghaXNTYWZlRGVwbG95ZWQpIHtcbiAgICAgICAgICAgIHVzZXJPcGVyYXRpb24uaW5pdENvZGUgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmdldEluaXRDb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FmZU9wZXJhdGlvbiA9IG5ldyBTYWZlT3BlcmF0aW9uXzEuZGVmYXVsdCh1c2VyT3BlcmF0aW9uLCB7XG4gICAgICAgICAgICBjaGFpbklkOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfY2hhaW5JZCwgXCJmXCIpLFxuICAgICAgICAgICAgbW9kdWxlQWRkcmVzczogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX1NBRkVfNDMzN19NT0RVTEVfQUREUkVTUywgXCJmXCIpLFxuICAgICAgICAgICAgZW50cnlQb2ludDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX0VOVFJZUE9JTlRfQUREUkVTUywgXCJmXCIpLFxuICAgICAgICAgICAgdmFsaWRVbnRpbCxcbiAgICAgICAgICAgIHZhbGlkQWZ0ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEVzdGltYXRlRmVlKHtcbiAgICAgICAgICAgIHNhZmVPcGVyYXRpb24sXG4gICAgICAgICAgICBmZWVFc3RpbWF0b3JcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpZ25zIGEgc2FmZSBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V0aFNhZmVPcGVyYXRpb24gfCBTYWZlT3BlcmF0aW9uUmVzcG9uc2V9IHNhZmVPcGVyYXRpb24gLSBUaGUgU2FmZU9wZXJhdGlvbiB0byBzaWduLiBJdCBjYW4gYmU6XG4gICAgICogLSBBIHJlc3BvbnNlIGZyb20gdGhlIEFQSSAoVHggU2VydmljZSlcbiAgICAgKiAtIEFuIGluc3RhbmNlIG9mIEV0aFNhZmVPcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1NpZ25pbmdNZXRob2R9IHNpZ25pbmdNZXRob2QgLSBUaGUgc2lnbmluZyBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8RXRoU2FmZU9wZXJhdGlvbj59IFRoZSBQcm9taXNlIG9iamVjdCB3aWxsIHJlc29sdmUgdG8gdGhlIHNpZ25lZCBTYWZlT3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25TYWZlT3BlcmF0aW9uKHNhZmVPcGVyYXRpb24sIHNpZ25pbmdNZXRob2QgPSBwcm90b2NvbF9raXRfMS5TaWduaW5nTWV0aG9kLkVUSF9TSUdOX1RZUEVEX0RBVEFfVjQpIHtcbiAgICAgICAgbGV0IHNhZmVPcDtcbiAgICAgICAgaWYgKCgwLCBzYWZlX2NvcmVfc2RrX3R5cGVzXzEuaXNTYWZlT3BlcmF0aW9uUmVzcG9uc2UpKHNhZmVPcGVyYXRpb24pKSB7XG4gICAgICAgICAgICBzYWZlT3AgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfaW5zdGFuY2VzLCBcIm1cIiwgX1NhZmU0MzM3UGFja190b1NhZmVPcGVyYXRpb24pLmNhbGwodGhpcywgc2FmZU9wZXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzYWZlT3AgPSBzYWZlT3BlcmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhZmVQcm92aWRlciA9IHRoaXMucHJvdG9jb2xLaXQuZ2V0U2FmZVByb3ZpZGVyKCk7XG4gICAgICAgIGNvbnN0IHNpZ25lckFkZHJlc3MgPSBhd2FpdCBzYWZlUHJvdmlkZXIuZ2V0U2lnbmVyQWRkcmVzcygpO1xuICAgICAgICBjb25zdCBpc1Bhc3NrZXlTaWduZXIgPSBhd2FpdCBzYWZlUHJvdmlkZXIuaXNQYXNza2V5U2lnbmVyKCk7XG4gICAgICAgIGlmICghc2lnbmVyQWRkcmVzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBzaWduZXIgYWRkcmVzcyBhdmFpbGFibGUgdG8gc2lnbiB0aGUgU2FmZU9wZXJhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzT3duZXIgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LmlzT3duZXIoc2lnbmVyQWRkcmVzcyk7XG4gICAgICAgIGNvbnN0IGlzU2FmZURlcGxveWVkID0gYXdhaXQgdGhpcy5wcm90b2NvbEtpdC5pc1NhZmVEZXBsb3llZCgpO1xuICAgICAgICBpZiAoKCFpc093bmVyICYmIGlzU2FmZURlcGxveWVkKSB8fCAoIWlzU2FmZURlcGxveWVkICYmICFpc1Bhc3NrZXlTaWduZXIgJiYgIWlzT3duZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXJPcGVyYXRpb25zIGNhbiBvbmx5IGJlIHNpZ25lZCBieSBTYWZlIG93bmVycycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaWduYXR1cmU7XG4gICAgICAgIGlmIChpc1Bhc3NrZXlTaWduZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhZmVPcEhhc2ggPSBzYWZlT3AuZ2V0SGFzaCgpO1xuICAgICAgICAgICAgLy8gaWYgdGhlIFNhZmUgaXMgbm90IGRlcGxveWVkIHdlIGZvcmNlIHRoZSBTaGFyZWQgU2lnbmVyIHNpZ25hdHVyZVxuICAgICAgICAgICAgaWYgKCFpc1NhZmVEZXBsb3llZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhc3NrZXlTaWduYXR1cmUgPSBhd2FpdCB0aGlzLnByb3RvY29sS2l0LnNpZ25IYXNoKHNhZmVPcEhhc2gpO1xuICAgICAgICAgICAgICAgIC8vIFNhZmVXZWJBdXRoblNoYXJlZFNpZ25lciBzaWduYXR1cmVcbiAgICAgICAgICAgICAgICBzaWduYXR1cmUgPSBuZXcgcHJvdG9jb2xfa2l0XzEuRXRoU2FmZVNpZ25hdHVyZShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfU0FGRV9XRUJBVVRITl9TSEFSRURfU0lHTkVSX0FERFJFU1MsIFwiZlwiKSwgcGFzc2tleVNpZ25hdHVyZS5kYXRhLCB0cnVlIC8vIHBhc3NrZXlzIGFyZSBjb250cmFjdCBzaWduYXR1cmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuc2lnbkhhc2goc2FmZU9wSGFzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2lnbmluZ01ldGhvZCBpblxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2xfa2l0XzEuU2lnbmluZ01ldGhvZC5FVEhfU0lHTl9UWVBFRF9EQVRBX1Y0LFxuICAgICAgICAgICAgICAgICAgICBwcm90b2NvbF9raXRfMS5TaWduaW5nTWV0aG9kLkVUSF9TSUdOX1RZUEVEX0RBVEFfVjMsXG4gICAgICAgICAgICAgICAgICAgIHByb3RvY29sX2tpdF8xLlNpZ25pbmdNZXRob2QuRVRIX1NJR05fVFlQRURfREFUQVxuICAgICAgICAgICAgICAgIF0pIHtcbiAgICAgICAgICAgICAgICBzaWduYXR1cmUgPSBhd2FpdCAoMCwgdXRpbHNfMS5zaWduU2FmZU9wKShzYWZlT3AuZGF0YSwgdGhpcy5wcm90b2NvbEtpdC5nZXRTYWZlUHJvdmlkZXIoKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX1NBRkVfNDMzN19NT0RVTEVfQUREUkVTUywgXCJmXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVPcEhhc2ggPSBzYWZlT3AuZ2V0SGFzaCgpO1xuICAgICAgICAgICAgICAgIHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMucHJvdG9jb2xLaXQuc2lnbkhhc2goc2FmZU9wSGFzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbmVkU2FmZU9wZXJhdGlvbiA9IG5ldyBTYWZlT3BlcmF0aW9uXzEuZGVmYXVsdChzYWZlT3AudG9Vc2VyT3BlcmF0aW9uKCksIHtcbiAgICAgICAgICAgIGNoYWluSWQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19jaGFpbklkLCBcImZcIiksXG4gICAgICAgICAgICBtb2R1bGVBZGRyZXNzOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfU0FGRV80MzM3X01PRFVMRV9BRERSRVNTLCBcImZcIiksXG4gICAgICAgICAgICBlbnRyeVBvaW50OiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfRU5UUllQT0lOVF9BRERSRVNTLCBcImZcIiksXG4gICAgICAgICAgICB2YWxpZFVudGlsOiBzYWZlT3AuZGF0YS52YWxpZFVudGlsLFxuICAgICAgICAgICAgdmFsaWRBZnRlcjogc2FmZU9wLmRhdGEudmFsaWRBZnRlclxuICAgICAgICB9KTtcbiAgICAgICAgc2FmZU9wLnNpZ25hdHVyZXMuZm9yRWFjaCgoc2lnbmF0dXJlKSA9PiB7XG4gICAgICAgICAgICBzaWduZWRTYWZlT3BlcmF0aW9uLmFkZFNpZ25hdHVyZShzaWduYXR1cmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2lnbmVkU2FmZU9wZXJhdGlvbi5hZGRTaWduYXR1cmUoc2lnbmF0dXJlKTtcbiAgICAgICAgcmV0dXJuIHNpZ25lZFNhZmVPcGVyYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSByZWxheSB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2FmZTQzMzdFeGVjdXRhYmxlUHJvcHN9IHByb3BzIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHRoZSB0cmFuc2FjdGlvbiBleGVjdXRpb24uXG4gICAgICogQHBhcmFtIHtFdGhTYWZlT3BlcmF0aW9uIHwgU2FmZU9wZXJhdGlvblJlc3BvbnNlfSBwcm9wcy5leGVjdXRhYmxlIC0gVGhlIFNhZmVPcGVyYXRpb24gdG8gZXhlY3V0ZS4gSXQgY2FuIGJlOlxuICAgICAqIC0gQSByZXNwb25zZSBmcm9tIHRoZSBBUEkgKFR4IFNlcnZpY2UpXG4gICAgICogLSBBbiBpbnN0YW5jZSBvZiBFdGhTYWZlT3BlcmF0aW9uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSBUaGUgdXNlciBvcGVyYXRpb24gaGFzaC5cbiAgICAgKi9cbiAgICBhc3luYyBleGVjdXRlVHJhbnNhY3Rpb24oeyBleGVjdXRhYmxlIH0pIHtcbiAgICAgICAgbGV0IHNhZmVPcGVyYXRpb247XG4gICAgICAgIGlmICgoMCwgc2FmZV9jb3JlX3Nka190eXBlc18xLmlzU2FmZU9wZXJhdGlvblJlc3BvbnNlKShleGVjdXRhYmxlKSkge1xuICAgICAgICAgICAgc2FmZU9wZXJhdGlvbiA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19pbnN0YW5jZXMsIFwibVwiLCBfU2FmZTQzMzdQYWNrX3RvU2FmZU9wZXJhdGlvbikuY2FsbCh0aGlzLCBleGVjdXRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNhZmVPcGVyYXRpb24gPSBleGVjdXRhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJPcGVyYXRpb24gPSBzYWZlT3BlcmF0aW9uLnRvVXNlck9wZXJhdGlvbigpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQsIFwiZlwiKS5zZW5kKGNvbnN0YW50c18xLlJQQ180MzM3X0NBTExTLlNFTkRfVVNFUl9PUEVSQVRJT04sIFtcbiAgICAgICAgICAgICgwLCB1dGlsc18xLnVzZXJPcGVyYXRpb25Ub0hleFZhbHVlcykodXNlck9wZXJhdGlvbiksXG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfRU5UUllQT0lOVF9BRERSRVNTLCBcImZcIilcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIFVzZXJPcGVyYXRpb24gYmFzZWQgb24gYSBoYXNoICh1c2VyT3BIYXNoKSByZXR1cm5lZCBieSBldGhfc2VuZFVzZXJPcGVyYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyT3BIYXNoIC0gVGhlIGhhc2ggb2YgdGhlIHVzZXIgb3BlcmF0aW9uIHRvIGZldGNoLiBSZXR1cm5lZCBmcm9tIHRoZSAjc2VuZFVzZXJPcGVyYXRpb24gbWV0aG9kXG4gICAgICogQHJldHVybnMge1VzZXJPcGVyYXRpb259IC0gbnVsbCBpbiBjYXNlIHRoZSBVc2VyT3BlcmF0aW9uIGlzIG5vdCB5ZXQgaW5jbHVkZWQgaW4gYSBibG9jaywgb3IgYSBmdWxsIFVzZXJPcGVyYXRpb24sIHdpdGggdGhlIGFkZGl0aW9uIG9mIGVudHJ5UG9pbnQsIGJsb2NrTnVtYmVyLCBibG9ja0hhc2ggYW5kIHRyYW5zYWN0aW9uSGFzaFxuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXJPcGVyYXRpb25CeUhhc2godXNlck9wSGFzaCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQsIFwiZlwiKS5zZW5kKGNvbnN0YW50c18xLlJQQ180MzM3X0NBTExTLkdFVF9VU0VSX09QRVJBVElPTl9CWV9IQVNILCBbdXNlck9wSGFzaF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBVc2VyT3BlcmF0aW9uIHJlY2VpcHQgYmFzZWQgb24gYSBoYXNoICh1c2VyT3BIYXNoKSByZXR1cm5lZCBieSBldGhfc2VuZFVzZXJPcGVyYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyT3BIYXNoIC0gVGhlIGhhc2ggb2YgdGhlIHVzZXIgb3BlcmF0aW9uIHRvIGZldGNoLiBSZXR1cm5lZCBmcm9tIHRoZSAjc2VuZFVzZXJPcGVyYXRpb24gbWV0aG9kXG4gICAgICogQHJldHVybnMge1VzZXJPcGVyYXRpb25SZWNlaXB0fSAtIG51bGwgaW4gY2FzZSB0aGUgVXNlck9wZXJhdGlvbiBpcyBub3QgeWV0IGluY2x1ZGVkIGluIGEgYmxvY2ssIG9yIFVzZXJPcGVyYXRpb25SZWNlaXB0IG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXJPcGVyYXRpb25SZWNlaXB0KHVzZXJPcEhhc2gpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19idW5kbGVyQ2xpZW50LCBcImZcIikuc2VuZChjb25zdGFudHNfMS5SUENfNDMzN19DQUxMUy5HRVRfVVNFUl9PUEVSQVRJT05fUkVDRUlQVCwgW3VzZXJPcEhhc2hdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiB0aGUgZW50cnlQb2ludCBhZGRyZXNzZXMgc3VwcG9ydGVkIGJ5IHRoZSBjbGllbnQuXG4gICAgICogVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5IFNIT1VMRCBiZSB0aGUgZW50cnlQb2ludCBhZGRyZXNzZWQgcHJlZmVycmVkIGJ5IHRoZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119IC0gVGhlIHN1cHBvcnRlZCBlbnRyeSBwb2ludHMuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0U3VwcG9ydGVkRW50cnlQb2ludHMoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfYnVuZGxlckNsaWVudCwgXCJmXCIpLnNlbmQoY29uc3RhbnRzXzEuUlBDXzQzMzdfQ0FMTFMuU1VQUE9SVEVEX0VOVFJZX1BPSU5UUywgW10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIEVJUC0xNTUgQ2hhaW4gSUQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBjaGFpbiBpZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRDaGFpbklkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQsIFwiZlwiKS5zZW5kKGNvbnN0YW50c18xLlJQQ180MzM3X0NBTExTLkNIQUlOX0lELCBbXSk7XG4gICAgfVxufVxuZXhwb3J0cy5TYWZlNDMzN1BhY2sgPSBTYWZlNDMzN1BhY2s7XG5fU2FmZTQzMzdQYWNrX0JVTkRMRVJfVVJMID0gbmV3IFdlYWtNYXAoKSwgX1NhZmU0MzM3UGFja19FTlRSWVBPSU5UX0FERFJFU1MgPSBuZXcgV2Vha01hcCgpLCBfU2FmZTQzMzdQYWNrX1NBRkVfNDMzN19NT0RVTEVfQUREUkVTUyA9IG5ldyBXZWFrTWFwKCksIF9TYWZlNDMzN1BhY2tfU0FGRV9XRUJBVVRITl9TSEFSRURfU0lHTkVSX0FERFJFU1MgPSBuZXcgV2Vha01hcCgpLCBfU2FmZTQzMzdQYWNrX2J1bmRsZXJDbGllbnQgPSBuZXcgV2Vha01hcCgpLCBfU2FmZTQzMzdQYWNrX2NoYWluSWQgPSBuZXcgV2Vha01hcCgpLCBfU2FmZTQzMzdQYWNrX3BheW1hc3Rlck9wdGlvbnMgPSBuZXcgV2Vha01hcCgpLCBfU2FmZTQzMzdQYWNrX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9TYWZlNDMzN1BhY2tfdG9TYWZlT3BlcmF0aW9uID0gZnVuY3Rpb24gX1NhZmU0MzM3UGFja190b1NhZmVPcGVyYXRpb24oc2FmZU9wZXJhdGlvblJlc3BvbnNlKSB7XG4gICAgY29uc3QgeyB2YWxpZFVudGlsLCB2YWxpZEFmdGVyLCB1c2VyT3BlcmF0aW9uIH0gPSBzYWZlT3BlcmF0aW9uUmVzcG9uc2U7XG4gICAgY29uc3Qgc2FmZU9wZXJhdGlvbiA9IG5ldyBTYWZlT3BlcmF0aW9uXzEuZGVmYXVsdCh7XG4gICAgICAgIHNlbmRlcjogdXNlck9wZXJhdGlvbj8uc2VuZGVyIHx8ICcweCcsXG4gICAgICAgIG5vbmNlOiB1c2VyT3BlcmF0aW9uPy5ub25jZT8udG9TdHJpbmcoKSB8fCAnMCcsXG4gICAgICAgIGluaXRDb2RlOiB1c2VyT3BlcmF0aW9uPy5pbml0Q29kZSB8fCAnJyxcbiAgICAgICAgY2FsbERhdGE6IHVzZXJPcGVyYXRpb24/LmNhbGxEYXRhIHx8ICcnLFxuICAgICAgICBjYWxsR2FzTGltaXQ6IEJpZ0ludCh1c2VyT3BlcmF0aW9uPy5jYWxsR2FzTGltaXQgfHwgMG4pLFxuICAgICAgICB2ZXJpZmljYXRpb25HYXNMaW1pdDogQmlnSW50KHVzZXJPcGVyYXRpb24/LnZlcmlmaWNhdGlvbkdhc0xpbWl0IHx8IDApLFxuICAgICAgICBwcmVWZXJpZmljYXRpb25HYXM6IEJpZ0ludCh1c2VyT3BlcmF0aW9uPy5wcmVWZXJpZmljYXRpb25HYXMgfHwgMCksXG4gICAgICAgIG1heEZlZVBlckdhczogQmlnSW50KHVzZXJPcGVyYXRpb24/Lm1heEZlZVBlckdhcyB8fCAwKSxcbiAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IEJpZ0ludCh1c2VyT3BlcmF0aW9uPy5tYXhQcmlvcml0eUZlZVBlckdhcyB8fCAwKSxcbiAgICAgICAgcGF5bWFzdGVyQW5kRGF0YTogZXRoZXJzXzEuZXRoZXJzLmhleGxpZnkoZXRoZXJzXzEuZXRoZXJzLmNvbmNhdChbdXNlck9wZXJhdGlvbj8ucGF5bWFzdGVyIHx8ICcweCcsIHVzZXJPcGVyYXRpb24/LnBheW1hc3RlckRhdGEgfHwgJzB4J10pKSxcbiAgICAgICAgc2lnbmF0dXJlOiBzYWZlT3BlcmF0aW9uUmVzcG9uc2UucHJlcGFyZWRTaWduYXR1cmUgfHwgJzB4J1xuICAgIH0sIHtcbiAgICAgICAgY2hhaW5JZDogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2NoYWluSWQsIFwiZlwiKSxcbiAgICAgICAgbW9kdWxlQWRkcmVzczogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX1NBRkVfNDMzN19NT0RVTEVfQUREUkVTUywgXCJmXCIpLFxuICAgICAgICBlbnRyeVBvaW50OiB1c2VyT3BlcmF0aW9uPy5lbnRyeVBvaW50IHx8IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NhZmU0MzM3UGFja19FTlRSWVBPSU5UX0FERFJFU1MsIFwiZlwiKSxcbiAgICAgICAgdmFsaWRBZnRlcjogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2FmZTQzMzdQYWNrX2luc3RhbmNlcywgXCJtXCIsIF9TYWZlNDMzN1BhY2tfdGltZXN0YW1wKS5jYWxsKHRoaXMsIHZhbGlkQWZ0ZXIpLFxuICAgICAgICB2YWxpZFVudGlsOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfaW5zdGFuY2VzLCBcIm1cIiwgX1NhZmU0MzM3UGFja190aW1lc3RhbXApLmNhbGwodGhpcywgdmFsaWRVbnRpbClcbiAgICB9KTtcbiAgICBpZiAoc2FmZU9wZXJhdGlvblJlc3BvbnNlLmNvbmZpcm1hdGlvbnMpIHtcbiAgICAgICAgc2FmZU9wZXJhdGlvblJlc3BvbnNlLmNvbmZpcm1hdGlvbnMuZm9yRWFjaCgoY29uZmlybWF0aW9uKSA9PiB7XG4gICAgICAgICAgICBzYWZlT3BlcmF0aW9uLmFkZFNpZ25hdHVyZShuZXcgcHJvdG9jb2xfa2l0XzEuRXRoU2FmZVNpZ25hdHVyZShjb25maXJtYXRpb24ub3duZXIsIGNvbmZpcm1hdGlvbi5zaWduYXR1cmUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzYWZlT3BlcmF0aW9uO1xufSwgX1NhZmU0MzM3UGFja190aW1lc3RhbXAgPSBmdW5jdGlvbiBfU2FmZTQzMzdQYWNrX3RpbWVzdGFtcChkYXRlKSB7XG4gICAgcmV0dXJuIGRhdGUgPyBuZXcgRGF0ZShkYXRlKS5nZXRUaW1lKCkgLyAxMDAwIDogdW5kZWZpbmVkO1xufSwgX1NhZmU0MzM3UGFja19nZXRTYWZlTm9uY2VGcm9tRW50cnlwb2ludCA9IFxuLyoqXG4gKiBHZXRzIGFjY291bnQgbm9uY2UgZnJvbSB0aGUgYnVuZGxlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2FmZUFkZHJlc3MgLSBBY2NvdW50IGFkZHJlc3MgZm9yIHdoaWNoIHRoZSBub25jZSBpcyB0byBiZSBmZXRjaGVkLlxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gVGhlIFByb21pc2Ugb2JqZWN0IHdpbGwgcmVzb2x2ZSB0byB0aGUgYWNjb3VudCBub25jZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gX1NhZmU0MzM3UGFja19nZXRTYWZlTm9uY2VGcm9tRW50cnlwb2ludChzYWZlQWRkcmVzcykge1xuICAgIGNvbnN0IGFiaSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnc2VuZGVyJywgdHlwZTogJ2FkZHJlc3MnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAna2V5JywgdHlwZTogJ3VpbnQxOTInIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBuYW1lOiAnZ2V0Tm9uY2UnLFxuICAgICAgICAgICAgb3V0cHV0czogW3sgbmFtZTogJ25vbmNlJywgdHlwZTogJ3VpbnQyNTYnIH1dLFxuICAgICAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiAndmlldycsXG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IGV0aGVyc18xLmV0aGVycy5Db250cmFjdChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TYWZlNDMzN1BhY2tfRU5UUllQT0lOVF9BRERSRVNTLCBcImZcIikgfHwgJzB4JywgYWJpLCB0aGlzLnByb3RvY29sS2l0LmdldFNhZmVQcm92aWRlcigpLmdldEV4dGVybmFsUHJvdmlkZXIoKSk7XG4gICAgY29uc3QgbmV3Tm9uY2UgPSBhd2FpdCBjb250cmFjdC5nZXROb25jZShzYWZlQWRkcmVzcywgQmlnSW50KDApKTtcbiAgICByZXR1cm4gbmV3Tm9uY2UudG9TdHJpbmcoKTtcbn0sIF9TYWZlNDMzN1BhY2tfZW5jb2RlRXhlY3V0ZVVzZXJPcENhbGxEYXRhID0gZnVuY3Rpb24gX1NhZmU0MzM3UGFja19lbmNvZGVFeGVjdXRlVXNlck9wQ2FsbERhdGEodHJhbnNhY3Rpb24pIHtcbiAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5URVJGQUNFUy5lbmNvZGVGdW5jdGlvbkRhdGEoJ2V4ZWN1dGVVc2VyT3AnLCBbXG4gICAgICAgIHRyYW5zYWN0aW9uLnRvLFxuICAgICAgICB0cmFuc2FjdGlvbi52YWx1ZSxcbiAgICAgICAgdHJhbnNhY3Rpb24uZGF0YSxcbiAgICAgICAgdHJhbnNhY3Rpb24ub3BlcmF0aW9uIHx8IHNhZmVfY29yZV9zZGtfdHlwZXNfMS5PcGVyYXRpb25UeXBlLkNhbGxcbiAgICBdKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TYWZlNDMzN1BhY2suanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/Safe4337Pack.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/SafeOperation.js":
/*!********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/SafeOperation.js ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ethers_1 = __webpack_require__(/*! ethers */ \"(ssr)/./node_modules/.pnpm/ethers@6.13.1/node_modules/ethers/lib.commonjs/index.js\");\nconst protocol_kit_1 = __webpack_require__(/*! @safe-global/protocol-kit */ \"(ssr)/./node_modules/.pnpm/@safe-global+protocol-kit@4.1.0_typescript@5.5.3/node_modules/@safe-global/protocol-kit/dist/src/index.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils.js\");\nclass EthSafeOperation {\n    constructor(userOperation, { chainId, entryPoint, validAfter, validUntil, moduleAddress }) {\n        this.signatures = new Map();\n        this.chainId = chainId;\n        this.moduleAddress = moduleAddress;\n        this.data = {\n            safe: userOperation.sender,\n            nonce: BigInt(userOperation.nonce),\n            initCode: userOperation.initCode,\n            callData: userOperation.callData,\n            callGasLimit: userOperation.callGasLimit,\n            verificationGasLimit: userOperation.verificationGasLimit,\n            preVerificationGas: userOperation.preVerificationGas,\n            maxFeePerGas: userOperation.maxFeePerGas,\n            maxPriorityFeePerGas: userOperation.maxPriorityFeePerGas,\n            paymasterAndData: userOperation.paymasterAndData,\n            validAfter: validAfter || 0,\n            validUntil: validUntil || 0,\n            entryPoint\n        };\n    }\n    getSignature(signer) {\n        return this.signatures.get(signer.toLowerCase());\n    }\n    addSignature(signature) {\n        this.signatures.set(signature.signer.toLowerCase(), signature);\n    }\n    encodedSignatures() {\n        return (0, protocol_kit_1.buildSignatureBytes)(Array.from(this.signatures.values()));\n    }\n    addEstimations(estimations) {\n        const keys = [\n            'maxFeePerGas',\n            'maxPriorityFeePerGas',\n            'verificationGasLimit',\n            'preVerificationGas',\n            'callGasLimit'\n        ];\n        for (const key of keys) {\n            this.data[key] = BigInt(estimations[key] || this.data[key]);\n        }\n    }\n    toUserOperation() {\n        return {\n            sender: this.data.safe,\n            nonce: ethers_1.ethers.toBeHex(this.data.nonce),\n            initCode: this.data.initCode,\n            callData: this.data.callData,\n            callGasLimit: this.data.callGasLimit,\n            verificationGasLimit: this.data.verificationGasLimit,\n            preVerificationGas: this.data.preVerificationGas,\n            maxFeePerGas: this.data.maxFeePerGas,\n            maxPriorityFeePerGas: this.data.maxPriorityFeePerGas,\n            paymasterAndData: this.data.paymasterAndData,\n            signature: ethers_1.ethers.solidityPacked(['uint48', 'uint48', 'bytes'], [this.data.validAfter, this.data.validUntil, this.encodedSignatures()])\n        };\n    }\n    getHash() {\n        return (0, utils_1.calculateSafeUserOperationHash)(this.data, this.chainId, this.moduleAddress);\n    }\n}\nexports[\"default\"] = EthSafeOperation;\n//# sourceMappingURL=SafeOperation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy9TYWZlT3BlcmF0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLGtHQUFRO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLHVLQUEyQjtBQUMxRCxnQkFBZ0IsbUJBQU8sQ0FBQywrSkFBUztBQUNqQztBQUNBLGlDQUFpQyw0REFBNEQ7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYWZlLXBhc3NrZXlzLXR1dG9yaWFsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYWZlLWdsb2JhbCtyZWxheS1raXRAMy4xLjBfdHlwZXNjcmlwdEA1LjUuMy9ub2RlX21vZHVsZXMvQHNhZmUtZ2xvYmFsL3JlbGF5LWtpdC9kaXN0L3NyYy9wYWNrcy9zYWZlLTQzMzcvU2FmZU9wZXJhdGlvbi5qcz81MGVmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZXRoZXJzXzEgPSByZXF1aXJlKFwiZXRoZXJzXCIpO1xuY29uc3QgcHJvdG9jb2xfa2l0XzEgPSByZXF1aXJlKFwiQHNhZmUtZ2xvYmFsL3Byb3RvY29sLWtpdFwiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNsYXNzIEV0aFNhZmVPcGVyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHVzZXJPcGVyYXRpb24sIHsgY2hhaW5JZCwgZW50cnlQb2ludCwgdmFsaWRBZnRlciwgdmFsaWRVbnRpbCwgbW9kdWxlQWRkcmVzcyB9KSB7XG4gICAgICAgIHRoaXMuc2lnbmF0dXJlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5jaGFpbklkID0gY2hhaW5JZDtcbiAgICAgICAgdGhpcy5tb2R1bGVBZGRyZXNzID0gbW9kdWxlQWRkcmVzcztcbiAgICAgICAgdGhpcy5kYXRhID0ge1xuICAgICAgICAgICAgc2FmZTogdXNlck9wZXJhdGlvbi5zZW5kZXIsXG4gICAgICAgICAgICBub25jZTogQmlnSW50KHVzZXJPcGVyYXRpb24ubm9uY2UpLFxuICAgICAgICAgICAgaW5pdENvZGU6IHVzZXJPcGVyYXRpb24uaW5pdENvZGUsXG4gICAgICAgICAgICBjYWxsRGF0YTogdXNlck9wZXJhdGlvbi5jYWxsRGF0YSxcbiAgICAgICAgICAgIGNhbGxHYXNMaW1pdDogdXNlck9wZXJhdGlvbi5jYWxsR2FzTGltaXQsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25HYXNMaW1pdDogdXNlck9wZXJhdGlvbi52ZXJpZmljYXRpb25HYXNMaW1pdCxcbiAgICAgICAgICAgIHByZVZlcmlmaWNhdGlvbkdhczogdXNlck9wZXJhdGlvbi5wcmVWZXJpZmljYXRpb25HYXMsXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXM6IHVzZXJPcGVyYXRpb24ubWF4RmVlUGVyR2FzLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IHVzZXJPcGVyYXRpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICBwYXltYXN0ZXJBbmREYXRhOiB1c2VyT3BlcmF0aW9uLnBheW1hc3RlckFuZERhdGEsXG4gICAgICAgICAgICB2YWxpZEFmdGVyOiB2YWxpZEFmdGVyIHx8IDAsXG4gICAgICAgICAgICB2YWxpZFVudGlsOiB2YWxpZFVudGlsIHx8IDAsXG4gICAgICAgICAgICBlbnRyeVBvaW50XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFNpZ25hdHVyZShzaWduZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlcy5nZXQoc2lnbmVyLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cbiAgICBhZGRTaWduYXR1cmUoc2lnbmF0dXJlKSB7XG4gICAgICAgIHRoaXMuc2lnbmF0dXJlcy5zZXQoc2lnbmF0dXJlLnNpZ25lci50b0xvd2VyQ2FzZSgpLCBzaWduYXR1cmUpO1xuICAgIH1cbiAgICBlbmNvZGVkU2lnbmF0dXJlcygpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwcm90b2NvbF9raXRfMS5idWlsZFNpZ25hdHVyZUJ5dGVzKShBcnJheS5mcm9tKHRoaXMuc2lnbmF0dXJlcy52YWx1ZXMoKSkpO1xuICAgIH1cbiAgICBhZGRFc3RpbWF0aW9ucyhlc3RpbWF0aW9ucykge1xuICAgICAgICBjb25zdCBrZXlzID0gW1xuICAgICAgICAgICAgJ21heEZlZVBlckdhcycsXG4gICAgICAgICAgICAnbWF4UHJpb3JpdHlGZWVQZXJHYXMnLFxuICAgICAgICAgICAgJ3ZlcmlmaWNhdGlvbkdhc0xpbWl0JyxcbiAgICAgICAgICAgICdwcmVWZXJpZmljYXRpb25HYXMnLFxuICAgICAgICAgICAgJ2NhbGxHYXNMaW1pdCdcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSBCaWdJbnQoZXN0aW1hdGlvbnNba2V5XSB8fCB0aGlzLmRhdGFba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9Vc2VyT3BlcmF0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmRhdGEuc2FmZSxcbiAgICAgICAgICAgIG5vbmNlOiBldGhlcnNfMS5ldGhlcnMudG9CZUhleCh0aGlzLmRhdGEubm9uY2UpLFxuICAgICAgICAgICAgaW5pdENvZGU6IHRoaXMuZGF0YS5pbml0Q29kZSxcbiAgICAgICAgICAgIGNhbGxEYXRhOiB0aGlzLmRhdGEuY2FsbERhdGEsXG4gICAgICAgICAgICBjYWxsR2FzTGltaXQ6IHRoaXMuZGF0YS5jYWxsR2FzTGltaXQsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25HYXNMaW1pdDogdGhpcy5kYXRhLnZlcmlmaWNhdGlvbkdhc0xpbWl0LFxuICAgICAgICAgICAgcHJlVmVyaWZpY2F0aW9uR2FzOiB0aGlzLmRhdGEucHJlVmVyaWZpY2F0aW9uR2FzLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiB0aGlzLmRhdGEubWF4RmVlUGVyR2FzLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IHRoaXMuZGF0YS5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgICAgIHBheW1hc3RlckFuZERhdGE6IHRoaXMuZGF0YS5wYXltYXN0ZXJBbmREYXRhLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBldGhlcnNfMS5ldGhlcnMuc29saWRpdHlQYWNrZWQoWyd1aW50NDgnLCAndWludDQ4JywgJ2J5dGVzJ10sIFt0aGlzLmRhdGEudmFsaWRBZnRlciwgdGhpcy5kYXRhLnZhbGlkVW50aWwsIHRoaXMuZW5jb2RlZFNpZ25hdHVyZXMoKV0pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldEhhc2goKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfMS5jYWxjdWxhdGVTYWZlVXNlck9wZXJhdGlvbkhhc2gpKHRoaXMuZGF0YSwgdGhpcy5jaGFpbklkLCB0aGlzLm1vZHVsZUFkZHJlc3MpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEV0aFNhZmVPcGVyYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TYWZlT3BlcmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/SafeOperation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RPC_4337_CALLS = exports.ENTRYPOINT_ADDRESS_V07 = exports.ENTRYPOINT_ADDRESS_V06 = exports.INTERFACES = exports.EIP712_SAFE_OPERATION_TYPE = exports.DEFAULT_SAFE_MODULES_VERSION = exports.DEFAULT_SAFE_VERSION = void 0;\nconst ethers_1 = __webpack_require__(/*! ethers */ \"(ssr)/./node_modules/.pnpm/ethers@6.13.1/node_modules/ethers/lib.commonjs/index.js\");\nexports.DEFAULT_SAFE_VERSION = '1.4.1';\nexports.DEFAULT_SAFE_MODULES_VERSION = '0.2.0';\nexports.EIP712_SAFE_OPERATION_TYPE = {\n    SafeOp: [\n        { type: 'address', name: 'safe' },\n        { type: 'uint256', name: 'nonce' },\n        { type: 'bytes', name: 'initCode' },\n        { type: 'bytes', name: 'callData' },\n        { type: 'uint256', name: 'callGasLimit' },\n        { type: 'uint256', name: 'verificationGasLimit' },\n        { type: 'uint256', name: 'preVerificationGas' },\n        { type: 'uint256', name: 'maxFeePerGas' },\n        { type: 'uint256', name: 'maxPriorityFeePerGas' },\n        { type: 'bytes', name: 'paymasterAndData' },\n        { type: 'uint48', name: 'validAfter' },\n        { type: 'uint48', name: 'validUntil' },\n        { type: 'address', name: 'entryPoint' }\n    ]\n};\nexports.INTERFACES = new ethers_1.ethers.Interface([\n    'function enableModules(address[])',\n    'function multiSend(bytes memory transactions) public payable',\n    'function executeUserOp(address to, uint256 value, bytes data, uint8 operation)',\n    'function approve(address _spender, uint256 _value)',\n    'function configure((uint256 x, uint256 y, uint176 verifiers) signer)'\n]);\nexports.ENTRYPOINT_ADDRESS_V06 = '0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789';\nexports.ENTRYPOINT_ADDRESS_V07 = '0x0000000071727De22E5E9d8BAf0edAc6f37da032';\nexports.RPC_4337_CALLS = {\n    ESTIMATE_USER_OPERATION_GAS: 'eth_estimateUserOperationGas',\n    SEND_USER_OPERATION: 'eth_sendUserOperation',\n    GET_USER_OPERATION_BY_HASH: 'eth_getUserOperationByHash',\n    GET_USER_OPERATION_RECEIPT: 'eth_getUserOperationReceipt',\n    SUPPORTED_ENTRY_POINTS: 'eth_supportedEntryPoints',\n    CHAIN_ID: 'eth_chainId',\n    SPONSOR_USER_OPERATION: 'pm_sponsorUserOperation'\n};\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsOEJBQThCLEdBQUcsOEJBQThCLEdBQUcsa0JBQWtCLEdBQUcsa0NBQWtDLEdBQUcsb0NBQW9DLEdBQUcsNEJBQTRCO0FBQ3hOLGlCQUFpQixtQkFBTyxDQUFDLGtHQUFRO0FBQ2pDLDRCQUE0QjtBQUM1QixvQ0FBb0M7QUFDcEMsa0NBQWtDO0FBQ2xDO0FBQ0EsVUFBVSwrQkFBK0I7QUFDekMsVUFBVSxnQ0FBZ0M7QUFDMUMsVUFBVSxpQ0FBaUM7QUFDM0MsVUFBVSxpQ0FBaUM7QUFDM0MsVUFBVSx1Q0FBdUM7QUFDakQsVUFBVSwrQ0FBK0M7QUFDekQsVUFBVSw2Q0FBNkM7QUFDdkQsVUFBVSx1Q0FBdUM7QUFDakQsVUFBVSwrQ0FBK0M7QUFDekQsVUFBVSx5Q0FBeUM7QUFDbkQsVUFBVSxvQ0FBb0M7QUFDOUMsVUFBVSxvQ0FBb0M7QUFDOUMsVUFBVTtBQUNWO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvcGFja3Mvc2FmZS00MzM3L2NvbnN0YW50cy5qcz8zMjBiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SUENfNDMzN19DQUxMUyA9IGV4cG9ydHMuRU5UUllQT0lOVF9BRERSRVNTX1YwNyA9IGV4cG9ydHMuRU5UUllQT0lOVF9BRERSRVNTX1YwNiA9IGV4cG9ydHMuSU5URVJGQUNFUyA9IGV4cG9ydHMuRUlQNzEyX1NBRkVfT1BFUkFUSU9OX1RZUEUgPSBleHBvcnRzLkRFRkFVTFRfU0FGRV9NT0RVTEVTX1ZFUlNJT04gPSBleHBvcnRzLkRFRkFVTFRfU0FGRV9WRVJTSU9OID0gdm9pZCAwO1xuY29uc3QgZXRoZXJzXzEgPSByZXF1aXJlKFwiZXRoZXJzXCIpO1xuZXhwb3J0cy5ERUZBVUxUX1NBRkVfVkVSU0lPTiA9ICcxLjQuMSc7XG5leHBvcnRzLkRFRkFVTFRfU0FGRV9NT0RVTEVTX1ZFUlNJT04gPSAnMC4yLjAnO1xuZXhwb3J0cy5FSVA3MTJfU0FGRV9PUEVSQVRJT05fVFlQRSA9IHtcbiAgICBTYWZlT3A6IFtcbiAgICAgICAgeyB0eXBlOiAnYWRkcmVzcycsIG5hbWU6ICdzYWZlJyB9LFxuICAgICAgICB7IHR5cGU6ICd1aW50MjU2JywgbmFtZTogJ25vbmNlJyB9LFxuICAgICAgICB7IHR5cGU6ICdieXRlcycsIG5hbWU6ICdpbml0Q29kZScgfSxcbiAgICAgICAgeyB0eXBlOiAnYnl0ZXMnLCBuYW1lOiAnY2FsbERhdGEnIH0sXG4gICAgICAgIHsgdHlwZTogJ3VpbnQyNTYnLCBuYW1lOiAnY2FsbEdhc0xpbWl0JyB9LFxuICAgICAgICB7IHR5cGU6ICd1aW50MjU2JywgbmFtZTogJ3ZlcmlmaWNhdGlvbkdhc0xpbWl0JyB9LFxuICAgICAgICB7IHR5cGU6ICd1aW50MjU2JywgbmFtZTogJ3ByZVZlcmlmaWNhdGlvbkdhcycgfSxcbiAgICAgICAgeyB0eXBlOiAndWludDI1NicsIG5hbWU6ICdtYXhGZWVQZXJHYXMnIH0sXG4gICAgICAgIHsgdHlwZTogJ3VpbnQyNTYnLCBuYW1lOiAnbWF4UHJpb3JpdHlGZWVQZXJHYXMnIH0sXG4gICAgICAgIHsgdHlwZTogJ2J5dGVzJywgbmFtZTogJ3BheW1hc3RlckFuZERhdGEnIH0sXG4gICAgICAgIHsgdHlwZTogJ3VpbnQ0OCcsIG5hbWU6ICd2YWxpZEFmdGVyJyB9LFxuICAgICAgICB7IHR5cGU6ICd1aW50NDgnLCBuYW1lOiAndmFsaWRVbnRpbCcgfSxcbiAgICAgICAgeyB0eXBlOiAnYWRkcmVzcycsIG5hbWU6ICdlbnRyeVBvaW50JyB9XG4gICAgXVxufTtcbmV4cG9ydHMuSU5URVJGQUNFUyA9IG5ldyBldGhlcnNfMS5ldGhlcnMuSW50ZXJmYWNlKFtcbiAgICAnZnVuY3Rpb24gZW5hYmxlTW9kdWxlcyhhZGRyZXNzW10pJyxcbiAgICAnZnVuY3Rpb24gbXVsdGlTZW5kKGJ5dGVzIG1lbW9yeSB0cmFuc2FjdGlvbnMpIHB1YmxpYyBwYXlhYmxlJyxcbiAgICAnZnVuY3Rpb24gZXhlY3V0ZVVzZXJPcChhZGRyZXNzIHRvLCB1aW50MjU2IHZhbHVlLCBieXRlcyBkYXRhLCB1aW50OCBvcGVyYXRpb24pJyxcbiAgICAnZnVuY3Rpb24gYXBwcm92ZShhZGRyZXNzIF9zcGVuZGVyLCB1aW50MjU2IF92YWx1ZSknLFxuICAgICdmdW5jdGlvbiBjb25maWd1cmUoKHVpbnQyNTYgeCwgdWludDI1NiB5LCB1aW50MTc2IHZlcmlmaWVycykgc2lnbmVyKSdcbl0pO1xuZXhwb3J0cy5FTlRSWVBPSU5UX0FERFJFU1NfVjA2ID0gJzB4NUZGMTM3RDRiMEZEQ0Q0OURjQTMwYzdDRjU3RTU3OGEwMjZkMjc4OSc7XG5leHBvcnRzLkVOVFJZUE9JTlRfQUREUkVTU19WMDcgPSAnMHgwMDAwMDAwMDcxNzI3RGUyMkU1RTlkOEJBZjBlZEFjNmYzN2RhMDMyJztcbmV4cG9ydHMuUlBDXzQzMzdfQ0FMTFMgPSB7XG4gICAgRVNUSU1BVEVfVVNFUl9PUEVSQVRJT05fR0FTOiAnZXRoX2VzdGltYXRlVXNlck9wZXJhdGlvbkdhcycsXG4gICAgU0VORF9VU0VSX09QRVJBVElPTjogJ2V0aF9zZW5kVXNlck9wZXJhdGlvbicsXG4gICAgR0VUX1VTRVJfT1BFUkFUSU9OX0JZX0hBU0g6ICdldGhfZ2V0VXNlck9wZXJhdGlvbkJ5SGFzaCcsXG4gICAgR0VUX1VTRVJfT1BFUkFUSU9OX1JFQ0VJUFQ6ICdldGhfZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQnLFxuICAgIFNVUFBPUlRFRF9FTlRSWV9QT0lOVFM6ICdldGhfc3VwcG9ydGVkRW50cnlQb2ludHMnLFxuICAgIENIQUlOX0lEOiAnZXRoX2NoYWluSWQnLFxuICAgIFNQT05TT1JfVVNFUl9PUEVSQVRJT046ICdwbV9zcG9uc29yVXNlck9wZXJhdGlvbidcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/PimlicoFeeEstimator.js":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/PimlicoFeeEstimator.js ***!
  \*************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PimlicoFeeEstimator_instances, _PimlicoFeeEstimator_getFeeData;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PimlicoFeeEstimator = void 0;\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils.js\");\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js\");\nclass PimlicoFeeEstimator {\n    constructor() {\n        _PimlicoFeeEstimator_instances.add(this);\n    }\n    async setupEstimation({ bundlerUrl }) {\n        const bundlerClient = (0, utils_1.getEip4337BundlerProvider)(bundlerUrl);\n        const feeData = await __classPrivateFieldGet(this, _PimlicoFeeEstimator_instances, \"m\", _PimlicoFeeEstimator_getFeeData).call(this, bundlerClient);\n        return feeData;\n    }\n    async adjustEstimation({ userOperation }) {\n        return {\n            callGasLimit: userOperation.callGasLimit + userOperation.callGasLimit / 2n, // +50%\n            verificationGasLimit: userOperation.verificationGasLimit * 4n, // +300%\n            preVerificationGas: userOperation.preVerificationGas + userOperation.preVerificationGas / 20n // +5%\n        };\n    }\n    async getPaymasterEstimation({ userOperation, paymasterUrl, entryPoint, sponsorshipPolicyId }) {\n        const paymasterClient = (0, utils_1.getEip4337BundlerProvider)(paymasterUrl);\n        const params = sponsorshipPolicyId\n            ? [(0, utils_1.userOperationToHexValues)(userOperation), entryPoint, { sponsorshipPolicyId }]\n            : [(0, utils_1.userOperationToHexValues)(userOperation), entryPoint];\n        const gasEstimate = await paymasterClient.send(constants_1.RPC_4337_CALLS.SPONSOR_USER_OPERATION, params);\n        return gasEstimate;\n    }\n}\nexports.PimlicoFeeEstimator = PimlicoFeeEstimator;\n_PimlicoFeeEstimator_instances = new WeakSet(), _PimlicoFeeEstimator_getFeeData = async function _PimlicoFeeEstimator_getFeeData(bundlerClient) {\n    const { fast } = await bundlerClient.send('pimlico_getUserOperationGasPrice', []);\n    return fast;\n};\n//# sourceMappingURL=PimlicoFeeEstimator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy9lc3RpbWF0b3JzL1BpbWxpY29GZWVFc3RpbWF0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCO0FBQzNCLGdCQUFnQixtQkFBTyxDQUFDLGdLQUFVO0FBQ2xDLG9CQUFvQixtQkFBTyxDQUFDLHdLQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFlBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZUFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsOERBQThEO0FBQ2pHO0FBQ0E7QUFDQSxtRkFBbUYscUJBQXFCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvcGFja3Mvc2FmZS00MzM3L2VzdGltYXRvcnMvUGltbGljb0ZlZUVzdGltYXRvci5qcz8yY2JjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX1BpbWxpY29GZWVFc3RpbWF0b3JfaW5zdGFuY2VzLCBfUGltbGljb0ZlZUVzdGltYXRvcl9nZXRGZWVEYXRhO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QaW1saWNvRmVlRXN0aW1hdG9yID0gdm9pZCAwO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmNsYXNzIFBpbWxpY29GZWVFc3RpbWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBfUGltbGljb0ZlZUVzdGltYXRvcl9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgIH1cbiAgICBhc3luYyBzZXR1cEVzdGltYXRpb24oeyBidW5kbGVyVXJsIH0pIHtcbiAgICAgICAgY29uc3QgYnVuZGxlckNsaWVudCA9ICgwLCB1dGlsc18xLmdldEVpcDQzMzdCdW5kbGVyUHJvdmlkZXIpKGJ1bmRsZXJVcmwpO1xuICAgICAgICBjb25zdCBmZWVEYXRhID0gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUGltbGljb0ZlZUVzdGltYXRvcl9pbnN0YW5jZXMsIFwibVwiLCBfUGltbGljb0ZlZUVzdGltYXRvcl9nZXRGZWVEYXRhKS5jYWxsKHRoaXMsIGJ1bmRsZXJDbGllbnQpO1xuICAgICAgICByZXR1cm4gZmVlRGF0YTtcbiAgICB9XG4gICAgYXN5bmMgYWRqdXN0RXN0aW1hdGlvbih7IHVzZXJPcGVyYXRpb24gfSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbEdhc0xpbWl0OiB1c2VyT3BlcmF0aW9uLmNhbGxHYXNMaW1pdCArIHVzZXJPcGVyYXRpb24uY2FsbEdhc0xpbWl0IC8gMm4sIC8vICs1MCVcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbkdhc0xpbWl0OiB1c2VyT3BlcmF0aW9uLnZlcmlmaWNhdGlvbkdhc0xpbWl0ICogNG4sIC8vICszMDAlXG4gICAgICAgICAgICBwcmVWZXJpZmljYXRpb25HYXM6IHVzZXJPcGVyYXRpb24ucHJlVmVyaWZpY2F0aW9uR2FzICsgdXNlck9wZXJhdGlvbi5wcmVWZXJpZmljYXRpb25HYXMgLyAyMG4gLy8gKzUlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFBheW1hc3RlckVzdGltYXRpb24oeyB1c2VyT3BlcmF0aW9uLCBwYXltYXN0ZXJVcmwsIGVudHJ5UG9pbnQsIHNwb25zb3JzaGlwUG9saWN5SWQgfSkge1xuICAgICAgICBjb25zdCBwYXltYXN0ZXJDbGllbnQgPSAoMCwgdXRpbHNfMS5nZXRFaXA0MzM3QnVuZGxlclByb3ZpZGVyKShwYXltYXN0ZXJVcmwpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBzcG9uc29yc2hpcFBvbGljeUlkXG4gICAgICAgICAgICA/IFsoMCwgdXRpbHNfMS51c2VyT3BlcmF0aW9uVG9IZXhWYWx1ZXMpKHVzZXJPcGVyYXRpb24pLCBlbnRyeVBvaW50LCB7IHNwb25zb3JzaGlwUG9saWN5SWQgfV1cbiAgICAgICAgICAgIDogWygwLCB1dGlsc18xLnVzZXJPcGVyYXRpb25Ub0hleFZhbHVlcykodXNlck9wZXJhdGlvbiksIGVudHJ5UG9pbnRdO1xuICAgICAgICBjb25zdCBnYXNFc3RpbWF0ZSA9IGF3YWl0IHBheW1hc3RlckNsaWVudC5zZW5kKGNvbnN0YW50c18xLlJQQ180MzM3X0NBTExTLlNQT05TT1JfVVNFUl9PUEVSQVRJT04sIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiBnYXNFc3RpbWF0ZTtcbiAgICB9XG59XG5leHBvcnRzLlBpbWxpY29GZWVFc3RpbWF0b3IgPSBQaW1saWNvRmVlRXN0aW1hdG9yO1xuX1BpbWxpY29GZWVFc3RpbWF0b3JfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX1BpbWxpY29GZWVFc3RpbWF0b3JfZ2V0RmVlRGF0YSA9IGFzeW5jIGZ1bmN0aW9uIF9QaW1saWNvRmVlRXN0aW1hdG9yX2dldEZlZURhdGEoYnVuZGxlckNsaWVudCkge1xuICAgIGNvbnN0IHsgZmFzdCB9ID0gYXdhaXQgYnVuZGxlckNsaWVudC5zZW5kKCdwaW1saWNvX2dldFVzZXJPcGVyYXRpb25HYXNQcmljZScsIFtdKTtcbiAgICByZXR1cm4gZmFzdDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaW1saWNvRmVlRXN0aW1hdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/PimlicoFeeEstimator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/index.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/index.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PimlicoFeeEstimator = void 0;\nconst PimlicoFeeEstimator_1 = __webpack_require__(/*! ./PimlicoFeeEstimator */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/PimlicoFeeEstimator.js\");\nObject.defineProperty(exports, \"PimlicoFeeEstimator\", ({ enumerable: true, get: function () { return PimlicoFeeEstimator_1.PimlicoFeeEstimator; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy9lc3RpbWF0b3JzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQiw4QkFBOEIsbUJBQU8sQ0FBQyxzTUFBdUI7QUFDN0QsdURBQXNELEVBQUUscUNBQXFDLHFEQUFxRCxFQUFDO0FBQ25KIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvcGFja3Mvc2FmZS00MzM3L2VzdGltYXRvcnMvaW5kZXguanM/NjJmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGltbGljb0ZlZUVzdGltYXRvciA9IHZvaWQgMDtcbmNvbnN0IFBpbWxpY29GZWVFc3RpbWF0b3JfMSA9IHJlcXVpcmUoXCIuL1BpbWxpY29GZWVFc3RpbWF0b3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQaW1saWNvRmVlRXN0aW1hdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBQaW1saWNvRmVlRXN0aW1hdG9yXzEuUGltbGljb0ZlZUVzdGltYXRvcjsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/estimators/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/types.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/types.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL3NhZmUtcGFzc2tleXMtdHV0b3JpYWwvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy90eXBlcy5qcz9kYWY5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getSignatureBytes = exports.addDummySignature = exports.DUMMY_AUTHENTICATOR_DATA = exports.DUMMY_CLIENT_DATA_FIELDS = exports.userOperationToHexValues = exports.calculateSafeUserOperationHash = exports.encodeMultiSendCallData = exports.signSafeOp = exports.getEip4337BundlerProvider = void 0;\nconst safe_core_sdk_types_1 = __webpack_require__(/*! @safe-global/safe-core-sdk-types */ \"(ssr)/./node_modules/.pnpm/@safe-global+safe-core-sdk-types@5.1.0_typescript@5.5.3/node_modules/@safe-global/safe-core-sdk-types/dist/src/index.js\");\nconst protocol_kit_1 = __webpack_require__(/*! @safe-global/protocol-kit */ \"(ssr)/./node_modules/.pnpm/@safe-global+protocol-kit@4.1.0_typescript@5.5.3/node_modules/@safe-global/protocol-kit/dist/src/index.js\");\nconst ethers_1 = __webpack_require__(/*! ethers */ \"(ssr)/./node_modules/.pnpm/ethers@6.13.1/node_modules/ethers/lib.commonjs/index.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js\");\n/**\n * Gets the EIP-4337 bundler provider.\n *\n * @param {string} bundlerUrl The EIP-4337 bundler URL.\n * @return {Provider} The EIP-4337 bundler provider.\n */\nfunction getEip4337BundlerProvider(bundlerUrl) {\n    const provider = new ethers_1.ethers.JsonRpcProvider(bundlerUrl, undefined, {\n        batchMaxCount: 1\n    });\n    return provider;\n}\nexports.getEip4337BundlerProvider = getEip4337BundlerProvider;\n/**\n * Signs typed data.\n *\n * @param {SafeUserOperation} safeUserOperation - Safe user operation to sign.\n * @param {SafeProvider} safeProvider - Safe provider.\n * @param {string} safe4337ModuleAddress - Safe 4337 module address.\n * @return {Promise<SafeSignature>} The SafeSignature object containing the data and the signatures.\n */\nasync function signSafeOp(safeUserOperation, safeProvider, safe4337ModuleAddress) {\n    const signer = (await safeProvider.getExternalSigner());\n    const chainId = await safeProvider.getChainId();\n    const signerAddress = await signer.getAddress();\n    const signature = await signer.signTypedData({\n        chainId,\n        verifyingContract: safe4337ModuleAddress\n    }, constants_1.EIP712_SAFE_OPERATION_TYPE, {\n        ...safeUserOperation,\n        nonce: ethers_1.ethers.toBeHex(safeUserOperation.nonce),\n        validAfter: ethers_1.ethers.toBeHex(safeUserOperation.validAfter),\n        validUntil: ethers_1.ethers.toBeHex(safeUserOperation.validUntil),\n        maxFeePerGas: ethers_1.ethers.toBeHex(safeUserOperation.maxFeePerGas),\n        maxPriorityFeePerGas: ethers_1.ethers.toBeHex(safeUserOperation.maxPriorityFeePerGas)\n    });\n    return new protocol_kit_1.EthSafeSignature(signerAddress, signature);\n}\nexports.signSafeOp = signSafeOp;\n/**\n * Encodes multi-send data from transactions batch.\n *\n * @param {MetaTransactionData[]} transactions - an array of transaction to to be encoded.\n * @return {string} The encoded data string.\n */\nfunction encodeMultiSendCallData(transactions) {\n    return constants_1.INTERFACES.encodeFunctionData('multiSend', [\n        (0, protocol_kit_1.encodeMultiSendData)(transactions.map((tx) => ({ ...tx, operation: tx.operation ?? safe_core_sdk_types_1.OperationType.Call })))\n    ]);\n}\nexports.encodeMultiSendCallData = encodeMultiSendCallData;\n/**\n * Gets the safe user operation hash.\n *\n * @param {SafeUserOperation} safeUserOperation - The SafeUserOperation.\n * @param {bigint} chainId - The chain id.\n * @param {string} safe4337ModuleAddress - The Safe 4337 module address.\n * @return {string} The hash of the safe operation.\n */\nfunction calculateSafeUserOperationHash(safeUserOperation, chainId, safe4337ModuleAddress) {\n    return ethers_1.ethers.TypedDataEncoder.hash({\n        chainId,\n        verifyingContract: safe4337ModuleAddress\n    }, constants_1.EIP712_SAFE_OPERATION_TYPE, safeUserOperation);\n}\nexports.calculateSafeUserOperationHash = calculateSafeUserOperationHash;\n/**\n * Converts various bigint values from a UserOperation to their hexadecimal representation.\n *\n * @param {UserOperation} userOperation - The UserOperation object whose values are to be converted.\n * @returns {UserOperation} A new UserOperation object with the values converted to hexadecimal.\n */\nfunction userOperationToHexValues(userOperation) {\n    const userOperationWithHexValues = {\n        ...userOperation,\n        nonce: ethers_1.ethers.toBeHex(userOperation.nonce),\n        callGasLimit: ethers_1.ethers.toBeHex(userOperation.callGasLimit),\n        verificationGasLimit: ethers_1.ethers.toBeHex(userOperation.verificationGasLimit),\n        preVerificationGas: ethers_1.ethers.toBeHex(userOperation.preVerificationGas),\n        maxFeePerGas: ethers_1.ethers.toBeHex(userOperation.maxFeePerGas),\n        maxPriorityFeePerGas: ethers_1.ethers.toBeHex(userOperation.maxPriorityFeePerGas)\n    };\n    return userOperationWithHexValues;\n}\nexports.userOperationToHexValues = userOperationToHexValues;\n/**\n * Passkey Dummy client data JSON fields. This can be used for gas estimations, as it pads the fields enough\n * to account for variations in WebAuthn implementations.\n */\nexports.DUMMY_CLIENT_DATA_FIELDS = [\n    `\"origin\":\"https://safe.global\"`,\n    `\"padding\":\"This pads the clientDataJSON so that we can leave room for additional implementation specific fields for a more accurate 'preVerificationGas' estimate.\"`\n].join(',');\n/**\n * Dummy authenticator data. This can be used for gas estimations, as it ensures that the correct\n * authenticator flags are set.\n */\nexports.DUMMY_AUTHENTICATOR_DATA = new Uint8Array(37);\n// Authenticator data is the concatenation of:\n// - 32 byte SHA-256 hash of the relying party ID\n// - 1 byte for the user verification flag\n// - 4 bytes for the signature count\n// We fill it all with `0xfe` and set the appropriate user verification flag.\nexports.DUMMY_AUTHENTICATOR_DATA.fill(0xfe);\nexports.DUMMY_AUTHENTICATOR_DATA[32] = 0x04;\n/**\n * This method creates a dummy signature for the SafeOperation based on the Safe threshold. We assume that all owners are passkeys\n * This is useful for gas estimations\n * @param userOperation - The user operation\n * @param signer - The signer\n * @param threshold - The Safe threshold\n * @returns The user operation with the dummy passkey signature\n */\nfunction addDummySignature(userOperation, signer, threshold) {\n    const signatures = [];\n    for (let i = 0; i < threshold; i++) {\n        const isContractSignature = true;\n        const passkeySignature = getSignatureBytes({\n            authenticatorData: exports.DUMMY_AUTHENTICATOR_DATA,\n            clientDataFields: exports.DUMMY_CLIENT_DATA_FIELDS,\n            r: BigInt(`0x${'ec'.repeat(32)}`),\n            s: BigInt(`0x${'d5a'.repeat(21)}f`)\n        });\n        signatures.push(new protocol_kit_1.EthSafeSignature(signer, passkeySignature, isContractSignature));\n    }\n    return {\n        ...userOperation,\n        signature: ethers_1.ethers.solidityPacked(['uint48', 'uint48', 'bytes'], [0, 0, (0, protocol_kit_1.buildSignatureBytes)(signatures)])\n    };\n}\nexports.addDummySignature = addDummySignature;\n/**\n * Encodes the given WebAuthn signature into a string. This computes the ABI-encoded signature parameters:\n * ```solidity\n * abi.encode(authenticatorData, clientDataFields, r, s);\n * ```\n *\n * @param authenticatorData - The authenticator data as a Uint8Array.\n * @param clientDataFields - The client data fields as a string.\n * @param r - The value of r as a bigint.\n * @param s - The value of s as a bigint.\n * @returns The encoded string.\n */\nfunction getSignatureBytes({ authenticatorData, clientDataFields, r, s }) {\n    // Helper functions\n    // Convert a number to a 64-byte hex string with padded upto Hex string with 32 bytes\n    const encodeUint256 = (x) => x.toString(16).padStart(64, '0');\n    // Calculate the byte size of the dynamic data along with the length parameter alligned to 32 bytes\n    const byteSize = (data) => 32 * (Math.ceil(data.length / 32) + 1); // +1 is for the length parameter\n    // Encode dynamic data padded with zeros if necessary in 32 bytes chunks\n    const encodeBytes = (data) => `${encodeUint256(data.length)}${ethers_1.ethers.hexlify(data).slice(2)}`.padEnd(byteSize(data) * 2, '0');\n    // authenticatorData starts after the first four words.\n    const authenticatorDataOffset = 32 * 4;\n    // clientDataFields starts immediately after the authenticator data.\n    const clientDataFieldsOffset = authenticatorDataOffset + byteSize(authenticatorData);\n    return ('0x' +\n        encodeUint256(authenticatorDataOffset) +\n        encodeUint256(clientDataFieldsOffset) +\n        encodeUint256(r) +\n        encodeUint256(s) +\n        encodeBytes(authenticatorData) +\n        encodeBytes(new TextEncoder().encode(clientDataFields)));\n}\nexports.getSignatureBytes = getSignatureBytes;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUIsR0FBRyx5QkFBeUIsR0FBRyxnQ0FBZ0MsR0FBRyxnQ0FBZ0MsR0FBRyxnQ0FBZ0MsR0FBRyxzQ0FBc0MsR0FBRywrQkFBK0IsR0FBRyxrQkFBa0IsR0FBRyxpQ0FBaUM7QUFDbFMsOEJBQThCLG1CQUFPLENBQUMsNExBQWtDO0FBQ3hFLHVCQUF1QixtQkFBTyxDQUFDLHVLQUEyQjtBQUMxRCxpQkFBaUIsbUJBQU8sQ0FBQyxrR0FBUTtBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQyx1S0FBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixZQUFZLHdCQUF3QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsNEVBQTRFO0FBQ3hKO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdCQUFnQjtBQUMzQywyQkFBMkIsaUJBQWlCO0FBQzVDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMkNBQTJDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0EscUNBQXFDLDJCQUEyQixFQUFFLHVDQUF1QztBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYWZlLXBhc3NrZXlzLXR1dG9yaWFsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYWZlLWdsb2JhbCtyZWxheS1raXRAMy4xLjBfdHlwZXNjcmlwdEA1LjUuMy9ub2RlX21vZHVsZXMvQHNhZmUtZ2xvYmFsL3JlbGF5LWtpdC9kaXN0L3NyYy9wYWNrcy9zYWZlLTQzMzcvdXRpbHMuanM/NmVlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0U2lnbmF0dXJlQnl0ZXMgPSBleHBvcnRzLmFkZER1bW15U2lnbmF0dXJlID0gZXhwb3J0cy5EVU1NWV9BVVRIRU5USUNBVE9SX0RBVEEgPSBleHBvcnRzLkRVTU1ZX0NMSUVOVF9EQVRBX0ZJRUxEUyA9IGV4cG9ydHMudXNlck9wZXJhdGlvblRvSGV4VmFsdWVzID0gZXhwb3J0cy5jYWxjdWxhdGVTYWZlVXNlck9wZXJhdGlvbkhhc2ggPSBleHBvcnRzLmVuY29kZU11bHRpU2VuZENhbGxEYXRhID0gZXhwb3J0cy5zaWduU2FmZU9wID0gZXhwb3J0cy5nZXRFaXA0MzM3QnVuZGxlclByb3ZpZGVyID0gdm9pZCAwO1xuY29uc3Qgc2FmZV9jb3JlX3Nka190eXBlc18xID0gcmVxdWlyZShcIkBzYWZlLWdsb2JhbC9zYWZlLWNvcmUtc2RrLXR5cGVzXCIpO1xuY29uc3QgcHJvdG9jb2xfa2l0XzEgPSByZXF1aXJlKFwiQHNhZmUtZ2xvYmFsL3Byb3RvY29sLWtpdFwiKTtcbmNvbnN0IGV0aGVyc18xID0gcmVxdWlyZShcImV0aGVyc1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuLyoqXG4gKiBHZXRzIHRoZSBFSVAtNDMzNyBidW5kbGVyIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBidW5kbGVyVXJsIFRoZSBFSVAtNDMzNyBidW5kbGVyIFVSTC5cbiAqIEByZXR1cm4ge1Byb3ZpZGVyfSBUaGUgRUlQLTQzMzcgYnVuZGxlciBwcm92aWRlci5cbiAqL1xuZnVuY3Rpb24gZ2V0RWlwNDMzN0J1bmRsZXJQcm92aWRlcihidW5kbGVyVXJsKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZXRoZXJzXzEuZXRoZXJzLkpzb25ScGNQcm92aWRlcihidW5kbGVyVXJsLCB1bmRlZmluZWQsIHtcbiAgICAgICAgYmF0Y2hNYXhDb3VudDogMVxuICAgIH0pO1xuICAgIHJldHVybiBwcm92aWRlcjtcbn1cbmV4cG9ydHMuZ2V0RWlwNDMzN0J1bmRsZXJQcm92aWRlciA9IGdldEVpcDQzMzdCdW5kbGVyUHJvdmlkZXI7XG4vKipcbiAqIFNpZ25zIHR5cGVkIGRhdGEuXG4gKlxuICogQHBhcmFtIHtTYWZlVXNlck9wZXJhdGlvbn0gc2FmZVVzZXJPcGVyYXRpb24gLSBTYWZlIHVzZXIgb3BlcmF0aW9uIHRvIHNpZ24uXG4gKiBAcGFyYW0ge1NhZmVQcm92aWRlcn0gc2FmZVByb3ZpZGVyIC0gU2FmZSBwcm92aWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzYWZlNDMzN01vZHVsZUFkZHJlc3MgLSBTYWZlIDQzMzcgbW9kdWxlIGFkZHJlc3MuXG4gKiBAcmV0dXJuIHtQcm9taXNlPFNhZmVTaWduYXR1cmU+fSBUaGUgU2FmZVNpZ25hdHVyZSBvYmplY3QgY29udGFpbmluZyB0aGUgZGF0YSBhbmQgdGhlIHNpZ25hdHVyZXMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNpZ25TYWZlT3Aoc2FmZVVzZXJPcGVyYXRpb24sIHNhZmVQcm92aWRlciwgc2FmZTQzMzdNb2R1bGVBZGRyZXNzKSB7XG4gICAgY29uc3Qgc2lnbmVyID0gKGF3YWl0IHNhZmVQcm92aWRlci5nZXRFeHRlcm5hbFNpZ25lcigpKTtcbiAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgc2FmZVByb3ZpZGVyLmdldENoYWluSWQoKTtcbiAgICBjb25zdCBzaWduZXJBZGRyZXNzID0gYXdhaXQgc2lnbmVyLmdldEFkZHJlc3MoKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBzaWduZXIuc2lnblR5cGVkRGF0YSh7XG4gICAgICAgIGNoYWluSWQsXG4gICAgICAgIHZlcmlmeWluZ0NvbnRyYWN0OiBzYWZlNDMzN01vZHVsZUFkZHJlc3NcbiAgICB9LCBjb25zdGFudHNfMS5FSVA3MTJfU0FGRV9PUEVSQVRJT05fVFlQRSwge1xuICAgICAgICAuLi5zYWZlVXNlck9wZXJhdGlvbixcbiAgICAgICAgbm9uY2U6IGV0aGVyc18xLmV0aGVycy50b0JlSGV4KHNhZmVVc2VyT3BlcmF0aW9uLm5vbmNlKSxcbiAgICAgICAgdmFsaWRBZnRlcjogZXRoZXJzXzEuZXRoZXJzLnRvQmVIZXgoc2FmZVVzZXJPcGVyYXRpb24udmFsaWRBZnRlciksXG4gICAgICAgIHZhbGlkVW50aWw6IGV0aGVyc18xLmV0aGVycy50b0JlSGV4KHNhZmVVc2VyT3BlcmF0aW9uLnZhbGlkVW50aWwpLFxuICAgICAgICBtYXhGZWVQZXJHYXM6IGV0aGVyc18xLmV0aGVycy50b0JlSGV4KHNhZmVVc2VyT3BlcmF0aW9uLm1heEZlZVBlckdhcyksXG4gICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBldGhlcnNfMS5ldGhlcnMudG9CZUhleChzYWZlVXNlck9wZXJhdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcylcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IHByb3RvY29sX2tpdF8xLkV0aFNhZmVTaWduYXR1cmUoc2lnbmVyQWRkcmVzcywgc2lnbmF0dXJlKTtcbn1cbmV4cG9ydHMuc2lnblNhZmVPcCA9IHNpZ25TYWZlT3A7XG4vKipcbiAqIEVuY29kZXMgbXVsdGktc2VuZCBkYXRhIGZyb20gdHJhbnNhY3Rpb25zIGJhdGNoLlxuICpcbiAqIEBwYXJhbSB7TWV0YVRyYW5zYWN0aW9uRGF0YVtdfSB0cmFuc2FjdGlvbnMgLSBhbiBhcnJheSBvZiB0cmFuc2FjdGlvbiB0byB0byBiZSBlbmNvZGVkLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgZW5jb2RlZCBkYXRhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlTXVsdGlTZW5kQ2FsbERhdGEodHJhbnNhY3Rpb25zKSB7XG4gICAgcmV0dXJuIGNvbnN0YW50c18xLklOVEVSRkFDRVMuZW5jb2RlRnVuY3Rpb25EYXRhKCdtdWx0aVNlbmQnLCBbXG4gICAgICAgICgwLCBwcm90b2NvbF9raXRfMS5lbmNvZGVNdWx0aVNlbmREYXRhKSh0cmFuc2FjdGlvbnMubWFwKCh0eCkgPT4gKHsgLi4udHgsIG9wZXJhdGlvbjogdHgub3BlcmF0aW9uID8/IHNhZmVfY29yZV9zZGtfdHlwZXNfMS5PcGVyYXRpb25UeXBlLkNhbGwgfSkpKVxuICAgIF0pO1xufVxuZXhwb3J0cy5lbmNvZGVNdWx0aVNlbmRDYWxsRGF0YSA9IGVuY29kZU11bHRpU2VuZENhbGxEYXRhO1xuLyoqXG4gKiBHZXRzIHRoZSBzYWZlIHVzZXIgb3BlcmF0aW9uIGhhc2guXG4gKlxuICogQHBhcmFtIHtTYWZlVXNlck9wZXJhdGlvbn0gc2FmZVVzZXJPcGVyYXRpb24gLSBUaGUgU2FmZVVzZXJPcGVyYXRpb24uXG4gKiBAcGFyYW0ge2JpZ2ludH0gY2hhaW5JZCAtIFRoZSBjaGFpbiBpZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzYWZlNDMzN01vZHVsZUFkZHJlc3MgLSBUaGUgU2FmZSA0MzM3IG1vZHVsZSBhZGRyZXNzLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgaGFzaCBvZiB0aGUgc2FmZSBvcGVyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNhZmVVc2VyT3BlcmF0aW9uSGFzaChzYWZlVXNlck9wZXJhdGlvbiwgY2hhaW5JZCwgc2FmZTQzMzdNb2R1bGVBZGRyZXNzKSB7XG4gICAgcmV0dXJuIGV0aGVyc18xLmV0aGVycy5UeXBlZERhdGFFbmNvZGVyLmhhc2goe1xuICAgICAgICBjaGFpbklkLFxuICAgICAgICB2ZXJpZnlpbmdDb250cmFjdDogc2FmZTQzMzdNb2R1bGVBZGRyZXNzXG4gICAgfSwgY29uc3RhbnRzXzEuRUlQNzEyX1NBRkVfT1BFUkFUSU9OX1RZUEUsIHNhZmVVc2VyT3BlcmF0aW9uKTtcbn1cbmV4cG9ydHMuY2FsY3VsYXRlU2FmZVVzZXJPcGVyYXRpb25IYXNoID0gY2FsY3VsYXRlU2FmZVVzZXJPcGVyYXRpb25IYXNoO1xuLyoqXG4gKiBDb252ZXJ0cyB2YXJpb3VzIGJpZ2ludCB2YWx1ZXMgZnJvbSBhIFVzZXJPcGVyYXRpb24gdG8gdGhlaXIgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24uXG4gKlxuICogQHBhcmFtIHtVc2VyT3BlcmF0aW9ufSB1c2VyT3BlcmF0aW9uIC0gVGhlIFVzZXJPcGVyYXRpb24gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgdG8gYmUgY29udmVydGVkLlxuICogQHJldHVybnMge1VzZXJPcGVyYXRpb259IEEgbmV3IFVzZXJPcGVyYXRpb24gb2JqZWN0IHdpdGggdGhlIHZhbHVlcyBjb252ZXJ0ZWQgdG8gaGV4YWRlY2ltYWwuXG4gKi9cbmZ1bmN0aW9uIHVzZXJPcGVyYXRpb25Ub0hleFZhbHVlcyh1c2VyT3BlcmF0aW9uKSB7XG4gICAgY29uc3QgdXNlck9wZXJhdGlvbldpdGhIZXhWYWx1ZXMgPSB7XG4gICAgICAgIC4uLnVzZXJPcGVyYXRpb24sXG4gICAgICAgIG5vbmNlOiBldGhlcnNfMS5ldGhlcnMudG9CZUhleCh1c2VyT3BlcmF0aW9uLm5vbmNlKSxcbiAgICAgICAgY2FsbEdhc0xpbWl0OiBldGhlcnNfMS5ldGhlcnMudG9CZUhleCh1c2VyT3BlcmF0aW9uLmNhbGxHYXNMaW1pdCksXG4gICAgICAgIHZlcmlmaWNhdGlvbkdhc0xpbWl0OiBldGhlcnNfMS5ldGhlcnMudG9CZUhleCh1c2VyT3BlcmF0aW9uLnZlcmlmaWNhdGlvbkdhc0xpbWl0KSxcbiAgICAgICAgcHJlVmVyaWZpY2F0aW9uR2FzOiBldGhlcnNfMS5ldGhlcnMudG9CZUhleCh1c2VyT3BlcmF0aW9uLnByZVZlcmlmaWNhdGlvbkdhcyksXG4gICAgICAgIG1heEZlZVBlckdhczogZXRoZXJzXzEuZXRoZXJzLnRvQmVIZXgodXNlck9wZXJhdGlvbi5tYXhGZWVQZXJHYXMpLFxuICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogZXRoZXJzXzEuZXRoZXJzLnRvQmVIZXgodXNlck9wZXJhdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcylcbiAgICB9O1xuICAgIHJldHVybiB1c2VyT3BlcmF0aW9uV2l0aEhleFZhbHVlcztcbn1cbmV4cG9ydHMudXNlck9wZXJhdGlvblRvSGV4VmFsdWVzID0gdXNlck9wZXJhdGlvblRvSGV4VmFsdWVzO1xuLyoqXG4gKiBQYXNza2V5IER1bW15IGNsaWVudCBkYXRhIEpTT04gZmllbGRzLiBUaGlzIGNhbiBiZSB1c2VkIGZvciBnYXMgZXN0aW1hdGlvbnMsIGFzIGl0IHBhZHMgdGhlIGZpZWxkcyBlbm91Z2hcbiAqIHRvIGFjY291bnQgZm9yIHZhcmlhdGlvbnMgaW4gV2ViQXV0aG4gaW1wbGVtZW50YXRpb25zLlxuICovXG5leHBvcnRzLkRVTU1ZX0NMSUVOVF9EQVRBX0ZJRUxEUyA9IFtcbiAgICBgXCJvcmlnaW5cIjpcImh0dHBzOi8vc2FmZS5nbG9iYWxcImAsXG4gICAgYFwicGFkZGluZ1wiOlwiVGhpcyBwYWRzIHRoZSBjbGllbnREYXRhSlNPTiBzbyB0aGF0IHdlIGNhbiBsZWF2ZSByb29tIGZvciBhZGRpdGlvbmFsIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIGZpZWxkcyBmb3IgYSBtb3JlIGFjY3VyYXRlICdwcmVWZXJpZmljYXRpb25HYXMnIGVzdGltYXRlLlwiYFxuXS5qb2luKCcsJyk7XG4vKipcbiAqIER1bW15IGF1dGhlbnRpY2F0b3IgZGF0YS4gVGhpcyBjYW4gYmUgdXNlZCBmb3IgZ2FzIGVzdGltYXRpb25zLCBhcyBpdCBlbnN1cmVzIHRoYXQgdGhlIGNvcnJlY3RcbiAqIGF1dGhlbnRpY2F0b3IgZmxhZ3MgYXJlIHNldC5cbiAqL1xuZXhwb3J0cy5EVU1NWV9BVVRIRU5USUNBVE9SX0RBVEEgPSBuZXcgVWludDhBcnJheSgzNyk7XG4vLyBBdXRoZW50aWNhdG9yIGRhdGEgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2Y6XG4vLyAtIDMyIGJ5dGUgU0hBLTI1NiBoYXNoIG9mIHRoZSByZWx5aW5nIHBhcnR5IElEXG4vLyAtIDEgYnl0ZSBmb3IgdGhlIHVzZXIgdmVyaWZpY2F0aW9uIGZsYWdcbi8vIC0gNCBieXRlcyBmb3IgdGhlIHNpZ25hdHVyZSBjb3VudFxuLy8gV2UgZmlsbCBpdCBhbGwgd2l0aCBgMHhmZWAgYW5kIHNldCB0aGUgYXBwcm9wcmlhdGUgdXNlciB2ZXJpZmljYXRpb24gZmxhZy5cbmV4cG9ydHMuRFVNTVlfQVVUSEVOVElDQVRPUl9EQVRBLmZpbGwoMHhmZSk7XG5leHBvcnRzLkRVTU1ZX0FVVEhFTlRJQ0FUT1JfREFUQVszMl0gPSAweDA0O1xuLyoqXG4gKiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgZHVtbXkgc2lnbmF0dXJlIGZvciB0aGUgU2FmZU9wZXJhdGlvbiBiYXNlZCBvbiB0aGUgU2FmZSB0aHJlc2hvbGQuIFdlIGFzc3VtZSB0aGF0IGFsbCBvd25lcnMgYXJlIHBhc3NrZXlzXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgZ2FzIGVzdGltYXRpb25zXG4gKiBAcGFyYW0gdXNlck9wZXJhdGlvbiAtIFRoZSB1c2VyIG9wZXJhdGlvblxuICogQHBhcmFtIHNpZ25lciAtIFRoZSBzaWduZXJcbiAqIEBwYXJhbSB0aHJlc2hvbGQgLSBUaGUgU2FmZSB0aHJlc2hvbGRcbiAqIEByZXR1cm5zIFRoZSB1c2VyIG9wZXJhdGlvbiB3aXRoIHRoZSBkdW1teSBwYXNza2V5IHNpZ25hdHVyZVxuICovXG5mdW5jdGlvbiBhZGREdW1teVNpZ25hdHVyZSh1c2VyT3BlcmF0aW9uLCBzaWduZXIsIHRocmVzaG9sZCkge1xuICAgIGNvbnN0IHNpZ25hdHVyZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRocmVzaG9sZDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGlzQ29udHJhY3RTaWduYXR1cmUgPSB0cnVlO1xuICAgICAgICBjb25zdCBwYXNza2V5U2lnbmF0dXJlID0gZ2V0U2lnbmF0dXJlQnl0ZXMoe1xuICAgICAgICAgICAgYXV0aGVudGljYXRvckRhdGE6IGV4cG9ydHMuRFVNTVlfQVVUSEVOVElDQVRPUl9EQVRBLFxuICAgICAgICAgICAgY2xpZW50RGF0YUZpZWxkczogZXhwb3J0cy5EVU1NWV9DTElFTlRfREFUQV9GSUVMRFMsXG4gICAgICAgICAgICByOiBCaWdJbnQoYDB4JHsnZWMnLnJlcGVhdCgzMil9YCksXG4gICAgICAgICAgICBzOiBCaWdJbnQoYDB4JHsnZDVhJy5yZXBlYXQoMjEpfWZgKVxuICAgICAgICB9KTtcbiAgICAgICAgc2lnbmF0dXJlcy5wdXNoKG5ldyBwcm90b2NvbF9raXRfMS5FdGhTYWZlU2lnbmF0dXJlKHNpZ25lciwgcGFzc2tleVNpZ25hdHVyZSwgaXNDb250cmFjdFNpZ25hdHVyZSkpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi51c2VyT3BlcmF0aW9uLFxuICAgICAgICBzaWduYXR1cmU6IGV0aGVyc18xLmV0aGVycy5zb2xpZGl0eVBhY2tlZChbJ3VpbnQ0OCcsICd1aW50NDgnLCAnYnl0ZXMnXSwgWzAsIDAsICgwLCBwcm90b2NvbF9raXRfMS5idWlsZFNpZ25hdHVyZUJ5dGVzKShzaWduYXR1cmVzKV0pXG4gICAgfTtcbn1cbmV4cG9ydHMuYWRkRHVtbXlTaWduYXR1cmUgPSBhZGREdW1teVNpZ25hdHVyZTtcbi8qKlxuICogRW5jb2RlcyB0aGUgZ2l2ZW4gV2ViQXV0aG4gc2lnbmF0dXJlIGludG8gYSBzdHJpbmcuIFRoaXMgY29tcHV0ZXMgdGhlIEFCSS1lbmNvZGVkIHNpZ25hdHVyZSBwYXJhbWV0ZXJzOlxuICogYGBgc29saWRpdHlcbiAqIGFiaS5lbmNvZGUoYXV0aGVudGljYXRvckRhdGEsIGNsaWVudERhdGFGaWVsZHMsIHIsIHMpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhlbnRpY2F0b3JEYXRhIC0gVGhlIGF1dGhlbnRpY2F0b3IgZGF0YSBhcyBhIFVpbnQ4QXJyYXkuXG4gKiBAcGFyYW0gY2xpZW50RGF0YUZpZWxkcyAtIFRoZSBjbGllbnQgZGF0YSBmaWVsZHMgYXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gciAtIFRoZSB2YWx1ZSBvZiByIGFzIGEgYmlnaW50LlxuICogQHBhcmFtIHMgLSBUaGUgdmFsdWUgb2YgcyBhcyBhIGJpZ2ludC5cbiAqIEByZXR1cm5zIFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2lnbmF0dXJlQnl0ZXMoeyBhdXRoZW50aWNhdG9yRGF0YSwgY2xpZW50RGF0YUZpZWxkcywgciwgcyB9KSB7XG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICAgIC8vIENvbnZlcnQgYSBudW1iZXIgdG8gYSA2NC1ieXRlIGhleCBzdHJpbmcgd2l0aCBwYWRkZWQgdXB0byBIZXggc3RyaW5nIHdpdGggMzIgYnl0ZXNcbiAgICBjb25zdCBlbmNvZGVVaW50MjU2ID0gKHgpID0+IHgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDY0LCAnMCcpO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgYnl0ZSBzaXplIG9mIHRoZSBkeW5hbWljIGRhdGEgYWxvbmcgd2l0aCB0aGUgbGVuZ3RoIHBhcmFtZXRlciBhbGxpZ25lZCB0byAzMiBieXRlc1xuICAgIGNvbnN0IGJ5dGVTaXplID0gKGRhdGEpID0+IDMyICogKE1hdGguY2VpbChkYXRhLmxlbmd0aCAvIDMyKSArIDEpOyAvLyArMSBpcyBmb3IgdGhlIGxlbmd0aCBwYXJhbWV0ZXJcbiAgICAvLyBFbmNvZGUgZHluYW1pYyBkYXRhIHBhZGRlZCB3aXRoIHplcm9zIGlmIG5lY2Vzc2FyeSBpbiAzMiBieXRlcyBjaHVua3NcbiAgICBjb25zdCBlbmNvZGVCeXRlcyA9IChkYXRhKSA9PiBgJHtlbmNvZGVVaW50MjU2KGRhdGEubGVuZ3RoKX0ke2V0aGVyc18xLmV0aGVycy5oZXhsaWZ5KGRhdGEpLnNsaWNlKDIpfWAucGFkRW5kKGJ5dGVTaXplKGRhdGEpICogMiwgJzAnKTtcbiAgICAvLyBhdXRoZW50aWNhdG9yRGF0YSBzdGFydHMgYWZ0ZXIgdGhlIGZpcnN0IGZvdXIgd29yZHMuXG4gICAgY29uc3QgYXV0aGVudGljYXRvckRhdGFPZmZzZXQgPSAzMiAqIDQ7XG4gICAgLy8gY2xpZW50RGF0YUZpZWxkcyBzdGFydHMgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGF1dGhlbnRpY2F0b3IgZGF0YS5cbiAgICBjb25zdCBjbGllbnREYXRhRmllbGRzT2Zmc2V0ID0gYXV0aGVudGljYXRvckRhdGFPZmZzZXQgKyBieXRlU2l6ZShhdXRoZW50aWNhdG9yRGF0YSk7XG4gICAgcmV0dXJuICgnMHgnICtcbiAgICAgICAgZW5jb2RlVWludDI1NihhdXRoZW50aWNhdG9yRGF0YU9mZnNldCkgK1xuICAgICAgICBlbmNvZGVVaW50MjU2KGNsaWVudERhdGFGaWVsZHNPZmZzZXQpICtcbiAgICAgICAgZW5jb2RlVWludDI1NihyKSArXG4gICAgICAgIGVuY29kZVVpbnQyNTYocykgK1xuICAgICAgICBlbmNvZGVCeXRlcyhhdXRoZW50aWNhdG9yRGF0YSkgK1xuICAgICAgICBlbmNvZGVCeXRlcyhuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2xpZW50RGF0YUZpZWxkcykpKTtcbn1cbmV4cG9ydHMuZ2V0U2lnbmF0dXJlQnl0ZXMgPSBnZXRTaWduYXR1cmVCeXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils/entrypoint.js":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils/entrypoint.js ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isEntryPointV6 = exports.entryPointToSafeModules = exports.sameString = exports.EQ_OR_GT_0_3_0 = void 0;\nconst constants_1 = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/constants.js\");\nconst EQ_0_2_0 = '0.2.0';\nexports.EQ_OR_GT_0_3_0 = '>=0.3.0';\nfunction sameString(str1, str2) {\n    return str1.toLowerCase() === str2.toLowerCase();\n}\nexports.sameString = sameString;\nfunction entryPointToSafeModules(entryPoint) {\n    const moduleVersionToEntryPoint = {\n        [constants_1.ENTRYPOINT_ADDRESS_V06]: EQ_0_2_0,\n        [constants_1.ENTRYPOINT_ADDRESS_V07]: exports.EQ_OR_GT_0_3_0\n    };\n    return moduleVersionToEntryPoint[entryPoint];\n}\nexports.entryPointToSafeModules = entryPointToSafeModules;\nfunction isEntryPointV6(address) {\n    return sameString(address, constants_1.ENTRYPOINT_ADDRESS_V06);\n}\nexports.isEntryPointV6 = isEntryPointV6;\n//# sourceMappingURL=entrypoint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhZmUtZ2xvYmFsK3JlbGF5LWtpdEAzLjEuMF90eXBlc2NyaXB0QDUuNS4zL25vZGVfbW9kdWxlcy9Ac2FmZS1nbG9iYWwvcmVsYXkta2l0L2Rpc3Qvc3JjL3BhY2tzL3NhZmUtNDMzNy91dGlscy9lbnRyeXBvaW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixHQUFHLCtCQUErQixHQUFHLGtCQUFrQixHQUFHLHNCQUFzQjtBQUN0RyxvQkFBb0IsbUJBQU8sQ0FBQyx3S0FBYztBQUMxQztBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FmZS1wYXNza2V5cy10dXRvcmlhbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FmZS1nbG9iYWwrcmVsYXkta2l0QDMuMS4wX3R5cGVzY3JpcHRANS41LjMvbm9kZV9tb2R1bGVzL0BzYWZlLWdsb2JhbC9yZWxheS1raXQvZGlzdC9zcmMvcGFja3Mvc2FmZS00MzM3L3V0aWxzL2VudHJ5cG9pbnQuanM/MzNiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNFbnRyeVBvaW50VjYgPSBleHBvcnRzLmVudHJ5UG9pbnRUb1NhZmVNb2R1bGVzID0gZXhwb3J0cy5zYW1lU3RyaW5nID0gZXhwb3J0cy5FUV9PUl9HVF8wXzNfMCA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL2NvbnN0YW50c1wiKTtcbmNvbnN0IEVRXzBfMl8wID0gJzAuMi4wJztcbmV4cG9ydHMuRVFfT1JfR1RfMF8zXzAgPSAnPj0wLjMuMCc7XG5mdW5jdGlvbiBzYW1lU3RyaW5nKHN0cjEsIHN0cjIpIHtcbiAgICByZXR1cm4gc3RyMS50b0xvd2VyQ2FzZSgpID09PSBzdHIyLnRvTG93ZXJDYXNlKCk7XG59XG5leHBvcnRzLnNhbWVTdHJpbmcgPSBzYW1lU3RyaW5nO1xuZnVuY3Rpb24gZW50cnlQb2ludFRvU2FmZU1vZHVsZXMoZW50cnlQb2ludCkge1xuICAgIGNvbnN0IG1vZHVsZVZlcnNpb25Ub0VudHJ5UG9pbnQgPSB7XG4gICAgICAgIFtjb25zdGFudHNfMS5FTlRSWVBPSU5UX0FERFJFU1NfVjA2XTogRVFfMF8yXzAsXG4gICAgICAgIFtjb25zdGFudHNfMS5FTlRSWVBPSU5UX0FERFJFU1NfVjA3XTogZXhwb3J0cy5FUV9PUl9HVF8wXzNfMFxuICAgIH07XG4gICAgcmV0dXJuIG1vZHVsZVZlcnNpb25Ub0VudHJ5UG9pbnRbZW50cnlQb2ludF07XG59XG5leHBvcnRzLmVudHJ5UG9pbnRUb1NhZmVNb2R1bGVzID0gZW50cnlQb2ludFRvU2FmZU1vZHVsZXM7XG5mdW5jdGlvbiBpc0VudHJ5UG9pbnRWNihhZGRyZXNzKSB7XG4gICAgcmV0dXJuIHNhbWVTdHJpbmcoYWRkcmVzcywgY29uc3RhbnRzXzEuRU5UUllQT0lOVF9BRERSRVNTX1YwNik7XG59XG5leHBvcnRzLmlzRW50cnlQb2ludFY2ID0gaXNFbnRyeVBvaW50VjY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnRyeXBvaW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@safe-global+relay-kit@3.1.0_typescript@5.5.3/node_modules/@safe-global/relay-kit/dist/src/packs/safe-4337/utils/entrypoint.js\n");

/***/ })

};
;